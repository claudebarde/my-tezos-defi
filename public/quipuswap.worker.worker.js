/*! For license information please see quipuswap.worker.worker.js.LICENSE.txt */
(()=>{var t={7290:function(t,e,r){var n;!function(i){"use strict";var o,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,u=Math.floor,c="[BigNumber Error] ",l=c+"Number primitive has more than 15 significant digits: ",h=1e14,f=14,p=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,y=1e9;function v(t){var e=0|t;return t>0||t===e?e:e-1}function m(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=f-e.length;r--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function b(t,e){var r,n,i=t.c,o=e.c,s=t.s,a=e.s,u=t.e,c=e.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=u==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=o.length)?u:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return u==c?0:u>c^r?1:-1}function w(t,e,r,n){if(t<e||t>r||t!==u(t))throw Error(c+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function _(t){var e=t.c.length-1;return v(t.e/f)==e&&t.c[e]%2!=0}function E(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function O(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}(o=function t(e){var r,n,i,o,A,S,T,x,N,P,R=V.prototype={constructor:V,toString:null,valueOf:null},I=new V(1),k=20,L=4,C=-7,D=21,U=-1e7,M=1e7,j=!1,B=1,H=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},G="0123456789abcdefghijklmnopqrstuvwxyz";function V(t,e){var r,o,a,c,h,d,g,y,v=this;if(!(v instanceof V))return new V(t,e);if(null==e){if(t&&!0===t._isBigNumber)return v.s=t.s,void(!t.c||t.e>M?v.c=v.e=null:t.e<U?v.c=[v.e=0]:(v.e=t.e,v.c=t.c.slice()));if((d="number"==typeof t)&&0*t==0){if(v.s=1/t<0?(t=-t,-1):1,t===~~t){for(c=0,h=t;h>=10;h/=10,c++);return void(c>M?v.c=v.e=null:(v.e=c,v.c=[t]))}y=String(t)}else{if(!s.test(y=String(t)))return i(v,y,d);v.s=45==y.charCodeAt(0)?(y=y.slice(1),-1):1}(c=y.indexOf("."))>-1&&(y=y.replace(".","")),(h=y.search(/e/i))>0?(c<0&&(c=h),c+=+y.slice(h+1),y=y.substring(0,h)):c<0&&(c=y.length)}else{if(w(e,2,G.length,"Base"),10==e)return W(v=new V(t),k+v.e+1,L);if(y=String(t),d="number"==typeof t){if(0*t!=0)return i(v,y,d,e);if(v.s=1/t<0?(y=y.slice(1),-1):1,V.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(l+t)}else v.s=45===y.charCodeAt(0)?(y=y.slice(1),-1):1;for(r=G.slice(0,e),c=h=0,g=y.length;h<g;h++)if(r.indexOf(o=y.charAt(h))<0){if("."==o){if(h>c){c=g;continue}}else if(!a&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){a=!0,h=-1,c=0;continue}return i(v,String(t),d,e)}d=!1,(c=(y=n(y,e,10,v.s)).indexOf("."))>-1?y=y.replace(".",""):c=y.length}for(h=0;48===y.charCodeAt(h);h++);for(g=y.length;48===y.charCodeAt(--g););if(y=y.slice(h,++g)){if(g-=h,d&&V.DEBUG&&g>15&&(t>p||t!==u(t)))throw Error(l+v.s*t);if((c=c-h-1)>M)v.c=v.e=null;else if(c<U)v.c=[v.e=0];else{if(v.e=c,v.c=[],h=(c+1)%f,c<0&&(h+=f),h<g){for(h&&v.c.push(+y.slice(0,h)),g-=f;h<g;)v.c.push(+y.slice(h,h+=f));h=f-(y=y.slice(h)).length}else h-=g;for(;h--;y+="0");v.c.push(+y)}}else v.c=[v.e=0]}function K(t,e,r,n){var i,o,s,a,u;if(null==r?r=L:w(r,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)u=m(t.c),u=1==n||2==n&&(s<=C||s>=D)?E(u,s):O(u,s,"0");else if(o=(t=W(new V(t),e,r)).e,a=(u=m(t.c)).length,1==n||2==n&&(e<=o||o<=C)){for(;a<e;u+="0",a++);u=E(u,o)}else if(e-=s,u=O(u,o,"0"),o+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=o-a)>0)for(o+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function q(t,e){for(var r,n=1,i=new V(t[0]);n<t.length;n++){if(!(r=new V(t[n])).s){i=r;break}e.call(i,r)&&(i=r)}return i}function z(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*f-1)>M?t.c=t.e=null:r<U?t.c=[t.e=0]:(t.e=r,t.c=e),t}function W(t,e,r,n){var i,o,s,c,l,p,g,y=t.c,v=d;if(y){t:{for(i=1,c=y[0];c>=10;c/=10,i++);if((o=e-i)<0)o+=f,s=e,g=(l=y[p=0])/v[i-s-1]%10|0;else if((p=a((o+1)/f))>=y.length){if(!n)break t;for(;y.length<=p;y.push(0));l=g=0,i=1,s=(o%=f)-f+1}else{for(l=c=y[p],i=1;c>=10;c/=10,i++);g=(s=(o%=f)-f+i)<0?0:l/v[i-s-1]%10|0}if(n=n||e<0||null!=y[p+1]||(s<0?l:l%v[i-s-1]),n=r<4?(g||n)&&(0==r||r==(t.s<0?3:2)):g>5||5==g&&(4==r||n||6==r&&(o>0?s>0?l/v[i-s]:0:y[p-1])%10&1||r==(t.s<0?8:7)),e<1||!y[0])return y.length=0,n?(e-=t.e+1,y[0]=v[(f-e%f)%f],t.e=-e||0):y[0]=t.e=0,t;if(0==o?(y.length=p,c=1,p--):(y.length=p+1,c=v[f-o],y[p]=s>0?u(l/v[i-s]%v[s])*c:0),n)for(;;){if(0==p){for(o=1,s=y[0];s>=10;s/=10,o++);for(s=y[0]+=c,c=1;s>=10;s/=10,c++);o!=c&&(t.e++,y[0]==h&&(y[0]=1));break}if(y[p]+=c,y[p]!=h)break;y[p--]=0,c=1}for(o=y.length;0===y[--o];y.pop());}t.e>M?t.c=t.e=null:t.e<U&&(t.c=[t.e=0])}return t}function Y(t){var e,r=t.e;return null===r?t.toString():(e=m(t.c),e=r<=C||r>=D?E(e,r):O(e,r,"0"),t.s<0?"-"+e:e)}return V.clone=t,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(c+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(w(r=t[e],0,y,e),k=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(w(r=t[e],0,8,e),L=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(w(r[0],-y,0,e),w(r[1],0,y,e),C=r[0],D=r[1]):(w(r,-y,y,e),C=-(D=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)w(r[0],-y,-1,e),w(r[1],1,y,e),U=r[0],M=r[1];else{if(w(r,-y,y,e),!r)throw Error(c+e+" cannot be zero: "+r);U=-(M=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(c+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw j=!r,Error(c+"crypto unavailable");j=r}else j=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(w(r=t[e],0,9,e),B=r),t.hasOwnProperty(e="POW_PRECISION")&&(w(r=t[e],0,y,e),H=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(c+e+" not an object: "+r);F=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(c+e+" invalid: "+r);G=r}}return{DECIMAL_PLACES:k,ROUNDING_MODE:L,EXPONENTIAL_AT:[C,D],RANGE:[U,M],CRYPTO:j,MODULO_MODE:B,POW_PRECISION:H,FORMAT:F,ALPHABET:G}},V.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!V.DEBUG)return!0;var e,r,n=t.c,i=t.e,o=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===o||-1===o)&&i>=-y&&i<=y&&i===u(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%f)<1&&(e+=f),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=h||r!==u(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(c+"Invalid BigNumber: "+t)},V.maximum=V.max=function(){return q(arguments,R.lt)},V.minimum=V.min=function(){return q(arguments,R.gt)},V.random=(o=9007199254740992,A=Math.random()*o&2097151?function(){return u(Math.random()*o)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,i,o,s=0,l=[],h=new V(I);if(null==t?t=k:w(t,0,y),i=a(t/f),j)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)(o=131072*e[s]+(e[s+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[s]=r[0],e[s+1]=r[1]):(l.push(o%1e14),s+=2);s=i/2}else{if(!crypto.randomBytes)throw j=!1,Error(c+"crypto unavailable");for(e=crypto.randomBytes(i*=7);s<i;)(o=281474976710656*(31&e[s])+1099511627776*e[s+1]+4294967296*e[s+2]+16777216*e[s+3]+(e[s+4]<<16)+(e[s+5]<<8)+e[s+6])>=9e15?crypto.randomBytes(7).copy(e,s):(l.push(o%1e14),s+=7);s=i/7}if(!j)for(;s<i;)(o=A())<9e15&&(l[s++]=o%1e14);for(i=l[--s],t%=f,i&&t&&(o=d[f-t],l[s]=u(i/o)*o);0===l[s];l.pop(),s--);if(s<0)l=[n=0];else{for(n=-1;0===l[0];l.splice(0,1),n-=f);for(s=1,o=l[0];o>=10;o/=10,s++);s<f&&(n-=f-s)}return h.e=n,h.c=l,h}),V.sum=function(){for(var t=1,e=arguments,r=new V(e[0]);t<e.length;)r=r.plus(e[t++]);return r},n=function(){var t="0123456789";function e(t,e,r,n){for(var i,o,s=[0],a=0,u=t.length;a<u;){for(o=s.length;o--;s[o]*=e);for(s[0]+=n.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,a){var u,c,l,h,f,p,d,g,y=n.indexOf("."),v=k,b=L;for(y>=0&&(h=H,H=0,n=n.replace(".",""),p=(g=new V(i)).pow(n.length-y),H=h,g.c=e(O(m(p.c),p.e,"0"),10,o,t),g.e=g.c.length),l=h=(d=e(n,i,o,a?(u=G,t):(u=t,G))).length;0==d[--h];d.pop());if(!d[0])return u.charAt(0);if(y<0?--l:(p.c=d,p.e=l,p.s=s,d=(p=r(p,g,v,b,o)).c,f=p.r,l=p.e),y=d[c=l+v+1],h=o/2,f=f||c<0||null!=d[c+1],f=b<4?(null!=y||f)&&(0==b||b==(p.s<0?3:2)):y>h||y==h&&(4==b||f||6==b&&1&d[c-1]||b==(p.s<0?8:7)),c<1||!d[0])n=f?O(u.charAt(1),-v,u.charAt(0)):u.charAt(0);else{if(d.length=c,f)for(--o;++d[--c]>o;)d[c]=0,c||(++l,d=[1].concat(d));for(h=d.length;!d[--h];);for(y=0,n="";y<=h;n+=u.charAt(d[y++]));n=O(n,l,u.charAt(0))}return n}}(),r=function(){function t(t,e,r){var n,i,o,s,a=0,u=t.length,c=e%g,l=e/g|0;for(t=t.slice();u--;)a=((i=c*(o=t[u]%g)+(n=l*o+(s=t[u]/g|0)*c)%g*g+a)/r|0)+(n/g|0)+l*s,t[u]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,o,s,a){var c,l,p,d,g,y,m,b,w,_,E,O,A,S,T,x,N,P=n.s==i.s?1:-1,R=n.c,I=i.c;if(!(R&&R[0]&&I&&I[0]))return new V(n.s&&i.s&&(R?!I||R[0]!=I[0]:I)?R&&0==R[0]||!I?0*P:P/0:NaN);for(w=(b=new V(P)).c=[],P=o+(l=n.e-i.e)+1,a||(a=h,l=v(n.e/f)-v(i.e/f),P=P/f|0),p=0;I[p]==(R[p]||0);p++);if(I[p]>(R[p]||0)&&l--,P<0)w.push(1),d=!0;else{for(S=R.length,x=I.length,p=0,P+=2,(g=u(a/(I[0]+1)))>1&&(I=t(I,g,a),R=t(R,g,a),x=I.length,S=R.length),A=x,E=(_=R.slice(0,x)).length;E<x;_[E++]=0);N=I.slice(),N=[0].concat(N),T=I[0],I[1]>=a/2&&T++;do{if(g=0,(c=e(I,_,x,E))<0){if(O=_[0],x!=E&&(O=O*a+(_[1]||0)),(g=u(O/T))>1)for(g>=a&&(g=a-1),m=(y=t(I,g,a)).length,E=_.length;1==e(y,_,m,E);)g--,r(y,x<m?N:I,m,a),m=y.length,c=1;else 0==g&&(c=g=1),m=(y=I.slice()).length;if(m<E&&(y=[0].concat(y)),r(_,y,E,a),E=_.length,-1==c)for(;e(I,_,x,E)<1;)g++,r(_,x<E?N:I,E,a),E=_.length}else 0===c&&(g++,_=[0]);w[p++]=g,_[0]?_[E++]=R[A]||0:(_=[R[A]],E=1)}while((A++<S||null!=_[0])&&P--);d=null!=_[0],w[0]||w.splice(0,1)}if(a==h){for(p=1,P=w[0];P>=10;P/=10,p++);W(b,o+(b.e=p+l*f-1)+1,s,d)}else b.e=l,b.r=+d;return b}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,x=/^\.([^.]+)$/,N=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,r,n){var i,o=r?e:e.replace(P,"");if(N.test(o))t.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(S,(function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e})),n&&(i=n,o=o.replace(T,"$1").replace(x,"0.$1")),e!=o))return new V(o,i);if(V.DEBUG)throw Error(c+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},R.absoluteValue=R.abs=function(){var t=new V(this);return t.s<0&&(t.s=1),t},R.comparedTo=function(t,e){return b(this,new V(t,e))},R.decimalPlaces=R.dp=function(t,e){var r,n,i,o=this;if(null!=t)return w(t,0,y),null==e?e=L:w(e,0,8),W(new V(o),t+o.e+1,e);if(!(r=o.c))return null;if(n=((i=r.length-1)-v(this.e/f))*f,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},R.dividedBy=R.div=function(t,e){return r(this,new V(t,e),k,L)},R.dividedToIntegerBy=R.idiv=function(t,e){return r(this,new V(t,e),0,1)},R.exponentiatedBy=R.pow=function(t,e){var r,n,i,o,s,l,h,p,d=this;if((t=new V(t)).c&&!t.isInteger())throw Error(c+"Exponent not an integer: "+Y(t));if(null!=e&&(e=new V(e)),s=t.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!t.c||!t.c[0])return p=new V(Math.pow(+Y(d),s?2-_(t):+Y(t))),e?p.mod(e):p;if(l=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new V(NaN);(n=!l&&d.isInteger()&&e.isInteger())&&(d=d.mod(e))}else{if(t.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||s&&d.c[1]>=24e7:d.c[0]<8e13||s&&d.c[0]<=9999975e7)))return o=d.s<0&&_(t)?-0:0,d.e>-1&&(o=1/o),new V(l?1/o:o);H&&(o=a(H/f+2))}for(s?(r=new V(.5),l&&(t.s=1),h=_(t)):h=(i=Math.abs(+Y(t)))%2,p=new V(I);;){if(h){if(!(p=p.times(d)).c)break;o?p.c.length>o&&(p.c.length=o):n&&(p=p.mod(e))}if(i){if(0===(i=u(i/2)))break;h=i%2}else if(W(t=t.times(r),t.e+1,1),t.e>14)h=_(t);else{if(0==(i=+Y(t)))break;h=i%2}d=d.times(d),o?d.c&&d.c.length>o&&(d.c.length=o):n&&(d=d.mod(e))}return n?p:(l&&(p=I.div(p)),e?p.mod(e):o?W(p,H,L,void 0):p)},R.integerValue=function(t){var e=new V(this);return null==t?t=L:w(t,0,8),W(e,e.e+1,t)},R.isEqualTo=R.eq=function(t,e){return 0===b(this,new V(t,e))},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(t,e){return b(this,new V(t,e))>0},R.isGreaterThanOrEqualTo=R.gte=function(t,e){return 1===(e=b(this,new V(t,e)))||0===e},R.isInteger=function(){return!!this.c&&v(this.e/f)>this.c.length-2},R.isLessThan=R.lt=function(t,e){return b(this,new V(t,e))<0},R.isLessThanOrEqualTo=R.lte=function(t,e){return-1===(e=b(this,new V(t,e)))||0===e},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.minus=function(t,e){var r,n,i,o,s=this,a=s.s;if(e=(t=new V(t,e)).s,!a||!e)return new V(NaN);if(a!=e)return t.s=-e,s.plus(t);var u=s.e/f,c=t.e/f,l=s.c,p=t.c;if(!u||!c){if(!l||!p)return l?(t.s=-e,t):new V(p?s:NaN);if(!l[0]||!p[0])return p[0]?(t.s=-e,t):new V(l[0]?s:3==L?-0:0)}if(u=v(u),c=v(c),l=l.slice(),a=u-c){for((o=a<0)?(a=-a,i=l):(c=u,i=p),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(o=(a=l.length)<(e=p.length))?a:e,a=e=0;e<n;e++)if(l[e]!=p[e]){o=l[e]<p[e];break}if(o&&(i=l,l=p,p=i,t.s=-t.s),(e=(n=p.length)-(r=l.length))>0)for(;e--;l[r++]=0);for(e=h-1;n>a;){if(l[--n]<p[n]){for(r=n;r&&!l[--r];l[r]=e);--l[r],l[n]+=h}l[n]-=p[n]}for(;0==l[0];l.splice(0,1),--c);return l[0]?z(t,l,c):(t.s=3==L?-1:1,t.c=[t.e=0],t)},R.modulo=R.mod=function(t,e){var n,i,o=this;return t=new V(t,e),!o.c||!t.s||t.c&&!t.c[0]?new V(NaN):!t.c||o.c&&!o.c[0]?new V(o):(9==B?(i=t.s,t.s=1,n=r(o,t,0,3),t.s=i,n.s*=i):n=r(o,t,0,B),(t=o.minus(n.times(t))).c[0]||1!=B||(t.s=o.s),t)},R.multipliedBy=R.times=function(t,e){var r,n,i,o,s,a,u,c,l,p,d,y,m,b,w,_=this,E=_.c,O=(t=new V(t,e)).c;if(!(E&&O&&E[0]&&O[0]))return!_.s||!t.s||E&&!E[0]&&!O||O&&!O[0]&&!E?t.c=t.e=t.s=null:(t.s*=_.s,E&&O?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=v(_.e/f)+v(t.e/f),t.s*=_.s,(u=E.length)<(p=O.length)&&(m=E,E=O,O=m,i=u,u=p,p=i),i=u+p,m=[];i--;m.push(0));for(b=h,w=g,i=p;--i>=0;){for(r=0,d=O[i]%w,y=O[i]/w|0,o=i+(s=u);o>i;)r=((c=d*(c=E[--s]%w)+(a=y*c+(l=E[s]/w|0)*d)%w*w+m[o]+r)/b|0)+(a/w|0)+y*l,m[o--]=c%b;m[o]=r}return r?++n:m.splice(0,1),z(t,m,n)},R.negated=function(){var t=new V(this);return t.s=-t.s||null,t},R.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new V(t,e)).s,!i||!e)return new V(NaN);if(i!=e)return t.s=-e,n.minus(t);var o=n.e/f,s=t.e/f,a=n.c,u=t.c;if(!o||!s){if(!a||!u)return new V(i/0);if(!a[0]||!u[0])return u[0]?t:new V(a[0]?n:0*i)}if(o=v(o),s=v(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/h|0,a[e]=h===a[e]?0:a[e]%h;return i&&(a=[i].concat(a),++s),z(t,a,s)},R.precision=R.sd=function(t,e){var r,n,i,o=this;if(null!=t&&t!==!!t)return w(t,1,y),null==e?e=L:w(e,0,8),W(new V(o),t,e);if(!(r=o.c))return null;if(n=(i=r.length-1)*f+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&o.e+1>n&&(n=o.e+1),n},R.shiftedBy=function(t){return w(t,-9007199254740991,p),this.times("1e"+t)},R.squareRoot=R.sqrt=function(){var t,e,n,i,o,s=this,a=s.c,u=s.s,c=s.e,l=k+4,h=new V("0.5");if(1!==u||!a||!a[0])return new V(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+Y(s)))||u==1/0?(((e=m(a)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=v((c+1)/2)-(c<0||c%2),n=new V(e=u==1/0?"5e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new V(u+""),n.c[0])for((u=(c=n.e)+l)<3&&(u=0);;)if(o=n,n=h.times(o.plus(r(s,o,l,1))),m(o.c).slice(0,u)===(e=m(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(W(n,n.e+k+2,1),t=!n.times(n).eq(s));break}if(!i&&(W(o,o.e+k+2,0),o.times(o).eq(s))){n=o;break}l+=4,u+=4,i=1}return W(n,n.e+k+1,L,t)},R.toExponential=function(t,e){return null!=t&&(w(t,0,y),t++),K(this,t,e,1)},R.toFixed=function(t,e){return null!=t&&(w(t,0,y),t=t+this.e+1),K(this,t,e)},R.toFormat=function(t,e,r){var n,i=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=F;else if("object"!=typeof r)throw Error(c+"Argument not an object: "+r);if(n=i.toFixed(t,e),i.c){var o,s=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",h=s[0],f=s[1],p=i.s<0,d=p?h.slice(1):h,g=d.length;if(u&&(o=a,a=u,u=o,g-=o),a>0&&g>0){for(o=g%a||a,h=d.substr(0,o);o<g;o+=a)h+=l+d.substr(o,a);u>0&&(h+=l+d.slice(o)),p&&(h="-"+h)}n=f?h+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):h}return(r.prefix||"")+n+(r.suffix||"")},R.toFraction=function(t){var e,n,i,o,s,a,u,l,h,p,g,y,v=this,b=v.c;if(null!=t&&(!(u=new V(t)).isInteger()&&(u.c||1!==u.s)||u.lt(I)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+Y(u));if(!b)return new V(v);for(e=new V(I),h=n=new V(I),i=l=new V(I),y=m(b),s=e.e=y.length-v.e-1,e.c[0]=d[(a=s%f)<0?f+a:a],t=!t||u.comparedTo(e)>0?s>0?e:h:u,a=M,M=1/0,u=new V(y),l.c[0]=0;p=r(u,e,0,1),1!=(o=n.plus(p.times(i))).comparedTo(t);)n=i,i=o,h=l.plus(p.times(o=h)),l=o,e=u.minus(p.times(o=e)),u=o;return o=r(t.minus(n),i,0,1),l=l.plus(o.times(h)),n=n.plus(o.times(i)),l.s=h.s=v.s,g=r(h,i,s*=2,L).minus(v).abs().comparedTo(r(l,n,s,L).minus(v).abs())<1?[h,i]:[l,n],M=a,g},R.toNumber=function(){return+Y(this)},R.toPrecision=function(t,e){return null!=t&&w(t,1,y),K(this,t,e,2)},R.toString=function(t){var e,r=this,i=r.s,o=r.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=o<=C||o>=D?E(m(r.c),o):O(m(r.c),o,"0"):10===t?e=O(m((r=W(new V(r),k+o+1,L)).c),r.e,"0"):(w(t,2,G.length,"Base"),e=n(O(m(r.c),o,"0"),10,t,i,!0)),i<0&&r.c[0]&&(e="-"+e)),e},R.valueOf=R.toJSON=function(){return Y(this)},R._isBigNumber=!0,null!=e&&V.set(e),V}()).default=o.BigNumber=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},7445:function(t,e,r){var n;!function(i){"use strict";var o,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,u=Math.floor,c="[BigNumber Error] ",l=c+"Number primitive has more than 15 significant digits: ",h=1e14,f=14,p=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,y=1e9;function v(t){var e=0|t;return t>0||t===e?e:e-1}function m(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=f-e.length;r--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function b(t,e){var r,n,i=t.c,o=e.c,s=t.s,a=e.s,u=t.e,c=e.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=u==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=o.length)?u:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return u==c?0:u>c^r?1:-1}function w(t,e,r,n){if(t<e||t>r||t!==u(t))throw Error(c+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function _(t){var e=t.c.length-1;return v(t.e/f)==e&&t.c[e]%2!=0}function E(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function O(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}(o=function t(e){var r,n,i,o,A,S,T,x,N,P,R=V.prototype={constructor:V,toString:null,valueOf:null},I=new V(1),k=20,L=4,C=-7,D=21,U=-1e7,M=1e7,j=!1,B=1,H=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},G="0123456789abcdefghijklmnopqrstuvwxyz";function V(t,e){var r,o,a,c,h,d,g,y,v=this;if(!(v instanceof V))return new V(t,e);if(null==e){if(t&&!0===t._isBigNumber)return v.s=t.s,void(!t.c||t.e>M?v.c=v.e=null:t.e<U?v.c=[v.e=0]:(v.e=t.e,v.c=t.c.slice()));if((d="number"==typeof t)&&0*t==0){if(v.s=1/t<0?(t=-t,-1):1,t===~~t){for(c=0,h=t;h>=10;h/=10,c++);return void(c>M?v.c=v.e=null:(v.e=c,v.c=[t]))}y=String(t)}else{if(!s.test(y=String(t)))return i(v,y,d);v.s=45==y.charCodeAt(0)?(y=y.slice(1),-1):1}(c=y.indexOf("."))>-1&&(y=y.replace(".","")),(h=y.search(/e/i))>0?(c<0&&(c=h),c+=+y.slice(h+1),y=y.substring(0,h)):c<0&&(c=y.length)}else{if(w(e,2,G.length,"Base"),10==e)return W(v=new V(t),k+v.e+1,L);if(y=String(t),d="number"==typeof t){if(0*t!=0)return i(v,y,d,e);if(v.s=1/t<0?(y=y.slice(1),-1):1,V.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(l+t)}else v.s=45===y.charCodeAt(0)?(y=y.slice(1),-1):1;for(r=G.slice(0,e),c=h=0,g=y.length;h<g;h++)if(r.indexOf(o=y.charAt(h))<0){if("."==o){if(h>c){c=g;continue}}else if(!a&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){a=!0,h=-1,c=0;continue}return i(v,String(t),d,e)}d=!1,(c=(y=n(y,e,10,v.s)).indexOf("."))>-1?y=y.replace(".",""):c=y.length}for(h=0;48===y.charCodeAt(h);h++);for(g=y.length;48===y.charCodeAt(--g););if(y=y.slice(h,++g)){if(g-=h,d&&V.DEBUG&&g>15&&(t>p||t!==u(t)))throw Error(l+v.s*t);if((c=c-h-1)>M)v.c=v.e=null;else if(c<U)v.c=[v.e=0];else{if(v.e=c,v.c=[],h=(c+1)%f,c<0&&(h+=f),h<g){for(h&&v.c.push(+y.slice(0,h)),g-=f;h<g;)v.c.push(+y.slice(h,h+=f));h=f-(y=y.slice(h)).length}else h-=g;for(;h--;y+="0");v.c.push(+y)}}else v.c=[v.e=0]}function K(t,e,r,n){var i,o,s,a,u;if(null==r?r=L:w(r,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)u=m(t.c),u=1==n||2==n&&(s<=C||s>=D)?E(u,s):O(u,s,"0");else if(o=(t=W(new V(t),e,r)).e,a=(u=m(t.c)).length,1==n||2==n&&(e<=o||o<=C)){for(;a<e;u+="0",a++);u=E(u,o)}else if(e-=s,u=O(u,o,"0"),o+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=o-a)>0)for(o+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function q(t,e){for(var r,n=1,i=new V(t[0]);n<t.length;n++){if(!(r=new V(t[n])).s){i=r;break}e.call(i,r)&&(i=r)}return i}function z(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*f-1)>M?t.c=t.e=null:r<U?t.c=[t.e=0]:(t.e=r,t.c=e),t}function W(t,e,r,n){var i,o,s,c,l,p,g,y=t.c,v=d;if(y){t:{for(i=1,c=y[0];c>=10;c/=10,i++);if((o=e-i)<0)o+=f,s=e,g=(l=y[p=0])/v[i-s-1]%10|0;else if((p=a((o+1)/f))>=y.length){if(!n)break t;for(;y.length<=p;y.push(0));l=g=0,i=1,s=(o%=f)-f+1}else{for(l=c=y[p],i=1;c>=10;c/=10,i++);g=(s=(o%=f)-f+i)<0?0:l/v[i-s-1]%10|0}if(n=n||e<0||null!=y[p+1]||(s<0?l:l%v[i-s-1]),n=r<4?(g||n)&&(0==r||r==(t.s<0?3:2)):g>5||5==g&&(4==r||n||6==r&&(o>0?s>0?l/v[i-s]:0:y[p-1])%10&1||r==(t.s<0?8:7)),e<1||!y[0])return y.length=0,n?(e-=t.e+1,y[0]=v[(f-e%f)%f],t.e=-e||0):y[0]=t.e=0,t;if(0==o?(y.length=p,c=1,p--):(y.length=p+1,c=v[f-o],y[p]=s>0?u(l/v[i-s]%v[s])*c:0),n)for(;;){if(0==p){for(o=1,s=y[0];s>=10;s/=10,o++);for(s=y[0]+=c,c=1;s>=10;s/=10,c++);o!=c&&(t.e++,y[0]==h&&(y[0]=1));break}if(y[p]+=c,y[p]!=h)break;y[p--]=0,c=1}for(o=y.length;0===y[--o];y.pop());}t.e>M?t.c=t.e=null:t.e<U&&(t.c=[t.e=0])}return t}function Y(t){var e,r=t.e;return null===r?t.toString():(e=m(t.c),e=r<=C||r>=D?E(e,r):O(e,r,"0"),t.s<0?"-"+e:e)}return V.clone=t,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(c+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(w(r=t[e],0,y,e),k=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(w(r=t[e],0,8,e),L=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(w(r[0],-y,0,e),w(r[1],0,y,e),C=r[0],D=r[1]):(w(r,-y,y,e),C=-(D=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)w(r[0],-y,-1,e),w(r[1],1,y,e),U=r[0],M=r[1];else{if(w(r,-y,y,e),!r)throw Error(c+e+" cannot be zero: "+r);U=-(M=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(c+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw j=!r,Error(c+"crypto unavailable");j=r}else j=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(w(r=t[e],0,9,e),B=r),t.hasOwnProperty(e="POW_PRECISION")&&(w(r=t[e],0,y,e),H=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(c+e+" not an object: "+r);F=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(c+e+" invalid: "+r);G=r}}return{DECIMAL_PLACES:k,ROUNDING_MODE:L,EXPONENTIAL_AT:[C,D],RANGE:[U,M],CRYPTO:j,MODULO_MODE:B,POW_PRECISION:H,FORMAT:F,ALPHABET:G}},V.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!V.DEBUG)return!0;var e,r,n=t.c,i=t.e,o=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===o||-1===o)&&i>=-y&&i<=y&&i===u(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%f)<1&&(e+=f),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=h||r!==u(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(c+"Invalid BigNumber: "+t)},V.maximum=V.max=function(){return q(arguments,R.lt)},V.minimum=V.min=function(){return q(arguments,R.gt)},V.random=(o=9007199254740992,A=Math.random()*o&2097151?function(){return u(Math.random()*o)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,i,o,s=0,l=[],h=new V(I);if(null==t?t=k:w(t,0,y),i=a(t/f),j)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)(o=131072*e[s]+(e[s+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[s]=r[0],e[s+1]=r[1]):(l.push(o%1e14),s+=2);s=i/2}else{if(!crypto.randomBytes)throw j=!1,Error(c+"crypto unavailable");for(e=crypto.randomBytes(i*=7);s<i;)(o=281474976710656*(31&e[s])+1099511627776*e[s+1]+4294967296*e[s+2]+16777216*e[s+3]+(e[s+4]<<16)+(e[s+5]<<8)+e[s+6])>=9e15?crypto.randomBytes(7).copy(e,s):(l.push(o%1e14),s+=7);s=i/7}if(!j)for(;s<i;)(o=A())<9e15&&(l[s++]=o%1e14);for(i=l[--s],t%=f,i&&t&&(o=d[f-t],l[s]=u(i/o)*o);0===l[s];l.pop(),s--);if(s<0)l=[n=0];else{for(n=-1;0===l[0];l.splice(0,1),n-=f);for(s=1,o=l[0];o>=10;o/=10,s++);s<f&&(n-=f-s)}return h.e=n,h.c=l,h}),V.sum=function(){for(var t=1,e=arguments,r=new V(e[0]);t<e.length;)r=r.plus(e[t++]);return r},n=function(){var t="0123456789";function e(t,e,r,n){for(var i,o,s=[0],a=0,u=t.length;a<u;){for(o=s.length;o--;s[o]*=e);for(s[0]+=n.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,a){var u,c,l,h,f,p,d,g,y=n.indexOf("."),v=k,b=L;for(y>=0&&(h=H,H=0,n=n.replace(".",""),p=(g=new V(i)).pow(n.length-y),H=h,g.c=e(O(m(p.c),p.e,"0"),10,o,t),g.e=g.c.length),l=h=(d=e(n,i,o,a?(u=G,t):(u=t,G))).length;0==d[--h];d.pop());if(!d[0])return u.charAt(0);if(y<0?--l:(p.c=d,p.e=l,p.s=s,d=(p=r(p,g,v,b,o)).c,f=p.r,l=p.e),y=d[c=l+v+1],h=o/2,f=f||c<0||null!=d[c+1],f=b<4?(null!=y||f)&&(0==b||b==(p.s<0?3:2)):y>h||y==h&&(4==b||f||6==b&&1&d[c-1]||b==(p.s<0?8:7)),c<1||!d[0])n=f?O(u.charAt(1),-v,u.charAt(0)):u.charAt(0);else{if(d.length=c,f)for(--o;++d[--c]>o;)d[c]=0,c||(++l,d=[1].concat(d));for(h=d.length;!d[--h];);for(y=0,n="";y<=h;n+=u.charAt(d[y++]));n=O(n,l,u.charAt(0))}return n}}(),r=function(){function t(t,e,r){var n,i,o,s,a=0,u=t.length,c=e%g,l=e/g|0;for(t=t.slice();u--;)a=((i=c*(o=t[u]%g)+(n=l*o+(s=t[u]/g|0)*c)%g*g+a)/r|0)+(n/g|0)+l*s,t[u]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,o,s,a){var c,l,p,d,g,y,m,b,w,_,E,O,A,S,T,x,N,P=n.s==i.s?1:-1,R=n.c,I=i.c;if(!(R&&R[0]&&I&&I[0]))return new V(n.s&&i.s&&(R?!I||R[0]!=I[0]:I)?R&&0==R[0]||!I?0*P:P/0:NaN);for(w=(b=new V(P)).c=[],P=o+(l=n.e-i.e)+1,a||(a=h,l=v(n.e/f)-v(i.e/f),P=P/f|0),p=0;I[p]==(R[p]||0);p++);if(I[p]>(R[p]||0)&&l--,P<0)w.push(1),d=!0;else{for(S=R.length,x=I.length,p=0,P+=2,(g=u(a/(I[0]+1)))>1&&(I=t(I,g,a),R=t(R,g,a),x=I.length,S=R.length),A=x,E=(_=R.slice(0,x)).length;E<x;_[E++]=0);N=I.slice(),N=[0].concat(N),T=I[0],I[1]>=a/2&&T++;do{if(g=0,(c=e(I,_,x,E))<0){if(O=_[0],x!=E&&(O=O*a+(_[1]||0)),(g=u(O/T))>1)for(g>=a&&(g=a-1),m=(y=t(I,g,a)).length,E=_.length;1==e(y,_,m,E);)g--,r(y,x<m?N:I,m,a),m=y.length,c=1;else 0==g&&(c=g=1),m=(y=I.slice()).length;if(m<E&&(y=[0].concat(y)),r(_,y,E,a),E=_.length,-1==c)for(;e(I,_,x,E)<1;)g++,r(_,x<E?N:I,E,a),E=_.length}else 0===c&&(g++,_=[0]);w[p++]=g,_[0]?_[E++]=R[A]||0:(_=[R[A]],E=1)}while((A++<S||null!=_[0])&&P--);d=null!=_[0],w[0]||w.splice(0,1)}if(a==h){for(p=1,P=w[0];P>=10;P/=10,p++);W(b,o+(b.e=p+l*f-1)+1,s,d)}else b.e=l,b.r=+d;return b}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,x=/^\.([^.]+)$/,N=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,r,n){var i,o=r?e:e.replace(P,"");if(N.test(o))t.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(S,(function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e})),n&&(i=n,o=o.replace(T,"$1").replace(x,"0.$1")),e!=o))return new V(o,i);if(V.DEBUG)throw Error(c+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},R.absoluteValue=R.abs=function(){var t=new V(this);return t.s<0&&(t.s=1),t},R.comparedTo=function(t,e){return b(this,new V(t,e))},R.decimalPlaces=R.dp=function(t,e){var r,n,i,o=this;if(null!=t)return w(t,0,y),null==e?e=L:w(e,0,8),W(new V(o),t+o.e+1,e);if(!(r=o.c))return null;if(n=((i=r.length-1)-v(this.e/f))*f,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},R.dividedBy=R.div=function(t,e){return r(this,new V(t,e),k,L)},R.dividedToIntegerBy=R.idiv=function(t,e){return r(this,new V(t,e),0,1)},R.exponentiatedBy=R.pow=function(t,e){var r,n,i,o,s,l,h,p,d=this;if((t=new V(t)).c&&!t.isInteger())throw Error(c+"Exponent not an integer: "+Y(t));if(null!=e&&(e=new V(e)),s=t.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!t.c||!t.c[0])return p=new V(Math.pow(+Y(d),s?2-_(t):+Y(t))),e?p.mod(e):p;if(l=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new V(NaN);(n=!l&&d.isInteger()&&e.isInteger())&&(d=d.mod(e))}else{if(t.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||s&&d.c[1]>=24e7:d.c[0]<8e13||s&&d.c[0]<=9999975e7)))return o=d.s<0&&_(t)?-0:0,d.e>-1&&(o=1/o),new V(l?1/o:o);H&&(o=a(H/f+2))}for(s?(r=new V(.5),l&&(t.s=1),h=_(t)):h=(i=Math.abs(+Y(t)))%2,p=new V(I);;){if(h){if(!(p=p.times(d)).c)break;o?p.c.length>o&&(p.c.length=o):n&&(p=p.mod(e))}if(i){if(0===(i=u(i/2)))break;h=i%2}else if(W(t=t.times(r),t.e+1,1),t.e>14)h=_(t);else{if(0==(i=+Y(t)))break;h=i%2}d=d.times(d),o?d.c&&d.c.length>o&&(d.c.length=o):n&&(d=d.mod(e))}return n?p:(l&&(p=I.div(p)),e?p.mod(e):o?W(p,H,L,void 0):p)},R.integerValue=function(t){var e=new V(this);return null==t?t=L:w(t,0,8),W(e,e.e+1,t)},R.isEqualTo=R.eq=function(t,e){return 0===b(this,new V(t,e))},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(t,e){return b(this,new V(t,e))>0},R.isGreaterThanOrEqualTo=R.gte=function(t,e){return 1===(e=b(this,new V(t,e)))||0===e},R.isInteger=function(){return!!this.c&&v(this.e/f)>this.c.length-2},R.isLessThan=R.lt=function(t,e){return b(this,new V(t,e))<0},R.isLessThanOrEqualTo=R.lte=function(t,e){return-1===(e=b(this,new V(t,e)))||0===e},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.minus=function(t,e){var r,n,i,o,s=this,a=s.s;if(e=(t=new V(t,e)).s,!a||!e)return new V(NaN);if(a!=e)return t.s=-e,s.plus(t);var u=s.e/f,c=t.e/f,l=s.c,p=t.c;if(!u||!c){if(!l||!p)return l?(t.s=-e,t):new V(p?s:NaN);if(!l[0]||!p[0])return p[0]?(t.s=-e,t):new V(l[0]?s:3==L?-0:0)}if(u=v(u),c=v(c),l=l.slice(),a=u-c){for((o=a<0)?(a=-a,i=l):(c=u,i=p),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(o=(a=l.length)<(e=p.length))?a:e,a=e=0;e<n;e++)if(l[e]!=p[e]){o=l[e]<p[e];break}if(o&&(i=l,l=p,p=i,t.s=-t.s),(e=(n=p.length)-(r=l.length))>0)for(;e--;l[r++]=0);for(e=h-1;n>a;){if(l[--n]<p[n]){for(r=n;r&&!l[--r];l[r]=e);--l[r],l[n]+=h}l[n]-=p[n]}for(;0==l[0];l.splice(0,1),--c);return l[0]?z(t,l,c):(t.s=3==L?-1:1,t.c=[t.e=0],t)},R.modulo=R.mod=function(t,e){var n,i,o=this;return t=new V(t,e),!o.c||!t.s||t.c&&!t.c[0]?new V(NaN):!t.c||o.c&&!o.c[0]?new V(o):(9==B?(i=t.s,t.s=1,n=r(o,t,0,3),t.s=i,n.s*=i):n=r(o,t,0,B),(t=o.minus(n.times(t))).c[0]||1!=B||(t.s=o.s),t)},R.multipliedBy=R.times=function(t,e){var r,n,i,o,s,a,u,c,l,p,d,y,m,b,w,_=this,E=_.c,O=(t=new V(t,e)).c;if(!(E&&O&&E[0]&&O[0]))return!_.s||!t.s||E&&!E[0]&&!O||O&&!O[0]&&!E?t.c=t.e=t.s=null:(t.s*=_.s,E&&O?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=v(_.e/f)+v(t.e/f),t.s*=_.s,(u=E.length)<(p=O.length)&&(m=E,E=O,O=m,i=u,u=p,p=i),i=u+p,m=[];i--;m.push(0));for(b=h,w=g,i=p;--i>=0;){for(r=0,d=O[i]%w,y=O[i]/w|0,o=i+(s=u);o>i;)r=((c=d*(c=E[--s]%w)+(a=y*c+(l=E[s]/w|0)*d)%w*w+m[o]+r)/b|0)+(a/w|0)+y*l,m[o--]=c%b;m[o]=r}return r?++n:m.splice(0,1),z(t,m,n)},R.negated=function(){var t=new V(this);return t.s=-t.s||null,t},R.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new V(t,e)).s,!i||!e)return new V(NaN);if(i!=e)return t.s=-e,n.minus(t);var o=n.e/f,s=t.e/f,a=n.c,u=t.c;if(!o||!s){if(!a||!u)return new V(i/0);if(!a[0]||!u[0])return u[0]?t:new V(a[0]?n:0*i)}if(o=v(o),s=v(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/h|0,a[e]=h===a[e]?0:a[e]%h;return i&&(a=[i].concat(a),++s),z(t,a,s)},R.precision=R.sd=function(t,e){var r,n,i,o=this;if(null!=t&&t!==!!t)return w(t,1,y),null==e?e=L:w(e,0,8),W(new V(o),t,e);if(!(r=o.c))return null;if(n=(i=r.length-1)*f+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&o.e+1>n&&(n=o.e+1),n},R.shiftedBy=function(t){return w(t,-9007199254740991,p),this.times("1e"+t)},R.squareRoot=R.sqrt=function(){var t,e,n,i,o,s=this,a=s.c,u=s.s,c=s.e,l=k+4,h=new V("0.5");if(1!==u||!a||!a[0])return new V(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+Y(s)))||u==1/0?(((e=m(a)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=v((c+1)/2)-(c<0||c%2),n=new V(e=u==1/0?"5e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new V(u+""),n.c[0])for((u=(c=n.e)+l)<3&&(u=0);;)if(o=n,n=h.times(o.plus(r(s,o,l,1))),m(o.c).slice(0,u)===(e=m(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(W(n,n.e+k+2,1),t=!n.times(n).eq(s));break}if(!i&&(W(o,o.e+k+2,0),o.times(o).eq(s))){n=o;break}l+=4,u+=4,i=1}return W(n,n.e+k+1,L,t)},R.toExponential=function(t,e){return null!=t&&(w(t,0,y),t++),K(this,t,e,1)},R.toFixed=function(t,e){return null!=t&&(w(t,0,y),t=t+this.e+1),K(this,t,e)},R.toFormat=function(t,e,r){var n,i=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=F;else if("object"!=typeof r)throw Error(c+"Argument not an object: "+r);if(n=i.toFixed(t,e),i.c){var o,s=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",h=s[0],f=s[1],p=i.s<0,d=p?h.slice(1):h,g=d.length;if(u&&(o=a,a=u,u=o,g-=o),a>0&&g>0){for(o=g%a||a,h=d.substr(0,o);o<g;o+=a)h+=l+d.substr(o,a);u>0&&(h+=l+d.slice(o)),p&&(h="-"+h)}n=f?h+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):h}return(r.prefix||"")+n+(r.suffix||"")},R.toFraction=function(t){var e,n,i,o,s,a,u,l,h,p,g,y,v=this,b=v.c;if(null!=t&&(!(u=new V(t)).isInteger()&&(u.c||1!==u.s)||u.lt(I)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+Y(u));if(!b)return new V(v);for(e=new V(I),h=n=new V(I),i=l=new V(I),y=m(b),s=e.e=y.length-v.e-1,e.c[0]=d[(a=s%f)<0?f+a:a],t=!t||u.comparedTo(e)>0?s>0?e:h:u,a=M,M=1/0,u=new V(y),l.c[0]=0;p=r(u,e,0,1),1!=(o=n.plus(p.times(i))).comparedTo(t);)n=i,i=o,h=l.plus(p.times(o=h)),l=o,e=u.minus(p.times(o=e)),u=o;return o=r(t.minus(n),i,0,1),l=l.plus(o.times(h)),n=n.plus(o.times(i)),l.s=h.s=v.s,g=r(h,i,s*=2,L).minus(v).abs().comparedTo(r(l,n,s,L).minus(v).abs())<1?[h,i]:[l,n],M=a,g},R.toNumber=function(){return+Y(this)},R.toPrecision=function(t,e){return null!=t&&w(t,1,y),K(this,t,e,2)},R.toString=function(t){var e,r=this,i=r.s,o=r.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=o<=C||o>=D?E(m(r.c),o):O(m(r.c),o,"0"):10===t?e=O(m((r=W(new V(r),k+o+1,L)).c),r.e,"0"):(w(t,2,G.length,"Base"),e=n(O(m(r.c),o,"0"),10,t,i,!0)),i<0&&r.c[0]&&(e="-"+e)),e},R.valueOf=R.toJSON=function(){return Y(this)},R._isBigNumber=!0,null!=e&&V.set(e),V}()).default=o.BigNumber=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},6916:function(t,e,r){var n;!function(i){"use strict";var o,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,u=Math.floor,c="[BigNumber Error] ",l=c+"Number primitive has more than 15 significant digits: ",h=1e14,f=14,p=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,y=1e9;function v(t){var e=0|t;return t>0||t===e?e:e-1}function m(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=f-e.length;r--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function b(t,e){var r,n,i=t.c,o=e.c,s=t.s,a=e.s,u=t.e,c=e.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=u==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=o.length)?u:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return u==c?0:u>c^r?1:-1}function w(t,e,r,n){if(t<e||t>r||t!==u(t))throw Error(c+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function _(t){var e=t.c.length-1;return v(t.e/f)==e&&t.c[e]%2!=0}function E(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function O(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}(o=function t(e){var r,n,i,o,A,S,T,x,N,P,R=V.prototype={constructor:V,toString:null,valueOf:null},I=new V(1),k=20,L=4,C=-7,D=21,U=-1e7,M=1e7,j=!1,B=1,H=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},G="0123456789abcdefghijklmnopqrstuvwxyz";function V(t,e){var r,o,a,c,h,d,g,y,v=this;if(!(v instanceof V))return new V(t,e);if(null==e){if(t&&!0===t._isBigNumber)return v.s=t.s,void(!t.c||t.e>M?v.c=v.e=null:t.e<U?v.c=[v.e=0]:(v.e=t.e,v.c=t.c.slice()));if((d="number"==typeof t)&&0*t==0){if(v.s=1/t<0?(t=-t,-1):1,t===~~t){for(c=0,h=t;h>=10;h/=10,c++);return void(c>M?v.c=v.e=null:(v.e=c,v.c=[t]))}y=String(t)}else{if(!s.test(y=String(t)))return i(v,y,d);v.s=45==y.charCodeAt(0)?(y=y.slice(1),-1):1}(c=y.indexOf("."))>-1&&(y=y.replace(".","")),(h=y.search(/e/i))>0?(c<0&&(c=h),c+=+y.slice(h+1),y=y.substring(0,h)):c<0&&(c=y.length)}else{if(w(e,2,G.length,"Base"),10==e)return W(v=new V(t),k+v.e+1,L);if(y=String(t),d="number"==typeof t){if(0*t!=0)return i(v,y,d,e);if(v.s=1/t<0?(y=y.slice(1),-1):1,V.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(l+t)}else v.s=45===y.charCodeAt(0)?(y=y.slice(1),-1):1;for(r=G.slice(0,e),c=h=0,g=y.length;h<g;h++)if(r.indexOf(o=y.charAt(h))<0){if("."==o){if(h>c){c=g;continue}}else if(!a&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){a=!0,h=-1,c=0;continue}return i(v,String(t),d,e)}d=!1,(c=(y=n(y,e,10,v.s)).indexOf("."))>-1?y=y.replace(".",""):c=y.length}for(h=0;48===y.charCodeAt(h);h++);for(g=y.length;48===y.charCodeAt(--g););if(y=y.slice(h,++g)){if(g-=h,d&&V.DEBUG&&g>15&&(t>p||t!==u(t)))throw Error(l+v.s*t);if((c=c-h-1)>M)v.c=v.e=null;else if(c<U)v.c=[v.e=0];else{if(v.e=c,v.c=[],h=(c+1)%f,c<0&&(h+=f),h<g){for(h&&v.c.push(+y.slice(0,h)),g-=f;h<g;)v.c.push(+y.slice(h,h+=f));h=f-(y=y.slice(h)).length}else h-=g;for(;h--;y+="0");v.c.push(+y)}}else v.c=[v.e=0]}function K(t,e,r,n){var i,o,s,a,u;if(null==r?r=L:w(r,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)u=m(t.c),u=1==n||2==n&&(s<=C||s>=D)?E(u,s):O(u,s,"0");else if(o=(t=W(new V(t),e,r)).e,a=(u=m(t.c)).length,1==n||2==n&&(e<=o||o<=C)){for(;a<e;u+="0",a++);u=E(u,o)}else if(e-=s,u=O(u,o,"0"),o+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=o-a)>0)for(o+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function q(t,e){for(var r,n=1,i=new V(t[0]);n<t.length;n++){if(!(r=new V(t[n])).s){i=r;break}e.call(i,r)&&(i=r)}return i}function z(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*f-1)>M?t.c=t.e=null:r<U?t.c=[t.e=0]:(t.e=r,t.c=e),t}function W(t,e,r,n){var i,o,s,c,l,p,g,y=t.c,v=d;if(y){t:{for(i=1,c=y[0];c>=10;c/=10,i++);if((o=e-i)<0)o+=f,s=e,g=(l=y[p=0])/v[i-s-1]%10|0;else if((p=a((o+1)/f))>=y.length){if(!n)break t;for(;y.length<=p;y.push(0));l=g=0,i=1,s=(o%=f)-f+1}else{for(l=c=y[p],i=1;c>=10;c/=10,i++);g=(s=(o%=f)-f+i)<0?0:l/v[i-s-1]%10|0}if(n=n||e<0||null!=y[p+1]||(s<0?l:l%v[i-s-1]),n=r<4?(g||n)&&(0==r||r==(t.s<0?3:2)):g>5||5==g&&(4==r||n||6==r&&(o>0?s>0?l/v[i-s]:0:y[p-1])%10&1||r==(t.s<0?8:7)),e<1||!y[0])return y.length=0,n?(e-=t.e+1,y[0]=v[(f-e%f)%f],t.e=-e||0):y[0]=t.e=0,t;if(0==o?(y.length=p,c=1,p--):(y.length=p+1,c=v[f-o],y[p]=s>0?u(l/v[i-s]%v[s])*c:0),n)for(;;){if(0==p){for(o=1,s=y[0];s>=10;s/=10,o++);for(s=y[0]+=c,c=1;s>=10;s/=10,c++);o!=c&&(t.e++,y[0]==h&&(y[0]=1));break}if(y[p]+=c,y[p]!=h)break;y[p--]=0,c=1}for(o=y.length;0===y[--o];y.pop());}t.e>M?t.c=t.e=null:t.e<U&&(t.c=[t.e=0])}return t}function Y(t){var e,r=t.e;return null===r?t.toString():(e=m(t.c),e=r<=C||r>=D?E(e,r):O(e,r,"0"),t.s<0?"-"+e:e)}return V.clone=t,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(c+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(w(r=t[e],0,y,e),k=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(w(r=t[e],0,8,e),L=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(w(r[0],-y,0,e),w(r[1],0,y,e),C=r[0],D=r[1]):(w(r,-y,y,e),C=-(D=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)w(r[0],-y,-1,e),w(r[1],1,y,e),U=r[0],M=r[1];else{if(w(r,-y,y,e),!r)throw Error(c+e+" cannot be zero: "+r);U=-(M=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(c+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw j=!r,Error(c+"crypto unavailable");j=r}else j=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(w(r=t[e],0,9,e),B=r),t.hasOwnProperty(e="POW_PRECISION")&&(w(r=t[e],0,y,e),H=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(c+e+" not an object: "+r);F=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(c+e+" invalid: "+r);G=r}}return{DECIMAL_PLACES:k,ROUNDING_MODE:L,EXPONENTIAL_AT:[C,D],RANGE:[U,M],CRYPTO:j,MODULO_MODE:B,POW_PRECISION:H,FORMAT:F,ALPHABET:G}},V.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!V.DEBUG)return!0;var e,r,n=t.c,i=t.e,o=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===o||-1===o)&&i>=-y&&i<=y&&i===u(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%f)<1&&(e+=f),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=h||r!==u(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(c+"Invalid BigNumber: "+t)},V.maximum=V.max=function(){return q(arguments,R.lt)},V.minimum=V.min=function(){return q(arguments,R.gt)},V.random=(o=9007199254740992,A=Math.random()*o&2097151?function(){return u(Math.random()*o)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,i,o,s=0,l=[],h=new V(I);if(null==t?t=k:w(t,0,y),i=a(t/f),j)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)(o=131072*e[s]+(e[s+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[s]=r[0],e[s+1]=r[1]):(l.push(o%1e14),s+=2);s=i/2}else{if(!crypto.randomBytes)throw j=!1,Error(c+"crypto unavailable");for(e=crypto.randomBytes(i*=7);s<i;)(o=281474976710656*(31&e[s])+1099511627776*e[s+1]+4294967296*e[s+2]+16777216*e[s+3]+(e[s+4]<<16)+(e[s+5]<<8)+e[s+6])>=9e15?crypto.randomBytes(7).copy(e,s):(l.push(o%1e14),s+=7);s=i/7}if(!j)for(;s<i;)(o=A())<9e15&&(l[s++]=o%1e14);for(i=l[--s],t%=f,i&&t&&(o=d[f-t],l[s]=u(i/o)*o);0===l[s];l.pop(),s--);if(s<0)l=[n=0];else{for(n=-1;0===l[0];l.splice(0,1),n-=f);for(s=1,o=l[0];o>=10;o/=10,s++);s<f&&(n-=f-s)}return h.e=n,h.c=l,h}),V.sum=function(){for(var t=1,e=arguments,r=new V(e[0]);t<e.length;)r=r.plus(e[t++]);return r},n=function(){var t="0123456789";function e(t,e,r,n){for(var i,o,s=[0],a=0,u=t.length;a<u;){for(o=s.length;o--;s[o]*=e);for(s[0]+=n.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,a){var u,c,l,h,f,p,d,g,y=n.indexOf("."),v=k,b=L;for(y>=0&&(h=H,H=0,n=n.replace(".",""),p=(g=new V(i)).pow(n.length-y),H=h,g.c=e(O(m(p.c),p.e,"0"),10,o,t),g.e=g.c.length),l=h=(d=e(n,i,o,a?(u=G,t):(u=t,G))).length;0==d[--h];d.pop());if(!d[0])return u.charAt(0);if(y<0?--l:(p.c=d,p.e=l,p.s=s,d=(p=r(p,g,v,b,o)).c,f=p.r,l=p.e),y=d[c=l+v+1],h=o/2,f=f||c<0||null!=d[c+1],f=b<4?(null!=y||f)&&(0==b||b==(p.s<0?3:2)):y>h||y==h&&(4==b||f||6==b&&1&d[c-1]||b==(p.s<0?8:7)),c<1||!d[0])n=f?O(u.charAt(1),-v,u.charAt(0)):u.charAt(0);else{if(d.length=c,f)for(--o;++d[--c]>o;)d[c]=0,c||(++l,d=[1].concat(d));for(h=d.length;!d[--h];);for(y=0,n="";y<=h;n+=u.charAt(d[y++]));n=O(n,l,u.charAt(0))}return n}}(),r=function(){function t(t,e,r){var n,i,o,s,a=0,u=t.length,c=e%g,l=e/g|0;for(t=t.slice();u--;)a=((i=c*(o=t[u]%g)+(n=l*o+(s=t[u]/g|0)*c)%g*g+a)/r|0)+(n/g|0)+l*s,t[u]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,o,s,a){var c,l,p,d,g,y,m,b,w,_,E,O,A,S,T,x,N,P=n.s==i.s?1:-1,R=n.c,I=i.c;if(!(R&&R[0]&&I&&I[0]))return new V(n.s&&i.s&&(R?!I||R[0]!=I[0]:I)?R&&0==R[0]||!I?0*P:P/0:NaN);for(w=(b=new V(P)).c=[],P=o+(l=n.e-i.e)+1,a||(a=h,l=v(n.e/f)-v(i.e/f),P=P/f|0),p=0;I[p]==(R[p]||0);p++);if(I[p]>(R[p]||0)&&l--,P<0)w.push(1),d=!0;else{for(S=R.length,x=I.length,p=0,P+=2,(g=u(a/(I[0]+1)))>1&&(I=t(I,g,a),R=t(R,g,a),x=I.length,S=R.length),A=x,E=(_=R.slice(0,x)).length;E<x;_[E++]=0);N=I.slice(),N=[0].concat(N),T=I[0],I[1]>=a/2&&T++;do{if(g=0,(c=e(I,_,x,E))<0){if(O=_[0],x!=E&&(O=O*a+(_[1]||0)),(g=u(O/T))>1)for(g>=a&&(g=a-1),m=(y=t(I,g,a)).length,E=_.length;1==e(y,_,m,E);)g--,r(y,x<m?N:I,m,a),m=y.length,c=1;else 0==g&&(c=g=1),m=(y=I.slice()).length;if(m<E&&(y=[0].concat(y)),r(_,y,E,a),E=_.length,-1==c)for(;e(I,_,x,E)<1;)g++,r(_,x<E?N:I,E,a),E=_.length}else 0===c&&(g++,_=[0]);w[p++]=g,_[0]?_[E++]=R[A]||0:(_=[R[A]],E=1)}while((A++<S||null!=_[0])&&P--);d=null!=_[0],w[0]||w.splice(0,1)}if(a==h){for(p=1,P=w[0];P>=10;P/=10,p++);W(b,o+(b.e=p+l*f-1)+1,s,d)}else b.e=l,b.r=+d;return b}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,x=/^\.([^.]+)$/,N=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,r,n){var i,o=r?e:e.replace(P,"");if(N.test(o))t.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(S,(function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e})),n&&(i=n,o=o.replace(T,"$1").replace(x,"0.$1")),e!=o))return new V(o,i);if(V.DEBUG)throw Error(c+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},R.absoluteValue=R.abs=function(){var t=new V(this);return t.s<0&&(t.s=1),t},R.comparedTo=function(t,e){return b(this,new V(t,e))},R.decimalPlaces=R.dp=function(t,e){var r,n,i,o=this;if(null!=t)return w(t,0,y),null==e?e=L:w(e,0,8),W(new V(o),t+o.e+1,e);if(!(r=o.c))return null;if(n=((i=r.length-1)-v(this.e/f))*f,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},R.dividedBy=R.div=function(t,e){return r(this,new V(t,e),k,L)},R.dividedToIntegerBy=R.idiv=function(t,e){return r(this,new V(t,e),0,1)},R.exponentiatedBy=R.pow=function(t,e){var r,n,i,o,s,l,h,p,d=this;if((t=new V(t)).c&&!t.isInteger())throw Error(c+"Exponent not an integer: "+Y(t));if(null!=e&&(e=new V(e)),s=t.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!t.c||!t.c[0])return p=new V(Math.pow(+Y(d),s?2-_(t):+Y(t))),e?p.mod(e):p;if(l=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new V(NaN);(n=!l&&d.isInteger()&&e.isInteger())&&(d=d.mod(e))}else{if(t.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||s&&d.c[1]>=24e7:d.c[0]<8e13||s&&d.c[0]<=9999975e7)))return o=d.s<0&&_(t)?-0:0,d.e>-1&&(o=1/o),new V(l?1/o:o);H&&(o=a(H/f+2))}for(s?(r=new V(.5),l&&(t.s=1),h=_(t)):h=(i=Math.abs(+Y(t)))%2,p=new V(I);;){if(h){if(!(p=p.times(d)).c)break;o?p.c.length>o&&(p.c.length=o):n&&(p=p.mod(e))}if(i){if(0===(i=u(i/2)))break;h=i%2}else if(W(t=t.times(r),t.e+1,1),t.e>14)h=_(t);else{if(0==(i=+Y(t)))break;h=i%2}d=d.times(d),o?d.c&&d.c.length>o&&(d.c.length=o):n&&(d=d.mod(e))}return n?p:(l&&(p=I.div(p)),e?p.mod(e):o?W(p,H,L,void 0):p)},R.integerValue=function(t){var e=new V(this);return null==t?t=L:w(t,0,8),W(e,e.e+1,t)},R.isEqualTo=R.eq=function(t,e){return 0===b(this,new V(t,e))},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(t,e){return b(this,new V(t,e))>0},R.isGreaterThanOrEqualTo=R.gte=function(t,e){return 1===(e=b(this,new V(t,e)))||0===e},R.isInteger=function(){return!!this.c&&v(this.e/f)>this.c.length-2},R.isLessThan=R.lt=function(t,e){return b(this,new V(t,e))<0},R.isLessThanOrEqualTo=R.lte=function(t,e){return-1===(e=b(this,new V(t,e)))||0===e},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.minus=function(t,e){var r,n,i,o,s=this,a=s.s;if(e=(t=new V(t,e)).s,!a||!e)return new V(NaN);if(a!=e)return t.s=-e,s.plus(t);var u=s.e/f,c=t.e/f,l=s.c,p=t.c;if(!u||!c){if(!l||!p)return l?(t.s=-e,t):new V(p?s:NaN);if(!l[0]||!p[0])return p[0]?(t.s=-e,t):new V(l[0]?s:3==L?-0:0)}if(u=v(u),c=v(c),l=l.slice(),a=u-c){for((o=a<0)?(a=-a,i=l):(c=u,i=p),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(o=(a=l.length)<(e=p.length))?a:e,a=e=0;e<n;e++)if(l[e]!=p[e]){o=l[e]<p[e];break}if(o&&(i=l,l=p,p=i,t.s=-t.s),(e=(n=p.length)-(r=l.length))>0)for(;e--;l[r++]=0);for(e=h-1;n>a;){if(l[--n]<p[n]){for(r=n;r&&!l[--r];l[r]=e);--l[r],l[n]+=h}l[n]-=p[n]}for(;0==l[0];l.splice(0,1),--c);return l[0]?z(t,l,c):(t.s=3==L?-1:1,t.c=[t.e=0],t)},R.modulo=R.mod=function(t,e){var n,i,o=this;return t=new V(t,e),!o.c||!t.s||t.c&&!t.c[0]?new V(NaN):!t.c||o.c&&!o.c[0]?new V(o):(9==B?(i=t.s,t.s=1,n=r(o,t,0,3),t.s=i,n.s*=i):n=r(o,t,0,B),(t=o.minus(n.times(t))).c[0]||1!=B||(t.s=o.s),t)},R.multipliedBy=R.times=function(t,e){var r,n,i,o,s,a,u,c,l,p,d,y,m,b,w,_=this,E=_.c,O=(t=new V(t,e)).c;if(!(E&&O&&E[0]&&O[0]))return!_.s||!t.s||E&&!E[0]&&!O||O&&!O[0]&&!E?t.c=t.e=t.s=null:(t.s*=_.s,E&&O?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=v(_.e/f)+v(t.e/f),t.s*=_.s,(u=E.length)<(p=O.length)&&(m=E,E=O,O=m,i=u,u=p,p=i),i=u+p,m=[];i--;m.push(0));for(b=h,w=g,i=p;--i>=0;){for(r=0,d=O[i]%w,y=O[i]/w|0,o=i+(s=u);o>i;)r=((c=d*(c=E[--s]%w)+(a=y*c+(l=E[s]/w|0)*d)%w*w+m[o]+r)/b|0)+(a/w|0)+y*l,m[o--]=c%b;m[o]=r}return r?++n:m.splice(0,1),z(t,m,n)},R.negated=function(){var t=new V(this);return t.s=-t.s||null,t},R.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new V(t,e)).s,!i||!e)return new V(NaN);if(i!=e)return t.s=-e,n.minus(t);var o=n.e/f,s=t.e/f,a=n.c,u=t.c;if(!o||!s){if(!a||!u)return new V(i/0);if(!a[0]||!u[0])return u[0]?t:new V(a[0]?n:0*i)}if(o=v(o),s=v(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/h|0,a[e]=h===a[e]?0:a[e]%h;return i&&(a=[i].concat(a),++s),z(t,a,s)},R.precision=R.sd=function(t,e){var r,n,i,o=this;if(null!=t&&t!==!!t)return w(t,1,y),null==e?e=L:w(e,0,8),W(new V(o),t,e);if(!(r=o.c))return null;if(n=(i=r.length-1)*f+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&o.e+1>n&&(n=o.e+1),n},R.shiftedBy=function(t){return w(t,-9007199254740991,p),this.times("1e"+t)},R.squareRoot=R.sqrt=function(){var t,e,n,i,o,s=this,a=s.c,u=s.s,c=s.e,l=k+4,h=new V("0.5");if(1!==u||!a||!a[0])return new V(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+Y(s)))||u==1/0?(((e=m(a)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=v((c+1)/2)-(c<0||c%2),n=new V(e=u==1/0?"5e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new V(u+""),n.c[0])for((u=(c=n.e)+l)<3&&(u=0);;)if(o=n,n=h.times(o.plus(r(s,o,l,1))),m(o.c).slice(0,u)===(e=m(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(W(n,n.e+k+2,1),t=!n.times(n).eq(s));break}if(!i&&(W(o,o.e+k+2,0),o.times(o).eq(s))){n=o;break}l+=4,u+=4,i=1}return W(n,n.e+k+1,L,t)},R.toExponential=function(t,e){return null!=t&&(w(t,0,y),t++),K(this,t,e,1)},R.toFixed=function(t,e){return null!=t&&(w(t,0,y),t=t+this.e+1),K(this,t,e)},R.toFormat=function(t,e,r){var n,i=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=F;else if("object"!=typeof r)throw Error(c+"Argument not an object: "+r);if(n=i.toFixed(t,e),i.c){var o,s=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",h=s[0],f=s[1],p=i.s<0,d=p?h.slice(1):h,g=d.length;if(u&&(o=a,a=u,u=o,g-=o),a>0&&g>0){for(o=g%a||a,h=d.substr(0,o);o<g;o+=a)h+=l+d.substr(o,a);u>0&&(h+=l+d.slice(o)),p&&(h="-"+h)}n=f?h+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):h}return(r.prefix||"")+n+(r.suffix||"")},R.toFraction=function(t){var e,n,i,o,s,a,u,l,h,p,g,y,v=this,b=v.c;if(null!=t&&(!(u=new V(t)).isInteger()&&(u.c||1!==u.s)||u.lt(I)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+Y(u));if(!b)return new V(v);for(e=new V(I),h=n=new V(I),i=l=new V(I),y=m(b),s=e.e=y.length-v.e-1,e.c[0]=d[(a=s%f)<0?f+a:a],t=!t||u.comparedTo(e)>0?s>0?e:h:u,a=M,M=1/0,u=new V(y),l.c[0]=0;p=r(u,e,0,1),1!=(o=n.plus(p.times(i))).comparedTo(t);)n=i,i=o,h=l.plus(p.times(o=h)),l=o,e=u.minus(p.times(o=e)),u=o;return o=r(t.minus(n),i,0,1),l=l.plus(o.times(h)),n=n.plus(o.times(i)),l.s=h.s=v.s,g=r(h,i,s*=2,L).minus(v).abs().comparedTo(r(l,n,s,L).minus(v).abs())<1?[h,i]:[l,n],M=a,g},R.toNumber=function(){return+Y(this)},R.toPrecision=function(t,e){return null!=t&&w(t,1,y),K(this,t,e,2)},R.toString=function(t){var e,r=this,i=r.s,o=r.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=o<=C||o>=D?E(m(r.c),o):O(m(r.c),o,"0"):10===t?e=O(m((r=W(new V(r),k+o+1,L)).c),r.e,"0"):(w(t,2,G.length,"Base"),e=n(O(m(r.c),o,"0"),10,t,i,!0)),i<0&&r.c[0]&&(e="-"+e)),e},R.valueOf=R.toJSON=function(){return Y(this)},R._isBigNumber=!0,null!=e&&V.set(e),V}()).default=o.BigNumber=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},9858:function(t,e,r){var n;!function(i){"use strict";var o,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,u=Math.floor,c="[BigNumber Error] ",l=c+"Number primitive has more than 15 significant digits: ",h=1e14,f=14,p=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,y=1e9;function v(t){var e=0|t;return t>0||t===e?e:e-1}function m(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=f-e.length;r--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function b(t,e){var r,n,i=t.c,o=e.c,s=t.s,a=e.s,u=t.e,c=e.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=u==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=o.length)?u:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return u==c?0:u>c^r?1:-1}function w(t,e,r,n){if(t<e||t>r||t!==u(t))throw Error(c+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function _(t){var e=t.c.length-1;return v(t.e/f)==e&&t.c[e]%2!=0}function E(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function O(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}(o=function t(e){var r,n,i,o,A,S,T,x,N,P,R=V.prototype={constructor:V,toString:null,valueOf:null},I=new V(1),k=20,L=4,C=-7,D=21,U=-1e7,M=1e7,j=!1,B=1,H=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},G="0123456789abcdefghijklmnopqrstuvwxyz";function V(t,e){var r,o,a,c,h,d,g,y,v=this;if(!(v instanceof V))return new V(t,e);if(null==e){if(t&&!0===t._isBigNumber)return v.s=t.s,void(!t.c||t.e>M?v.c=v.e=null:t.e<U?v.c=[v.e=0]:(v.e=t.e,v.c=t.c.slice()));if((d="number"==typeof t)&&0*t==0){if(v.s=1/t<0?(t=-t,-1):1,t===~~t){for(c=0,h=t;h>=10;h/=10,c++);return void(c>M?v.c=v.e=null:(v.e=c,v.c=[t]))}y=String(t)}else{if(!s.test(y=String(t)))return i(v,y,d);v.s=45==y.charCodeAt(0)?(y=y.slice(1),-1):1}(c=y.indexOf("."))>-1&&(y=y.replace(".","")),(h=y.search(/e/i))>0?(c<0&&(c=h),c+=+y.slice(h+1),y=y.substring(0,h)):c<0&&(c=y.length)}else{if(w(e,2,G.length,"Base"),10==e)return W(v=new V(t),k+v.e+1,L);if(y=String(t),d="number"==typeof t){if(0*t!=0)return i(v,y,d,e);if(v.s=1/t<0?(y=y.slice(1),-1):1,V.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(l+t)}else v.s=45===y.charCodeAt(0)?(y=y.slice(1),-1):1;for(r=G.slice(0,e),c=h=0,g=y.length;h<g;h++)if(r.indexOf(o=y.charAt(h))<0){if("."==o){if(h>c){c=g;continue}}else if(!a&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){a=!0,h=-1,c=0;continue}return i(v,String(t),d,e)}d=!1,(c=(y=n(y,e,10,v.s)).indexOf("."))>-1?y=y.replace(".",""):c=y.length}for(h=0;48===y.charCodeAt(h);h++);for(g=y.length;48===y.charCodeAt(--g););if(y=y.slice(h,++g)){if(g-=h,d&&V.DEBUG&&g>15&&(t>p||t!==u(t)))throw Error(l+v.s*t);if((c=c-h-1)>M)v.c=v.e=null;else if(c<U)v.c=[v.e=0];else{if(v.e=c,v.c=[],h=(c+1)%f,c<0&&(h+=f),h<g){for(h&&v.c.push(+y.slice(0,h)),g-=f;h<g;)v.c.push(+y.slice(h,h+=f));h=f-(y=y.slice(h)).length}else h-=g;for(;h--;y+="0");v.c.push(+y)}}else v.c=[v.e=0]}function K(t,e,r,n){var i,o,s,a,u;if(null==r?r=L:w(r,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)u=m(t.c),u=1==n||2==n&&(s<=C||s>=D)?E(u,s):O(u,s,"0");else if(o=(t=W(new V(t),e,r)).e,a=(u=m(t.c)).length,1==n||2==n&&(e<=o||o<=C)){for(;a<e;u+="0",a++);u=E(u,o)}else if(e-=s,u=O(u,o,"0"),o+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=o-a)>0)for(o+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function q(t,e){for(var r,n=1,i=new V(t[0]);n<t.length;n++){if(!(r=new V(t[n])).s){i=r;break}e.call(i,r)&&(i=r)}return i}function z(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*f-1)>M?t.c=t.e=null:r<U?t.c=[t.e=0]:(t.e=r,t.c=e),t}function W(t,e,r,n){var i,o,s,c,l,p,g,y=t.c,v=d;if(y){t:{for(i=1,c=y[0];c>=10;c/=10,i++);if((o=e-i)<0)o+=f,s=e,g=(l=y[p=0])/v[i-s-1]%10|0;else if((p=a((o+1)/f))>=y.length){if(!n)break t;for(;y.length<=p;y.push(0));l=g=0,i=1,s=(o%=f)-f+1}else{for(l=c=y[p],i=1;c>=10;c/=10,i++);g=(s=(o%=f)-f+i)<0?0:l/v[i-s-1]%10|0}if(n=n||e<0||null!=y[p+1]||(s<0?l:l%v[i-s-1]),n=r<4?(g||n)&&(0==r||r==(t.s<0?3:2)):g>5||5==g&&(4==r||n||6==r&&(o>0?s>0?l/v[i-s]:0:y[p-1])%10&1||r==(t.s<0?8:7)),e<1||!y[0])return y.length=0,n?(e-=t.e+1,y[0]=v[(f-e%f)%f],t.e=-e||0):y[0]=t.e=0,t;if(0==o?(y.length=p,c=1,p--):(y.length=p+1,c=v[f-o],y[p]=s>0?u(l/v[i-s]%v[s])*c:0),n)for(;;){if(0==p){for(o=1,s=y[0];s>=10;s/=10,o++);for(s=y[0]+=c,c=1;s>=10;s/=10,c++);o!=c&&(t.e++,y[0]==h&&(y[0]=1));break}if(y[p]+=c,y[p]!=h)break;y[p--]=0,c=1}for(o=y.length;0===y[--o];y.pop());}t.e>M?t.c=t.e=null:t.e<U&&(t.c=[t.e=0])}return t}function Y(t){var e,r=t.e;return null===r?t.toString():(e=m(t.c),e=r<=C||r>=D?E(e,r):O(e,r,"0"),t.s<0?"-"+e:e)}return V.clone=t,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(c+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(w(r=t[e],0,y,e),k=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(w(r=t[e],0,8,e),L=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(w(r[0],-y,0,e),w(r[1],0,y,e),C=r[0],D=r[1]):(w(r,-y,y,e),C=-(D=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)w(r[0],-y,-1,e),w(r[1],1,y,e),U=r[0],M=r[1];else{if(w(r,-y,y,e),!r)throw Error(c+e+" cannot be zero: "+r);U=-(M=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(c+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw j=!r,Error(c+"crypto unavailable");j=r}else j=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(w(r=t[e],0,9,e),B=r),t.hasOwnProperty(e="POW_PRECISION")&&(w(r=t[e],0,y,e),H=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(c+e+" not an object: "+r);F=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(c+e+" invalid: "+r);G=r}}return{DECIMAL_PLACES:k,ROUNDING_MODE:L,EXPONENTIAL_AT:[C,D],RANGE:[U,M],CRYPTO:j,MODULO_MODE:B,POW_PRECISION:H,FORMAT:F,ALPHABET:G}},V.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!V.DEBUG)return!0;var e,r,n=t.c,i=t.e,o=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===o||-1===o)&&i>=-y&&i<=y&&i===u(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%f)<1&&(e+=f),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=h||r!==u(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(c+"Invalid BigNumber: "+t)},V.maximum=V.max=function(){return q(arguments,R.lt)},V.minimum=V.min=function(){return q(arguments,R.gt)},V.random=(o=9007199254740992,A=Math.random()*o&2097151?function(){return u(Math.random()*o)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,i,o,s=0,l=[],h=new V(I);if(null==t?t=k:w(t,0,y),i=a(t/f),j)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)(o=131072*e[s]+(e[s+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[s]=r[0],e[s+1]=r[1]):(l.push(o%1e14),s+=2);s=i/2}else{if(!crypto.randomBytes)throw j=!1,Error(c+"crypto unavailable");for(e=crypto.randomBytes(i*=7);s<i;)(o=281474976710656*(31&e[s])+1099511627776*e[s+1]+4294967296*e[s+2]+16777216*e[s+3]+(e[s+4]<<16)+(e[s+5]<<8)+e[s+6])>=9e15?crypto.randomBytes(7).copy(e,s):(l.push(o%1e14),s+=7);s=i/7}if(!j)for(;s<i;)(o=A())<9e15&&(l[s++]=o%1e14);for(i=l[--s],t%=f,i&&t&&(o=d[f-t],l[s]=u(i/o)*o);0===l[s];l.pop(),s--);if(s<0)l=[n=0];else{for(n=-1;0===l[0];l.splice(0,1),n-=f);for(s=1,o=l[0];o>=10;o/=10,s++);s<f&&(n-=f-s)}return h.e=n,h.c=l,h}),V.sum=function(){for(var t=1,e=arguments,r=new V(e[0]);t<e.length;)r=r.plus(e[t++]);return r},n=function(){var t="0123456789";function e(t,e,r,n){for(var i,o,s=[0],a=0,u=t.length;a<u;){for(o=s.length;o--;s[o]*=e);for(s[0]+=n.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,a){var u,c,l,h,f,p,d,g,y=n.indexOf("."),v=k,b=L;for(y>=0&&(h=H,H=0,n=n.replace(".",""),p=(g=new V(i)).pow(n.length-y),H=h,g.c=e(O(m(p.c),p.e,"0"),10,o,t),g.e=g.c.length),l=h=(d=e(n,i,o,a?(u=G,t):(u=t,G))).length;0==d[--h];d.pop());if(!d[0])return u.charAt(0);if(y<0?--l:(p.c=d,p.e=l,p.s=s,d=(p=r(p,g,v,b,o)).c,f=p.r,l=p.e),y=d[c=l+v+1],h=o/2,f=f||c<0||null!=d[c+1],f=b<4?(null!=y||f)&&(0==b||b==(p.s<0?3:2)):y>h||y==h&&(4==b||f||6==b&&1&d[c-1]||b==(p.s<0?8:7)),c<1||!d[0])n=f?O(u.charAt(1),-v,u.charAt(0)):u.charAt(0);else{if(d.length=c,f)for(--o;++d[--c]>o;)d[c]=0,c||(++l,d=[1].concat(d));for(h=d.length;!d[--h];);for(y=0,n="";y<=h;n+=u.charAt(d[y++]));n=O(n,l,u.charAt(0))}return n}}(),r=function(){function t(t,e,r){var n,i,o,s,a=0,u=t.length,c=e%g,l=e/g|0;for(t=t.slice();u--;)a=((i=c*(o=t[u]%g)+(n=l*o+(s=t[u]/g|0)*c)%g*g+a)/r|0)+(n/g|0)+l*s,t[u]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,o,s,a){var c,l,p,d,g,y,m,b,w,_,E,O,A,S,T,x,N,P=n.s==i.s?1:-1,R=n.c,I=i.c;if(!(R&&R[0]&&I&&I[0]))return new V(n.s&&i.s&&(R?!I||R[0]!=I[0]:I)?R&&0==R[0]||!I?0*P:P/0:NaN);for(w=(b=new V(P)).c=[],P=o+(l=n.e-i.e)+1,a||(a=h,l=v(n.e/f)-v(i.e/f),P=P/f|0),p=0;I[p]==(R[p]||0);p++);if(I[p]>(R[p]||0)&&l--,P<0)w.push(1),d=!0;else{for(S=R.length,x=I.length,p=0,P+=2,(g=u(a/(I[0]+1)))>1&&(I=t(I,g,a),R=t(R,g,a),x=I.length,S=R.length),A=x,E=(_=R.slice(0,x)).length;E<x;_[E++]=0);N=I.slice(),N=[0].concat(N),T=I[0],I[1]>=a/2&&T++;do{if(g=0,(c=e(I,_,x,E))<0){if(O=_[0],x!=E&&(O=O*a+(_[1]||0)),(g=u(O/T))>1)for(g>=a&&(g=a-1),m=(y=t(I,g,a)).length,E=_.length;1==e(y,_,m,E);)g--,r(y,x<m?N:I,m,a),m=y.length,c=1;else 0==g&&(c=g=1),m=(y=I.slice()).length;if(m<E&&(y=[0].concat(y)),r(_,y,E,a),E=_.length,-1==c)for(;e(I,_,x,E)<1;)g++,r(_,x<E?N:I,E,a),E=_.length}else 0===c&&(g++,_=[0]);w[p++]=g,_[0]?_[E++]=R[A]||0:(_=[R[A]],E=1)}while((A++<S||null!=_[0])&&P--);d=null!=_[0],w[0]||w.splice(0,1)}if(a==h){for(p=1,P=w[0];P>=10;P/=10,p++);W(b,o+(b.e=p+l*f-1)+1,s,d)}else b.e=l,b.r=+d;return b}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,x=/^\.([^.]+)$/,N=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,r,n){var i,o=r?e:e.replace(P,"");if(N.test(o))t.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(S,(function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e})),n&&(i=n,o=o.replace(T,"$1").replace(x,"0.$1")),e!=o))return new V(o,i);if(V.DEBUG)throw Error(c+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},R.absoluteValue=R.abs=function(){var t=new V(this);return t.s<0&&(t.s=1),t},R.comparedTo=function(t,e){return b(this,new V(t,e))},R.decimalPlaces=R.dp=function(t,e){var r,n,i,o=this;if(null!=t)return w(t,0,y),null==e?e=L:w(e,0,8),W(new V(o),t+o.e+1,e);if(!(r=o.c))return null;if(n=((i=r.length-1)-v(this.e/f))*f,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},R.dividedBy=R.div=function(t,e){return r(this,new V(t,e),k,L)},R.dividedToIntegerBy=R.idiv=function(t,e){return r(this,new V(t,e),0,1)},R.exponentiatedBy=R.pow=function(t,e){var r,n,i,o,s,l,h,p,d=this;if((t=new V(t)).c&&!t.isInteger())throw Error(c+"Exponent not an integer: "+Y(t));if(null!=e&&(e=new V(e)),s=t.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!t.c||!t.c[0])return p=new V(Math.pow(+Y(d),s?2-_(t):+Y(t))),e?p.mod(e):p;if(l=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new V(NaN);(n=!l&&d.isInteger()&&e.isInteger())&&(d=d.mod(e))}else{if(t.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||s&&d.c[1]>=24e7:d.c[0]<8e13||s&&d.c[0]<=9999975e7)))return o=d.s<0&&_(t)?-0:0,d.e>-1&&(o=1/o),new V(l?1/o:o);H&&(o=a(H/f+2))}for(s?(r=new V(.5),l&&(t.s=1),h=_(t)):h=(i=Math.abs(+Y(t)))%2,p=new V(I);;){if(h){if(!(p=p.times(d)).c)break;o?p.c.length>o&&(p.c.length=o):n&&(p=p.mod(e))}if(i){if(0===(i=u(i/2)))break;h=i%2}else if(W(t=t.times(r),t.e+1,1),t.e>14)h=_(t);else{if(0==(i=+Y(t)))break;h=i%2}d=d.times(d),o?d.c&&d.c.length>o&&(d.c.length=o):n&&(d=d.mod(e))}return n?p:(l&&(p=I.div(p)),e?p.mod(e):o?W(p,H,L,void 0):p)},R.integerValue=function(t){var e=new V(this);return null==t?t=L:w(t,0,8),W(e,e.e+1,t)},R.isEqualTo=R.eq=function(t,e){return 0===b(this,new V(t,e))},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(t,e){return b(this,new V(t,e))>0},R.isGreaterThanOrEqualTo=R.gte=function(t,e){return 1===(e=b(this,new V(t,e)))||0===e},R.isInteger=function(){return!!this.c&&v(this.e/f)>this.c.length-2},R.isLessThan=R.lt=function(t,e){return b(this,new V(t,e))<0},R.isLessThanOrEqualTo=R.lte=function(t,e){return-1===(e=b(this,new V(t,e)))||0===e},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.minus=function(t,e){var r,n,i,o,s=this,a=s.s;if(e=(t=new V(t,e)).s,!a||!e)return new V(NaN);if(a!=e)return t.s=-e,s.plus(t);var u=s.e/f,c=t.e/f,l=s.c,p=t.c;if(!u||!c){if(!l||!p)return l?(t.s=-e,t):new V(p?s:NaN);if(!l[0]||!p[0])return p[0]?(t.s=-e,t):new V(l[0]?s:3==L?-0:0)}if(u=v(u),c=v(c),l=l.slice(),a=u-c){for((o=a<0)?(a=-a,i=l):(c=u,i=p),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(o=(a=l.length)<(e=p.length))?a:e,a=e=0;e<n;e++)if(l[e]!=p[e]){o=l[e]<p[e];break}if(o&&(i=l,l=p,p=i,t.s=-t.s),(e=(n=p.length)-(r=l.length))>0)for(;e--;l[r++]=0);for(e=h-1;n>a;){if(l[--n]<p[n]){for(r=n;r&&!l[--r];l[r]=e);--l[r],l[n]+=h}l[n]-=p[n]}for(;0==l[0];l.splice(0,1),--c);return l[0]?z(t,l,c):(t.s=3==L?-1:1,t.c=[t.e=0],t)},R.modulo=R.mod=function(t,e){var n,i,o=this;return t=new V(t,e),!o.c||!t.s||t.c&&!t.c[0]?new V(NaN):!t.c||o.c&&!o.c[0]?new V(o):(9==B?(i=t.s,t.s=1,n=r(o,t,0,3),t.s=i,n.s*=i):n=r(o,t,0,B),(t=o.minus(n.times(t))).c[0]||1!=B||(t.s=o.s),t)},R.multipliedBy=R.times=function(t,e){var r,n,i,o,s,a,u,c,l,p,d,y,m,b,w,_=this,E=_.c,O=(t=new V(t,e)).c;if(!(E&&O&&E[0]&&O[0]))return!_.s||!t.s||E&&!E[0]&&!O||O&&!O[0]&&!E?t.c=t.e=t.s=null:(t.s*=_.s,E&&O?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=v(_.e/f)+v(t.e/f),t.s*=_.s,(u=E.length)<(p=O.length)&&(m=E,E=O,O=m,i=u,u=p,p=i),i=u+p,m=[];i--;m.push(0));for(b=h,w=g,i=p;--i>=0;){for(r=0,d=O[i]%w,y=O[i]/w|0,o=i+(s=u);o>i;)r=((c=d*(c=E[--s]%w)+(a=y*c+(l=E[s]/w|0)*d)%w*w+m[o]+r)/b|0)+(a/w|0)+y*l,m[o--]=c%b;m[o]=r}return r?++n:m.splice(0,1),z(t,m,n)},R.negated=function(){var t=new V(this);return t.s=-t.s||null,t},R.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new V(t,e)).s,!i||!e)return new V(NaN);if(i!=e)return t.s=-e,n.minus(t);var o=n.e/f,s=t.e/f,a=n.c,u=t.c;if(!o||!s){if(!a||!u)return new V(i/0);if(!a[0]||!u[0])return u[0]?t:new V(a[0]?n:0*i)}if(o=v(o),s=v(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/h|0,a[e]=h===a[e]?0:a[e]%h;return i&&(a=[i].concat(a),++s),z(t,a,s)},R.precision=R.sd=function(t,e){var r,n,i,o=this;if(null!=t&&t!==!!t)return w(t,1,y),null==e?e=L:w(e,0,8),W(new V(o),t,e);if(!(r=o.c))return null;if(n=(i=r.length-1)*f+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&o.e+1>n&&(n=o.e+1),n},R.shiftedBy=function(t){return w(t,-9007199254740991,p),this.times("1e"+t)},R.squareRoot=R.sqrt=function(){var t,e,n,i,o,s=this,a=s.c,u=s.s,c=s.e,l=k+4,h=new V("0.5");if(1!==u||!a||!a[0])return new V(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+Y(s)))||u==1/0?(((e=m(a)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=v((c+1)/2)-(c<0||c%2),n=new V(e=u==1/0?"5e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new V(u+""),n.c[0])for((u=(c=n.e)+l)<3&&(u=0);;)if(o=n,n=h.times(o.plus(r(s,o,l,1))),m(o.c).slice(0,u)===(e=m(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(W(n,n.e+k+2,1),t=!n.times(n).eq(s));break}if(!i&&(W(o,o.e+k+2,0),o.times(o).eq(s))){n=o;break}l+=4,u+=4,i=1}return W(n,n.e+k+1,L,t)},R.toExponential=function(t,e){return null!=t&&(w(t,0,y),t++),K(this,t,e,1)},R.toFixed=function(t,e){return null!=t&&(w(t,0,y),t=t+this.e+1),K(this,t,e)},R.toFormat=function(t,e,r){var n,i=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=F;else if("object"!=typeof r)throw Error(c+"Argument not an object: "+r);if(n=i.toFixed(t,e),i.c){var o,s=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",h=s[0],f=s[1],p=i.s<0,d=p?h.slice(1):h,g=d.length;if(u&&(o=a,a=u,u=o,g-=o),a>0&&g>0){for(o=g%a||a,h=d.substr(0,o);o<g;o+=a)h+=l+d.substr(o,a);u>0&&(h+=l+d.slice(o)),p&&(h="-"+h)}n=f?h+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):h}return(r.prefix||"")+n+(r.suffix||"")},R.toFraction=function(t){var e,n,i,o,s,a,u,l,h,p,g,y,v=this,b=v.c;if(null!=t&&(!(u=new V(t)).isInteger()&&(u.c||1!==u.s)||u.lt(I)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+Y(u));if(!b)return new V(v);for(e=new V(I),h=n=new V(I),i=l=new V(I),y=m(b),s=e.e=y.length-v.e-1,e.c[0]=d[(a=s%f)<0?f+a:a],t=!t||u.comparedTo(e)>0?s>0?e:h:u,a=M,M=1/0,u=new V(y),l.c[0]=0;p=r(u,e,0,1),1!=(o=n.plus(p.times(i))).comparedTo(t);)n=i,i=o,h=l.plus(p.times(o=h)),l=o,e=u.minus(p.times(o=e)),u=o;return o=r(t.minus(n),i,0,1),l=l.plus(o.times(h)),n=n.plus(o.times(i)),l.s=h.s=v.s,g=r(h,i,s*=2,L).minus(v).abs().comparedTo(r(l,n,s,L).minus(v).abs())<1?[h,i]:[l,n],M=a,g},R.toNumber=function(){return+Y(this)},R.toPrecision=function(t,e){return null!=t&&w(t,1,y),K(this,t,e,2)},R.toString=function(t){var e,r=this,i=r.s,o=r.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=o<=C||o>=D?E(m(r.c),o):O(m(r.c),o,"0"):10===t?e=O(m((r=W(new V(r),k+o+1,L)).c),r.e,"0"):(w(t,2,G.length,"Base"),e=n(O(m(r.c),o,"0"),10,t,i,!0)),i<0&&r.c[0]&&(e="-"+e)),e},R.valueOf=R.toJSON=function(){return Y(this)},R._isBigNumber=!0,null!=e&&V.set(e),V}()).default=o.BigNumber=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},8162:(t,e,r)=>{"use strict";var n=r(9509).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw new TypeError(o+" is ambiguous");e[s]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);var r=0;if(" "!==t[r]){for(var i=0,o=0;t[r]===u;)i++,r++;for(var s=(t.length-r)*c+1>>>0,l=new Uint8Array(s);t[r];){var h=e[t.charCodeAt(r)];if(255===h)return;for(var f=0,p=s-1;(0!==h||f<o)&&-1!==p;p--,f++)h+=a*l[p]>>>0,l[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=f,r++}if(" "!==t[r]){for(var d=s-o;d!==s&&0===l[d];)d++;var g=n.allocUnsafe(i+(s-d));g.fill(0,0,i);for(var y=i;d!==s;)g[y++]=l[d++];return g}}}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,r++;for(var c=(s-o)*l+1>>>0,h=new Uint8Array(c);o!==s;){for(var f=e[o],p=0,d=c-1;(0!==f||p<i)&&-1!==d;d--,p++)f+=256*h[d]>>>0,h[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");i=p,o++}for(var g=c-i;g!==c&&0===h[g];)g++;for(var y=u.repeat(r);g<c;++g)y+=t.charAt(h[g]);return y},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=u(t),s=o[0],a=o[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,a)),l=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===a&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[l++]=255&e),1===a&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(c(t,a,a+s>u?u:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8442:(t,e,r)=>{var n=r(9488);function i(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function o(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var o=t[e+1]+n;i>=4294967296&&o++,t[e]=i,t[e+1]=o}function s(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function a(t,e,r,n,s,a){var u=h[s],c=h[s+1],f=h[a],p=h[a+1];i(l,t,e),o(l,t,u,c);var d=l[n]^l[t],g=l[n+1]^l[t+1];l[n]=g,l[n+1]=d,i(l,r,n),d=l[e]^l[r],g=l[e+1]^l[r+1],l[e]=d>>>24^g<<8,l[e+1]=g>>>24^d<<8,i(l,t,e),o(l,t,f,p),d=l[n]^l[t],g=l[n+1]^l[t+1],l[n]=d>>>16^g<<16,l[n+1]=g>>>16^d<<16,i(l,r,n),d=l[e]^l[r],g=l[e+1]^l[r+1],l[e]=g>>>31^d<<1,l[e+1]=d>>>31^g<<1}var u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(t){return 2*t}))),l=new Uint32Array(32),h=new Uint32Array(32);function f(t,e){var r=0;for(r=0;r<16;r++)l[r]=t.h[r],l[r+16]=u[r];for(l[24]=l[24]^t.t,l[25]=l[25]^t.t/4294967296,e&&(l[28]=~l[28],l[29]=~l[29]),r=0;r<32;r++)h[r]=s(t.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,c[16*r+0],c[16*r+1]),a(2,10,18,26,c[16*r+2],c[16*r+3]),a(4,12,20,28,c[16*r+4],c[16*r+5]),a(6,14,22,30,c[16*r+6],c[16*r+7]),a(0,10,20,30,c[16*r+8],c[16*r+9]),a(2,12,22,24,c[16*r+10],c[16*r+11]),a(4,14,16,26,c[16*r+12],c[16*r+13]),a(6,8,18,28,c[16*r+14],c[16*r+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^l[r]^l[r+16]}function p(t,e){if(0===t||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t},n=0;n<16;n++)r.h[n]=u[n];var i=e?e.length:0;return r.h[0]^=16842752^i<<8^t,e&&(d(r,e),r.c=128),r}function d(t,e){for(var r=0;r<e.length;r++)128===t.c&&(t.t+=t.c,f(t,!1),t.c=0),t.b[t.c++]=e[r]}function g(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;f(t,!0);for(var e=new Uint8Array(t.outlen),r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r);return e}function y(t,e,r){r=r||64,t=n.normalizeInput(t);var i=p(r,e);return d(i,t),g(i)}t.exports={blake2b:y,blake2bHex:function(t,e,r){var i=y(t,e,r);return n.toHex(i)},blake2bInit:p,blake2bUpdate:d,blake2bFinal:g}},5297:(t,e,r)=>{var n=r(9488);function i(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function o(t,e,r,n,i,o){c[t]=c[t]+c[e]+i,c[n]=s(c[n]^c[t],16),c[r]=c[r]+c[n],c[e]=s(c[e]^c[r],12),c[t]=c[t]+c[e]+o,c[n]=s(c[n]^c[t],8),c[r]=c[r]+c[n],c[e]=s(c[e]^c[r],7)}function s(t,e){return t>>>e^t<<32-e}var a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),l=new Uint32Array(16);function h(t,e){var r=0;for(r=0;r<8;r++)c[r]=t.h[r],c[r+8]=a[r];for(c[12]^=t.t,c[13]^=t.t/4294967296,e&&(c[14]=~c[14]),r=0;r<16;r++)l[r]=i(t.b,4*r);for(r=0;r<10;r++)o(0,4,8,12,l[u[16*r+0]],l[u[16*r+1]]),o(1,5,9,13,l[u[16*r+2]],l[u[16*r+3]]),o(2,6,10,14,l[u[16*r+4]],l[u[16*r+5]]),o(3,7,11,15,l[u[16*r+6]],l[u[16*r+7]]),o(0,5,10,15,l[u[16*r+8]],l[u[16*r+9]]),o(1,6,11,12,l[u[16*r+10]],l[u[16*r+11]]),o(2,7,8,13,l[u[16*r+12]],l[u[16*r+13]]),o(3,4,9,14,l[u[16*r+14]],l[u[16*r+15]]);for(r=0;r<8;r++)t.h[r]^=c[r]^c[r+8]}function f(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");var r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");var n={h:new Uint32Array(a),b:new Uint32Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(p(n,e),n.c=64),n}function p(t,e){for(var r=0;r<e.length;r++)64===t.c&&(t.t+=t.c,h(t,!1),t.c=0),t.b[t.c++]=e[r]}function d(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;h(t,!0);for(var e=new Uint8Array(t.outlen),r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r)&255;return e}function g(t,e,r){r=r||32,t=n.normalizeInput(t);var i=f(r,e);return p(i,t),d(i)}t.exports={blake2s:g,blake2sHex:function(t,e,r){var i=g(t,e,r);return n.toHex(i)},blake2sInit:f,blake2sUpdate:p,blake2sFinal:d}},1191:(t,e,r)=>{var n=r(8442),i=r(5297);t.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},9488:(t,e,r)=>{var n=r(8764).Buffer;function i(t){return(4294967296+t).toString(16).substring(1)}t.exports={normalizeInput:function(t){var e;if(t instanceof Uint8Array)e=t;else if(t instanceof n)e=new Uint8Array(t);else{if("string"!=typeof t)throw new Error("Input must be an string, Buffer or Uint8Array");e=new Uint8Array(n.from(t,"utf8"))}return e},toHex:function(t){return Array.prototype.map.call(t,(function(t){return(t<16?"0":"")+t.toString(16)})).join("")},debugPrint:function(t,e,r){for(var n="\n"+t+" = ",o=0;o<e.length;o+=2){if(32===r)n+=i(e[o]).toUpperCase(),n+=" ",n+=i(e[o+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);n+=i(e[o+1]).toUpperCase(),n+=i(e[o]).toUpperCase()}o%6==4?n+="\n"+new Array(t.length+4).join(" "):o<e.length-2&&(n+=" ")}console.log(n)},testSpeed:function(t,e,r){for(var n=(new Date).getTime(),i=new Uint8Array(e),o=0;o<e;o++)i[o]=o%256;var s=(new Date).getTime();for(console.log("Generated random input in "+(s-n)+"ms"),n=s,o=0;o<r;o++){var a=t(i),u=(new Date).getTime(),c=u-n;n=u,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}}},7191:(t,e,r)=>{var n=r(8162);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},3310:(t,e,r)=>{"use strict";var n=r(7191),i=r(9509).Buffer;t.exports=function(t){function e(e){var r=e.slice(0,-4),n=e.slice(-4),i=t(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(e){var r=t(e);return n.encode(i.concat([e,r],e.length+4))},decode:function(t){var r=e(n.decode(t));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(t){var r=n.decodeUnsafe(t);if(r)return e(r)}}}},8334:(t,e,r)=>{"use strict";var n=r(3482),i=r(3310);t.exports=i((function(t){var e=n("sha256").update(t).digest();return n("sha256").update(e).digest()}))},8764:(t,e,r)=>{"use strict";var n=r(9742),i=r(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|g(t,e),n=a(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(F(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(F(t,ArrayBuffer)||t&&F(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(F(t,SharedArrayBuffer)||t&&F(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);var i=function(t){if(u.isBuffer(t)){var e=0|d(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||G(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|d(t))}function f(t){for(var e=t.length<0?0:0|d(t.length),r=a(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||F(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(t).length;default:if(i)return n?-1:j(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return N(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function v(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),G(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){h=!1;break}if(h)return o}return-1}function w(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(G(a))return s;t[r+s]=a}return s}function _(t,e,r,n){return H(j(e,t.length-r),t,r,n)}function E(t,e,r,n){return H(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function O(t,e,r,n){return H(B(e),t,r,n)}function A(t,e,r,n){return H(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function S(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=x));return r}(n)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(F(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),F(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(F(o,Uint8Array))i+o.length>n.length?u.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(F(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(n,i),l=t.slice(e,r),h=0;h<a;++h)if(c[h]!==l[h]){o=c[h],s=l[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return O(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function N(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=V[t[o]];return i}function I(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function k(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function C(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,o){return e=+e,r>>>=0,o||C(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,o){return e=+e,r>>>=0,o||C(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||k(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||k(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||k(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||k(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||k(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||k(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||L(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||L(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=u.isBuffer(t)?t:u.from(t,n),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var M=/[^+/0-9A-Za-z-_]/g;function j(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function B(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function F(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function G(t){return t!=t}var V=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},584:t=>{t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},1027:(t,e,r)=>{var n=r(9509).Buffer,i=r(2830).Transform,o=r(2553).s;function s(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(5717)(s,i),s.prototype.update=function(t,e,r){"string"==typeof t&&(t=n.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{r(n)}},s.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},s.prototype._finalOrDigest=function(t){var e=this.__final()||n.alloc(0);return t&&(e=this._toString(e,t,!0)),e},s.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n},t.exports=s},7866:(t,e)=>{!function(){"use strict";function t(e,r,n,i){return this instanceof t?(this.domain=e||void 0,this.path=r||"/",this.secure=!!n,this.script=!!i,this):new t(e,r,n,i)}function r(t,e,n){return t instanceof r?t:this instanceof r?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(n||"/"),this.explicit_path=!1,this.domain=e||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,t&&this.parse(t,e,n),this):new r(t,e,n)}t.All=Object.freeze(Object.create(null)),e.CookieAccessInfo=t,e.Cookie=r,r.prototype.toString=function(){var t=[this.name+"="+this.value];return this.expiration_date!==1/0&&t.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&t.push("domain="+this.domain),this.path&&t.push("path="+this.path),this.secure&&t.push("secure"),this.noscript&&t.push("httponly"),t.join("; ")},r.prototype.toValueString=function(){return this.name+"="+this.value};var n=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;function i(){var t,e;return this instanceof i?(t=Object.create(null),this.setCookie=function(n,i,o){var s,a;if(s=(n=new r(n,i,o)).expiration_date<=Date.now(),void 0!==t[n.name]){for(e=t[n.name],a=0;a<e.length;a+=1)if(e[a].collidesWith(n))return s?(e.splice(a,1),0===e.length&&delete t[n.name],!1):(e[a]=n,n);return!s&&(e.push(n),n)}return!s&&(t[n.name]=[n],t[n.name])},this.getCookie=function(r,n){var i,o;if(e=t[r])for(o=0;o<e.length;o+=1)if((i=e[o]).expiration_date<=Date.now())0===e.length&&delete t[i.name];else if(i.matches(n))return i},this.getCookies=function(e){var r,n,i=[];for(r in t)(n=this.getCookie(r,e))&&i.push(n);return i.toString=function(){return i.join(":")},i.toValueString=function(){return i.map((function(t){return t.toValueString()})).join(";")},i},this):new i}r.prototype.parse=function(t,e,n){if(this instanceof r){var i,o=t.split(";").filter((function(t){return!!t})),s=o[0].match(/([^=]+)=([\s\S]*)/);if(!s)return void console.warn("Invalid cookie header encountered. Header: '"+t+"'");var a=s[1],u=s[2];if("string"!=typeof a||0===a.length||"string"!=typeof u)return void console.warn("Unable to extract values from cookie header. Cookie: '"+t+"'");for(this.name=a,this.value=u,i=1;i<o.length;i+=1)switch(a=(s=o[i].match(/([^=]+)(?:=([\s\S]*))?/))[1].trim().toLowerCase(),u=s[2],a){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=u?Number(Date.parse(u)):1/0;break;case"path":this.path=u?u.trim():"",this.explicit_path=!0;break;case"domain":this.domain=u?u.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0}return this.explicit_path||(this.path=n||"/"),this.explicit_domain||(this.domain=e),this}return(new r).parse(t,e,n)},r.prototype.matches=function(e){return e===t.All||!(this.noscript&&e.script||this.secure&&!e.secure||!this.collidesWith(e))},r.prototype.collidesWith=function(t){if(this.path&&!t.path||this.domain&&!t.domain)return!1;if(this.path&&0!==t.path.indexOf(this.path))return!1;if(this.explicit_path&&0!==t.path.indexOf(this.path))return!1;var e=t.domain&&t.domain.replace(/^[\.]/,""),r=this.domain&&this.domain.replace(/^[\.]/,"");if(r===e)return!0;if(r){if(!this.explicit_domain)return!1;var n=e.indexOf(r);return-1!==n&&n===e.length-r.length}return!0},e.CookieJar=i,i.prototype.setCookies=function(t,e,i){var o,s,a=[];for(t=(t=Array.isArray(t)?t:t.split(n)).map((function(t){return new r(t,e,i)})),o=0;o<t.length;o+=1)s=t[o],this.setCookie(s,e,i)&&a.push(s);return a}}()},3482:(t,e,r)=>{"use strict";var n=r(5717),i=r(2318),o=r(9785),s=r(9072),a=r(1027);function u(t){a.call(this,"digest"),this._hash=t}n(u,a),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new o:new u(s(t))}},7187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,r,n){var i,o,s,c;if(a(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=u(t))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,c=l,console&&console.warn&&console.warn(c)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function f(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):d(i,i.length)}function p(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function g(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)n(u,this,e);else{var c=u.length,l=d(u,c);for(r=0;r<c;++r)n(l[r],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,s;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},5035:t=>{"use strict";t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var r,n="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(r=e.cmp,function(t){return function(e,n){var i={key:e,value:t[e]},o={key:n,value:t[n]};return r(i,o)}}),o=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var r,s;if(Array.isArray(e)){for(s="[",r=0;r<e.length;r++)r&&(s+=","),s+=t(e[r])||"null";return s+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(e)-1,u=Object.keys(e).sort(i&&i(e));for(s="",r=0;r<u.length;r++){var c=u[r],l=t(e[c]);l&&(s&&(s+=","),s+=JSON.stringify(c)+":"+l)}return o.splice(a,1),"{"+s+"}"}}(t)}},3349:(t,e,r)=>{"use strict";var n=r(9509).Buffer,i=r(8473).Transform;function o(t){i.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(5717)(o,i),o.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer")}(t),this._finalized)throw new Error("Digest already called");n.isBuffer(t)||(t=n.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},9267:(t,e,r)=>{var n=r(8501),i=r(8575),o=t.exports;for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);function a(t){if("string"==typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=a(t),n.request.call(this,t,e)},o.get=function(t,e){return t=a(t),n.get.call(this,t,e)}},645:(t,e)=>{e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*g}},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},685:(t,e,r)=>{var n=r(1789),i=r(401),o=r(7667),s=r(1327),a=r(1866);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},8407:(t,e,r)=>{var n=r(7040),i=r(4125),o=r(2117),s=r(7518),a=r(4705);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},7071:(t,e,r)=>{var n=r(852)(r(5639),"Map");t.exports=n},3369:(t,e,r)=>{var n=r(4785),i=r(1285),o=r(6e3),s=r(9916),a=r(5265);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},2705:(t,e,r)=>{var n=r(5639).Symbol;t.exports=n},9932:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},4865:(t,e,r)=>{var n=r(9465),i=r(7813),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var s=t[e];o.call(t,e)&&i(s,r)&&(void 0!==r||e in t)||n(t,e,r)}},8470:(t,e,r)=>{var n=r(7813);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},9465:(t,e,r)=>{var n=r(8777);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},7786:(t,e,r)=>{var n=r(1811),i=r(327);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},4239:(t,e,r)=>{var n=r(2705),i=r(9607),o=r(2333),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},8458:(t,e,r)=>{var n=r(3560),i=r(5346),o=r(3218),s=r(346),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,f=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?f:a).test(s(t))}},611:(t,e,r)=>{var n=r(4865),i=r(1811),o=r(5776),s=r(3218),a=r(327);t.exports=function(t,e,r,u){if(!s(t))return t;for(var c=-1,l=(e=i(e,t)).length,h=l-1,f=t;null!=f&&++c<l;){var p=a(e[c]),d=r;if("__proto__"===p||"constructor"===p||"prototype"===p)return t;if(c!=h){var g=f[p];void 0===(d=u?u(g,p,f):void 0)&&(d=s(g)?g:o(e[c+1])?[]:{})}n(f,p,d),f=f[p]}return t}},531:(t,e,r)=>{var n=r(2705),i=r(9932),o=r(1469),s=r(3448),a=n?n.prototype:void 0,u=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},1811:(t,e,r)=>{var n=r(1469),i=r(5403),o=r(5514),s=r(9833);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:o(s(t))}},4429:(t,e,r)=>{var n=r(5639)["__core-js_shared__"];t.exports=n},8777:(t,e,r)=>{var n=r(852),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},1957:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},5050:(t,e,r)=>{var n=r(7019);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},852:(t,e,r)=>{var n=r(8458),i=r(7801);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},9607:(t,e,r)=>{var n=r(2705),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=s.call(t);return n&&(e?t[a]=r:delete t[a]),i}},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},1789:(t,e,r)=>{var n=r(4536);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,r)=>{var n=r(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},1327:(t,e,r)=>{var n=r(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},1866:(t,e,r)=>{var n=r(4536);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},5403:(t,e,r)=>{var n=r(1469),i=r(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,r)=>{var n,i=r(4429),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,r)=>{var n=r(8470),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():i.call(e,r,1),--this.size,0))}},2117:(t,e,r)=>{var n=r(8470);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7518:(t,e,r)=>{var n=r(8470);t.exports=function(t){return n(this.__data__,t)>-1}},4705:(t,e,r)=>{var n=r(8470);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},4785:(t,e,r)=>{var n=r(685),i=r(8407),o=r(7071);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},1285:(t,e,r)=>{var n=r(5050);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).get(t)}},9916:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).has(t)}},5265:(t,e,r)=>{var n=r(5050);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},4523:(t,e,r)=>{var n=r(8306);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},4536:(t,e,r)=>{var n=r(852)(Object,"create");t.exports=n},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5639:(t,e,r)=>{var n=r(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();t.exports=o},5514:(t,e,r)=>{var n=r(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(o,"$1"):r||t)})),e}));t.exports=s},327:(t,e,r)=>{var n=r(3448);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},7361:(t,e,r)=>{var n=r(7786);t.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},1469:t=>{var e=Array.isArray;t.exports=e},3560:(t,e,r)=>{var n=r(4239),i=r(3218);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},3448:(t,e,r)=>{var n=r(4239),i=r(7005);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},8306:(t,e,r)=>{var n=r(3369);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},6968:(t,e,r)=>{var n=r(611);t.exports=function(t,e,r){return null==t?t:n(t,e,r)}},9833:(t,e,r)=>{var n=r(531);t.exports=function(t){return null==t?"":n(t)}},2318:(t,e,r)=>{"use strict";var n=r(5717),i=r(3349),o=r(9509).Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(t,e){return t<<e|t>>>32-e}function c(t,e,r,n,i,o,s){return u(t+(e&r|~e&n)+i+o|0,s)+e|0}function l(t,e,r,n,i,o,s){return u(t+(e&n|r&~n)+i+o|0,s)+e|0}function h(t,e,r,n,i,o,s){return u(t+(e^r^n)+i+o|0,s)+e|0}function f(t,e,r,n,i,o,s){return u(t+(r^(e|~n))+i+o|0,s)+e|0}n(a,i),a.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,o=this._d;r=c(r,n,i,o,t[0],3614090360,7),o=c(o,r,n,i,t[1],3905402710,12),i=c(i,o,r,n,t[2],606105819,17),n=c(n,i,o,r,t[3],3250441966,22),r=c(r,n,i,o,t[4],4118548399,7),o=c(o,r,n,i,t[5],1200080426,12),i=c(i,o,r,n,t[6],2821735955,17),n=c(n,i,o,r,t[7],4249261313,22),r=c(r,n,i,o,t[8],1770035416,7),o=c(o,r,n,i,t[9],2336552879,12),i=c(i,o,r,n,t[10],4294925233,17),n=c(n,i,o,r,t[11],2304563134,22),r=c(r,n,i,o,t[12],1804603682,7),o=c(o,r,n,i,t[13],4254626195,12),i=c(i,o,r,n,t[14],2792965006,17),r=l(r,n=c(n,i,o,r,t[15],1236535329,22),i,o,t[1],4129170786,5),o=l(o,r,n,i,t[6],3225465664,9),i=l(i,o,r,n,t[11],643717713,14),n=l(n,i,o,r,t[0],3921069994,20),r=l(r,n,i,o,t[5],3593408605,5),o=l(o,r,n,i,t[10],38016083,9),i=l(i,o,r,n,t[15],3634488961,14),n=l(n,i,o,r,t[4],3889429448,20),r=l(r,n,i,o,t[9],568446438,5),o=l(o,r,n,i,t[14],3275163606,9),i=l(i,o,r,n,t[3],4107603335,14),n=l(n,i,o,r,t[8],1163531501,20),r=l(r,n,i,o,t[13],2850285829,5),o=l(o,r,n,i,t[2],4243563512,9),i=l(i,o,r,n,t[7],1735328473,14),r=h(r,n=l(n,i,o,r,t[12],2368359562,20),i,o,t[5],4294588738,4),o=h(o,r,n,i,t[8],2272392833,11),i=h(i,o,r,n,t[11],1839030562,16),n=h(n,i,o,r,t[14],4259657740,23),r=h(r,n,i,o,t[1],2763975236,4),o=h(o,r,n,i,t[4],1272893353,11),i=h(i,o,r,n,t[7],4139469664,16),n=h(n,i,o,r,t[10],3200236656,23),r=h(r,n,i,o,t[13],681279174,4),o=h(o,r,n,i,t[0],3936430074,11),i=h(i,o,r,n,t[3],3572445317,16),n=h(n,i,o,r,t[6],76029189,23),r=h(r,n,i,o,t[9],3654602809,4),o=h(o,r,n,i,t[12],3873151461,11),i=h(i,o,r,n,t[15],530742520,16),r=f(r,n=h(n,i,o,r,t[2],3299628645,23),i,o,t[0],4096336452,6),o=f(o,r,n,i,t[7],1126891415,10),i=f(i,o,r,n,t[14],2878612391,15),n=f(n,i,o,r,t[5],4237533241,21),r=f(r,n,i,o,t[12],1700485571,6),o=f(o,r,n,i,t[3],2399980690,10),i=f(i,o,r,n,t[10],4293915773,15),n=f(n,i,o,r,t[1],2240044497,21),r=f(r,n,i,o,t[8],1873313359,6),o=f(o,r,n,i,t[15],4264355552,10),i=f(i,o,r,n,t[6],2734768916,15),n=f(n,i,o,r,t[13],1309151649,21),r=f(r,n,i,o,t[4],4149444226,6),o=f(o,r,n,i,t[11],3174756917,10),i=f(i,o,r,n,t[2],718787259,15),n=f(n,i,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},7435:(t,e)=>{e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n",e.homedir=function(){return"/"}},2587:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(r);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=t.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var l,h,f,p,d=t[c].replace(s,"%20"),g=d.indexOf(n);g>=0?(l=d.substr(0,g),h=d.substr(g+1)):(l=d,h=""),f=decodeURIComponent(l),p=decodeURIComponent(h),e(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o}},2182:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,n,i){return r=r||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(i){var o=encodeURIComponent(e(i))+n;return Array.isArray(t[i])?t[i].map((function(t){return o+encodeURIComponent(e(t))})).join(r):o+encodeURIComponent(e(t[i]))})).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""}},7673:(t,e,r)=>{"use strict";e.decode=e.parse=r(2587),e.encode=e.stringify=r(2182)},4281:t=>{"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e,n;function i(e,n,i){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,i))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,r){var i,o,s,a,u;if("string"==typeof e&&(o="not ",e.substr(0,o.length)===o)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))s="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var c=("number"!=typeof u&&(u=0),u+".".length>(a=t).length||-1===a.indexOf(".",u)?"argument":"property");s='The "'.concat(t,'" ').concat(c," ").concat(i," ").concat(n(e,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},6753:(t,e,r)=>{"use strict";var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=c;var i=r(9481),o=r(4229);r(5717)(c,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var u=s[a];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(t){if(!(this instanceof c))return new c(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},2725:(t,e,r)=>{"use strict";t.exports=i;var n=r(4605);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(5717)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},9481:(t,e,r)=>{"use strict";var n;t.exports=A,A.ReadableState=O,r(7187).EventEmitter;var i,o=function(t,e){return t.listeners(e).length},s=r(2503),a=r(8764).Buffer,u=r.g.Uint8Array||function(){},c=r(4616);i=c&&c.debuglog?c.debuglog("stream"):function(){};var l,h,f,p=r(7327),d=r(1195),g=r(2457).getHighWaterMark,y=r(4281).q,v=y.ERR_INVALID_ARG_TYPE,m=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(A,s);var _=d.errorOrDestroy,E=["error","close","destroy","pause","resume"];function O(t,e,i){n=n||r(6753),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=r(2553).s),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function A(t){if(n=n||r(6753),!(this instanceof A))return new A(t);var e=this instanceof n;this._readableState=new O(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function S(t,e,r,n,o){i("readableAddChunk",e);var s,c=t._readableState;if(null===e)c.reading=!1,function(t,e){if(i("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?P(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,R(t)))}}(t,c);else if(o||(s=function(t,e){var r,n;return n=e,a.isBuffer(n)||n instanceof u||"string"==typeof e||void 0===e||t.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],e)),r}(c,e)),s)_(t,s);else if(c.objectMode||e&&e.length>0)if("string"==typeof e||c.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),n)c.endEmitted?_(t,new w):T(t,c,e,!0);else if(c.ended)_(t,new m);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(e=c.decoder.write(e),c.objectMode||0!==e.length?T(t,c,e,!1):I(t,c)):T(t,c,e,!1)}else n||(c.reading=!1,I(t,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function T(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&P(t)),I(t,e)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),A.prototype.destroy=d.destroy,A.prototype._undestroy=d.undestroy,A.prototype._destroy=function(t,e){e(t)},A.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=a.from(t,e),e=""),r=!0),S(this,t,e,!1,r)},A.prototype.unshift=function(t){return S(this,t,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(t){l||(l=r(2553).s);var e=new l(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var x=1073741824;function N(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function P(t){var e=t._readableState;i("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(i("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(R,t))}function R(t){var e=t._readableState;i("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,U(t)}function I(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(k,t,e))}function k(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(i("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function L(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function C(t){i("readable nexttick read 0"),t.read(0)}function D(t,e){i("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),U(t),e.flowing&&!e.reading&&t.read(0)}function U(t){var e=t._readableState;for(i("flow",e.flowing);e.flowing&&null!==t.read(););}function M(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function j(t){var e=t._readableState;i("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(B,e,t))}function B(t,e){if(i("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function H(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}A.prototype.read=function(t){i("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return i("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):P(this),null;if(0===(t=N(t,e))&&e.ended)return 0===e.length&&j(this),null;var n,o=e.needReadable;return i("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&i("length less than watermark",o=!0),e.ended||e.reading?i("reading or ended",o=!1):o&&(i("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=N(r,e))),null===(n=t>0?M(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&j(this)),null!==n&&this.emit("data",n),n},A.prototype._read=function(t){_(this,new b("_read()"))},A.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,e);var s=e&&!1===e.end||t===process.stdout||t===process.stderr?d:a;function a(){i("onend"),t.end()}n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",(function e(o,s){i("onunpipe"),o===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),t.removeListener("close",f),t.removeListener("finish",p),t.removeListener("drain",u),t.removeListener("error",h),t.removeListener("unpipe",e),r.removeListener("end",a),r.removeListener("end",d),r.removeListener("data",l),c=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}));var u=function(t){return function(){var e=t._readableState;i("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,U(t))}}(r);t.on("drain",u);var c=!1;function l(e){i("ondata");var o=t.write(e);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==H(n.pipes,t))&&!c&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(e){i("onerror",e),d(),t.removeListener("error",h),0===o(t,"error")&&_(t,e)}function f(){t.removeListener("finish",p),d()}function p(){i("onfinish"),t.removeListener("close",f),d()}function d(){i("unpipe"),r.unpipe(t)}return r.on("data",l),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(r):t._events.error=[r,t._events.error]:t.on(e,r)}(t,"error",h),t.once("close",f),t.once("finish",p),t.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),t},A.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=H(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},A.prototype.on=function(t,e){var r=s.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?P(this):n.reading||process.nextTick(C,this))),r},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(t,e){var r=s.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick(L,this),r},A.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick(L,this),e},A.prototype.resume=function(){var t=this._readableState;return t.flowing||(i("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(D,t,e))}(this,t)),t.paused=!1,this},A.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var o in t.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(e.push(o)||(n=!0,t.pause()))})),t)void 0===this[o]&&"function"==typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var s=0;s<E.length;s++)t.on(E[s],this.emit.bind(this,E[s]));return this._read=function(e){i("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(5850)),h(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),A._fromList=M,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(t,e){return void 0===f&&(f=r(5167)),f(A,t,e)})},4605:(t,e,r)=>{"use strict";t.exports=l;var n=r(4281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(6753);function c(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,r){f(t,e,r)}))}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}r(5717)(l,u),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},4229:(t,e,r)=>{"use strict";function n(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(undefined),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var i;t.exports=A,A.WritableState=O;var o,s={deprecate:r(4927)},a=r(2503),u=r(8764).Buffer,c=r.g.Uint8Array||function(){},l=r(1195),h=r(2457).getHighWaterMark,f=r(4281).q,p=f.ERR_INVALID_ARG_TYPE,d=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,y=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,m=f.ERR_STREAM_NULL_VALUES,b=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function E(){}function O(t,e,o){i=i||r(6753),t=t||{},"boolean"!=typeof o&&(o=e instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(R,t,e),t._writableState.errorEmitted=!0,_(t,n)):(i(n),t._writableState.errorEmitted=!0,_(t,n),R(t,e))}(t,r,n,e,i);else{var o=N(r)||t.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||x(t,r),n?process.nextTick(T,t,r,o,i):T(t,r,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function A(t){var e=this instanceof(i=i||r(6753));if(!e&&!o.call(A,this))return new A(t);this._writableState=new O(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function S(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new v("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function T(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),R(t,e)}function x(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,o=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)o[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;o.allBuffers=u,S(t,e,!0,e.length,o,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new n(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(S(t,e,!1,e.objectMode?1:c.length,c,l,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function N(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function P(t,e){t._final((function(r){e.pendingcb--,r&&_(t,r),e.prefinished=!0,t.emit("prefinish"),R(t,e)}))}function R(t,e){var r=N(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(P,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(5717)(A,a),O.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(t){return!!o.call(this,t)||this===A&&t&&t._writableState instanceof O}})):o=function(t){return t instanceof this},A.prototype.pipe=function(){_(this,new y)},A.prototype.write=function(t,e,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=t,u.isBuffer(n)||n instanceof c);return s&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=E),i.ending?function(t,e){var r=new b;_(t,r),process.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var i;return null===r?i=new m:"string"==typeof r||e.objectMode||(i=new p("chunk",["string","Buffer"],r)),!i||(_(t,i),process.nextTick(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,o=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,r)),e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else S(t,e,!1,a,n,i,o);return c}(this,i,s,t,e,r)),o},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||x(this,t))},A.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(t,e,r){r(new d("_write()"))},A.prototype._writev=null,A.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,R(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),A.prototype.destroy=l.destroy,A.prototype._undestroy=l.undestroy,A.prototype._destroy=function(t,e){e(t)}},5850:(t,e,r)=>{"use strict";var n;function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=r(8610),s=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(t,e){return{value:t,done:e}}function d(t){var e=t[s];if(null!==e){var r=t[f].read();null!==r&&(t[l]=null,t[s]=null,t[a]=null,e(p(r,!1)))}}function g(t){process.nextTick(d,t)}var y=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var t=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[c])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(e,r){process.nextTick((function(){t[u]?r(t[u]):e(p(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[c]?r(p(void 0,!0)):e[h](r,n)}),n)}}(n,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(p(i,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var t=this;return new Promise((function(e,r){t[f].destroy(null,(function(t){t?r(t):e(p(void 0,!0))}))}))})),n),y);t.exports=function(t){var e,r=Object.create(v,(i(e={},f,{value:t,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,u,{value:null,writable:!0}),i(e,c,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var n=r[f].read();n?(r[l]=null,r[s]=null,r[a]=null,t(p(n,!1))):(r[s]=t,r[a]=e)},writable:!0}),e));return r[l]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[a];return null!==e&&(r[l]=null,r[s]=null,r[a]=null,e(t)),void(r[u]=t)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(p(void 0,!0))),r[c]=!0})),t.on("readable",g.bind(null,r)),r}},7327:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=r(8764).Buffer,a=r(2361).inspect,u=a&&a.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e,r,n,i=s.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,r=i,n=a,s.prototype.copy.call(e,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0==(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:u,value:function(t,e){return a(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}])&&o(e.prototype,r),t}()},1195:t=>{"use strict";function e(t,e){n(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function n(t,e){t.emit("error",e)}t.exports={destroy:function(t,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,t)):process.nextTick(n,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!i&&t?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(e,o,t)):process.nextTick(e,o,t):i?(process.nextTick(r,o),i(t)):process.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},8610:(t,e,r)=>{"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,o){if("function"==typeof r)return t(e,null,r);r||(r={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,u=function(){e.writable||l()},c=e._writableState&&e._writableState.finished,l=function(){a=!1,c=!0,s||o.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(e)},p=function(t){o.call(e,t)},d=function(){var t;return s&&!h?(e._readableState&&e._readableState.ended||(t=new n),o.call(e,t)):a&&!c?(e._writableState&&e._writableState.ended||(t=new n),o.call(e,t)):void 0},g=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",d),e.req?g():e.on("request",g)):a&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",f),e.on("finish",l),!1!==r.error&&e.on("error",p),e.on("close",d),function(){e.removeListener("complete",l),e.removeListener("abort",d),e.removeListener("request",g),e.req&&e.req.removeListener("finish",l),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",p),e.removeListener("close",d)}}},5167:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(t,e,r)=>{"use strict";var n,i=r(4281).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function u(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),void 0===n&&(n=r(8610)),n(t,{readable:e,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function c(t){t()}function l(t,e){return t.pipe(e)}function h(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}t.exports=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=h(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var s=e.map((function(t,r){var o=r<e.length-1;return u(t,o,r>0,(function(t){n||(n=t),t&&s.forEach(c),o||(s.forEach(c),i(n))}))}));return e.reduce(l)}},2457:(t,e,r)=>{"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var o=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},2503:(t,e,r)=>{t.exports=r(7187).EventEmitter},8473:(t,e,r)=>{(e=t.exports=r(9481)).Stream=e,e.Readable=e,e.Writable=r(4229),e.Duplex=r(6753),e.Transform=r(4605),e.PassThrough=r(2725),e.finished=r(8610),e.pipeline=r(9946)},9785:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(5717),o=r(3349),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function d(t,e){return t<<e|t>>>32-e}function g(t,e,r,n,i,o,s,a){return d(t+(e^r^n)+o+s|0,a)+i|0}function y(t,e,r,n,i,o,s,a){return d(t+(e&r|~e&n)+o+s|0,a)+i|0}function v(t,e,r,n,i,o,s,a){return d(t+((e|~r)^n)+o+s|0,a)+i|0}function m(t,e,r,n,i,o,s,a){return d(t+(e&n|r&~n)+o+s|0,a)+i|0}function b(t,e,r,n,i,o,s,a){return d(t+(e^(r|~n))+o+s|0,a)+i|0}i(p,o),p.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,p=0|this._e,w=0|this._a,_=0|this._b,E=0|this._c,O=0|this._d,A=0|this._e,S=0;S<80;S+=1){var T,x;S<16?(T=g(r,n,i,o,p,t[a[S]],h[0],c[S]),x=b(w,_,E,O,A,t[u[S]],f[0],l[S])):S<32?(T=y(r,n,i,o,p,t[a[S]],h[1],c[S]),x=m(w,_,E,O,A,t[u[S]],f[1],l[S])):S<48?(T=v(r,n,i,o,p,t[a[S]],h[2],c[S]),x=v(w,_,E,O,A,t[u[S]],f[2],l[S])):S<64?(T=m(r,n,i,o,p,t[a[S]],h[3],c[S]),x=y(w,_,E,O,A,t[u[S]],f[3],l[S])):(T=b(r,n,i,o,p,t[a[S]],h[4],c[S]),x=g(w,_,E,O,A,t[u[S]],f[4],l[S])),r=p,p=o,o=d(i,10),i=n,n=T,w=A,A=O,O=d(E,10),E=_,_=x}var N=this._b+i+O|0;this._b=this._c+o+A|0,this._c=this._d+p+w|0,this._d=this._e+r+_|0,this._e=this._a+n+E|0,this._a=N},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n.alloc?n.alloc(20):new n(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=p},9509:(t,e,r)=>{var n=r(8764),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},4189:(t,e,r)=>{var n=r(9509).Buffer;function i(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=n.from(t,e));for(var r=this._block,i=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var u=s%i,c=Math.min(o-a,i-u),l=0;l<c;l++)r[u+l]=t[a+l];a+=c,(s+=c)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},9072:(t,e,r)=>{var n=t.exports=function(t){t=t.toLowerCase();var e=n[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};n.sha=r(4448),n.sha1=r(8336),n.sha224=r(8432),n.sha256=r(7499),n.sha384=r(1686),n.sha512=r(7816)},4448:(t,e,r)=>{var n=r(5717),i=r(4189),o=r(9509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<30|t>>>2}function l(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,h=0;h<16;++h)r[h]=t.readInt32BE(4*h);for(;h<80;++h)r[h]=r[h-3]^r[h-8]^r[h-14]^r[h-16];for(var f=0;f<80;++f){var p=~~(f/20),d=0|((e=n)<<5|e>>>27)+l(p,i,o,a)+u+r[f]+s[p];u=a,a=o,o=c(i),i=n,n=d}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},8336:(t,e,r)=>{var n=r(5717),i=r(4189),o=r(9509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function h(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,f=0;f<16;++f)r[f]=t.readInt32BE(4*f);for(;f<80;++f)r[f]=(e=r[f-3]^r[f-8]^r[f-14]^r[f-16])<<1|e>>>31;for(var p=0;p<80;++p){var d=~~(p/20),g=c(n)+h(d,i,o,a)+u+r[p]+s[d]|0;u=a,a=o,o=l(i),i=n,n=g}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},8432:(t,e,r)=>{var n=r(5717),i=r(7499),o=r(4189),s=r(9509).Buffer,a=new Array(64);function u(){this.init(),this._w=a,o.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=u},7499:(t,e,r)=>{var n=r(5717),i=r(4189),o=r(9509).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t,e,r){return r^t&(e^r)}function l(t,e,r){return t&e|r&(t|e)}function h(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function p(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,d=0|this._f,g=0|this._g,y=0|this._h,v=0;v<16;++v)r[v]=t.readInt32BE(4*v);for(;v<64;++v)r[v]=0|(((e=r[v-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[v-7]+p(r[v-15])+r[v-16];for(var m=0;m<64;++m){var b=y+f(u)+c(u,d,g)+s[m]+r[m]|0,w=h(n)+l(n,i,o)|0;y=g,g=d,d=u,u=a+b|0,a=o,o=i,i=n,n=b+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=d+this._f|0,this._g=g+this._g|0,this._h=y+this._h|0},u.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=u},1686:(t,e,r)=>{var n=r(5717),i=r(7816),o=r(4189),s=r(9509).Buffer,a=new Array(160);function u(){this.init(),this._w=a,o.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=u},7816:(t,e,r)=>{var n=r(5717),i=r(4189),o=r(9509).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function c(t,e,r){return r^t&(e^r)}function l(t,e,r){return t&e|r&(t|e)}function h(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function f(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function y(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function v(t,e){return t>>>0<e>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,u=0|this._fh,m=0|this._gh,b=0|this._hh,w=0|this._al,_=0|this._bl,E=0|this._cl,O=0|this._dl,A=0|this._el,S=0|this._fl,T=0|this._gl,x=0|this._hl,N=0;N<32;N+=2)e[N]=t.readInt32BE(4*N),e[N+1]=t.readInt32BE(4*N+4);for(;N<160;N+=2){var P=e[N-30],R=e[N-30+1],I=p(P,R),k=d(R,P),L=g(P=e[N-4],R=e[N-4+1]),C=y(R,P),D=e[N-14],U=e[N-14+1],M=e[N-32],j=e[N-32+1],B=k+U|0,H=I+D+v(B,k)|0;H=(H=H+L+v(B=B+C|0,C)|0)+M+v(B=B+j|0,j)|0,e[N]=H,e[N+1]=B}for(var F=0;F<160;F+=2){H=e[F],B=e[F+1];var G=l(r,n,i),V=l(w,_,E),K=h(r,w),q=h(w,r),z=f(a,A),W=f(A,a),Y=s[F],$=s[F+1],X=c(a,u,m),J=c(A,S,T),Z=x+W|0,Q=b+z+v(Z,x)|0;Q=(Q=(Q=Q+X+v(Z=Z+J|0,J)|0)+Y+v(Z=Z+$|0,$)|0)+H+v(Z=Z+B|0,B)|0;var tt=q+V|0,et=K+G+v(tt,q)|0;b=m,x=T,m=u,T=S,u=a,S=A,a=o+Q+v(A=O+Z|0,O)|0,o=i,O=E,i=n,E=_,n=r,_=w,r=Q+et+v(w=Z+tt|0,Z)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+E|0,this._dl=this._dl+O|0,this._el=this._el+A|0,this._fl=this._fl+S|0,this._gl=this._gl+T|0,this._hl=this._hl+x|0,this._ah=this._ah+r+v(this._al,w)|0,this._bh=this._bh+n+v(this._bl,_)|0,this._ch=this._ch+i+v(this._cl,E)|0,this._dh=this._dh+o+v(this._dl,O)|0,this._eh=this._eh+a+v(this._el,A)|0,this._fh=this._fh+u+v(this._fl,S)|0,this._gh=this._gh+m+v(this._gl,T)|0,this._hh=this._hh+b+v(this._hl,x)|0},u.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=u},2830:(t,e,r)=>{t.exports=i;var n=r(7187).EventEmitter;function i(){n.call(this)}r(5717)(i,n),i.Readable=r(9481),i.Writable=r(4229),i.Duplex=r(6753),i.Transform=r(4605),i.PassThrough=r(2725),i.finished=r(8610),i.pipeline=r(9946),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(l(),0===n.listenerCount(this,"error"))throw t}function l(){r.removeListener("data",i),t.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("error",c),t.on("error",c),r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t}},8501:(t,e,r)=>{var n=r(1989),i=r(5676),o=r(7529),s=r(584),a=r(8575),u=e;u.request=function(t,e){t="string"==typeof t?a.parse(t):o(t);var i=-1===r.g.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||i,u=t.hostname||t.host,c=t.port,l=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?s+"//"+u:"")+(c?":"+c:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new n(t);return e&&h.on("response",e),h},u.get=function(t,e){var r=u.request(t,e);return r.end(),r},u.ClientRequest=n,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},8725:(t,e,r)=>{var n;function i(){if(void 0!==n)return n;if(r.g.XMLHttpRequest){n=new r.g.XMLHttpRequest;try{n.open("GET",r.g.XDomainRequest?"/":"https://example.com")}catch(t){n=null}}else n=null;return n}function o(t){var e=i();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}function s(t){return"function"==typeof t}e.fetch=s(r.g.fetch)&&s(r.g.ReadableStream),e.writableStream=s(r.g.WritableStream),e.abortController=s(r.g.AbortController),e.arraybuffer=e.fetch||o("arraybuffer"),e.msstream=!e.fetch&&o("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&o("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!i()&&s(i().overrideMimeType),n=null},1989:(t,e,r)=>{var n=r(8764).Buffer,i=r(8725),o=r(5717),s=r(5676),a=r(8473),u=s.IncomingMessage,c=s.readyStates,l=t.exports=function(t){var e,r=this;a.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader("Authorization","Basic "+n.from(t.auth).toString("base64")),Object.keys(t.headers).forEach((function(e){r.setHeader(e,t.headers[e])}));var o=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!i.abortController)o=!1,e=!0;else if("prefer-streaming"===t.mode)e=!1;else if("allow-wrong-content-type"===t.mode)e=!i.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");e=!0}r._mode=function(t,e){return i.fetch&&e?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&t?"arraybuffer":"text"}(e,o),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",(function(){r._onFinish()}))};o(l,a.Writable),l.prototype.setHeader=function(t,e){var r=t.toLowerCase();-1===h.indexOf(r)&&(this._headers[r]={name:t,value:e})},l.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},l.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},l.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts;"timeout"in e&&0!==e.timeout&&t.setTimeout(e.timeout);var n=t._headers,o=null;"GET"!==e.method&&"HEAD"!==e.method&&(o=new Blob(t._body,{type:(n["content-type"]||{}).value||""}));var s=[];if(Object.keys(n).forEach((function(t){var e=n[t].name,r=n[t].value;Array.isArray(r)?r.forEach((function(t){s.push([e,t])})):s.push([e,r])})),"fetch"===t._mode){var a=null;if(i.abortController){var u=new AbortController;a=u.signal,t._fetchAbortController=u,"requestTimeout"in e&&0!==e.requestTimeout&&(t._fetchTimer=r.g.setTimeout((function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()}),e.requestTimeout))}r.g.fetch(t._opts.url,{method:t._opts.method,headers:s,body:o||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:a}).then((function(e){t._fetchResponse=e,t._resetTimers(!1),t._connect()}),(function(e){t._resetTimers(!0),t._destroyed||t.emit("error",e)}))}else{var l=t._xhr=new r.g.XMLHttpRequest;try{l.open(t._opts.method,t._opts.url,!0)}catch(e){return void process.nextTick((function(){t.emit("error",e)}))}"responseType"in l&&(l.responseType=t._mode),"withCredentials"in l&&(l.withCredentials=!!e.withCredentials),"text"===t._mode&&"overrideMimeType"in l&&l.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(l.timeout=e.requestTimeout,l.ontimeout=function(){t.emit("requestTimeout")}),s.forEach((function(t){l.setRequestHeader(t[0],t[1])})),t._response=null,l.onreadystatechange=function(){switch(l.readyState){case c.LOADING:case c.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(l.onprogress=function(){t._onXHRProgress()}),l.onerror=function(){t._destroyed||(t._resetTimers(!0),t.emit("error",new Error("XHR error")))};try{l.send(o)}catch(e){return void process.nextTick((function(){t.emit("error",e)}))}}}},l.prototype._onXHRProgress=function(){var t=this;t._resetTimers(!1),function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}}(t._xhr)&&!t._destroyed&&(t._response||t._connect(),t._response._onXHRProgress(t._resetTimers.bind(t)))},l.prototype._connect=function(){var t=this;t._destroyed||(t._response=new u(t._xhr,t._fetchResponse,t._mode,t._resetTimers.bind(t)),t._response.on("error",(function(e){t.emit("error",e)})),t.emit("response",t._response))},l.prototype._write=function(t,e,r){this._body.push(t),r()},l.prototype._resetTimers=function(t){var e=this;r.g.clearTimeout(e._socketTimer),e._socketTimer=null,t?(r.g.clearTimeout(e._fetchTimer),e._fetchTimer=null):e._socketTimeout&&(e._socketTimer=r.g.setTimeout((function(){e.emit("timeout")}),e._socketTimeout))},l.prototype.abort=l.prototype.destroy=function(t){var e=this;e._destroyed=!0,e._resetTimers(!0),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort(),t&&e.emit("error",t)},l.prototype.end=function(t,e,r){"function"==typeof t&&(r=t,t=void 0),a.Writable.prototype.end.call(this,t,e,r)},l.prototype.setTimeout=function(t,e){var r=this;e&&r.once("timeout",e),r._socketTimeout=t,r._resetTimers(!1)},l.prototype.flushHeaders=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},5676:(t,e,r)=>{var n=r(8764).Buffer,i=r(8725),o=r(5717),s=r(8473),a=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=e.IncomingMessage=function(t,e,r,o){var a=this;if(s.Readable.call(a),a._mode=r,a.headers={},a.rawHeaders=[],a.trailers={},a.rawTrailers=[],a.on("end",(function(){process.nextTick((function(){a.emit("close")}))})),"fetch"===r){if(a._fetchResponse=e,a.url=e.url,a.statusCode=e.status,a.statusMessage=e.statusText,e.headers.forEach((function(t,e){a.headers[e.toLowerCase()]=t,a.rawHeaders.push(e,t)})),i.writableStream){var u=new WritableStream({write:function(t){return o(!1),new Promise((function(e,r){a._destroyed?r():a.push(n.from(t))?e():a._resumeFetch=e}))},close:function(){o(!0),a._destroyed||a.push(null)},abort:function(t){o(!0),a._destroyed||a.emit("error",t)}});try{return void e.body.pipeTo(u).catch((function(t){o(!0),a._destroyed||a.emit("error",t)}))}catch(t){}}var c=e.body.getReader();!function t(){c.read().then((function(e){a._destroyed||(o(e.done),e.done?a.push(null):(a.push(n.from(e.value)),t()))})).catch((function(t){o(!0),a._destroyed||a.emit("error",t)}))}()}else if(a._xhr=t,a._pos=0,a.url=t.responseURL,a.statusCode=t.status,a.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var r=e[1].toLowerCase();"set-cookie"===r?(void 0===a.headers[r]&&(a.headers[r]=[]),a.headers[r].push(e[2])):void 0!==a.headers[r]?a.headers[r]+=", "+e[2]:a.headers[r]=e[2],a.rawHeaders.push(e[1],e[2])}})),a._charset="x-user-defined",!i.overrideMimeType){var l=a.rawHeaders["mime-type"];if(l){var h=l.match(/;\s*charset=([^;])(;|$)/);h&&(a._charset=h[1].toLowerCase())}a._charset||(a._charset="utf-8")}};o(u,s.Readable),u.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},u.prototype._onXHRProgress=function(t){var e=this,i=e._xhr,o=null;switch(e._mode){case"text":if((o=i.responseText).length>e._pos){var s=o.substr(e._pos);if("x-user-defined"===e._charset){for(var u=n.alloc(s.length),c=0;c<s.length;c++)u[c]=255&s.charCodeAt(c);e.push(u)}else e.push(s,e._charset);e._pos=o.length}break;case"arraybuffer":if(i.readyState!==a.DONE||!i.response)break;o=i.response,e.push(n.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=i.response,i.readyState!==a.LOADING||!o)break;e.push(n.from(new Uint8Array(o)));break;case"ms-stream":if(o=i.response,i.readyState!==a.LOADING)break;var l=new r.g.MSStreamReader;l.onprogress=function(){l.result.byteLength>e._pos&&(e.push(n.from(new Uint8Array(l.result.slice(e._pos)))),e._pos=l.result.byteLength)},l.onload=function(){t(!0),e.push(null)},l.readAsArrayBuffer(o)}e._xhr.readyState===a.DONE&&"ms-stream"!==e._mode&&(t(!0),e.push(null))}},2553:(t,e,r)=>{"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.s=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},2511:function(t,e,r){var n;t=r.nmd(t),function(i){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,u=36,c=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function g(t){throw RangeError(f[t])}function y(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function v(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+y((t=t.replace(h,".")).split("."),e).join(".")}function m(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function b(t){return y(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+d(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function _(t,e,r){var n=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;n+=u)t=p(t/35);return p(n+36*t/(t+38))}function E(t){var e,r,n,i,o,s,c,l,h,f,d,y=[],v=t.length,m=0,w=128,E=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&g("not-basic"),y.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<v;){for(o=m,s=1,c=u;i>=v&&g("invalid-input"),((l=(d=t.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:u)>=u||l>p((a-m)/s))&&g("overflow"),m+=l*s,!(l<(h=c<=E?1:c>=E+26?26:c-E));c+=u)s>p(a/(f=u-h))&&g("overflow"),s*=f;E=_(m-o,e=y.length+1,0==o),p(m/e)>a-w&&g("overflow"),w+=p(m/e),m%=e,y.splice(m++,0,w)}return b(y)}function O(t){var e,r,n,i,o,s,c,l,h,f,y,v,b,E,O,A=[];for(v=(t=m(t)).length,e=128,r=0,o=72,s=0;s<v;++s)(y=t[s])<128&&A.push(d(y));for(n=i=A.length,i&&A.push("-");n<v;){for(c=a,s=0;s<v;++s)(y=t[s])>=e&&y<c&&(c=y);for(c-e>p((a-r)/(b=n+1))&&g("overflow"),r+=(c-e)*b,e=c,s=0;s<v;++s)if((y=t[s])<e&&++r>a&&g("overflow"),y==e){for(l=r,h=u;!(l<(f=h<=o?1:h>=o+26?26:h-o));h+=u)O=l-f,E=u-f,A.push(d(w(f+O%E,0))),l=p(O/E);A.push(d(w(l,0))),o=_(r,b,n==i),r=0,++n}++r,++e}return A.join("")}s={version:"1.3.2",ucs2:{decode:m,encode:b},decode:E,encode:O,toASCII:function(t){return v(t,(function(t){return l.test(t)?"xn--"+O(t):t}))},toUnicode:function(t){return v(t,(function(t){return c.test(t)?E(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return s}.call(e,r,e,t))||(t.exports=n)}()},8575:(t,e,r)=>{"use strict";var n=r(2511),i=r(2502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){return i.isString(t)&&(t=b(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=r(7673);function b(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(a);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(a);if(b=b.trim(),!r&&1===t.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=s.exec(b);if(_){var E=(_=_[0]).toLowerCase();this.protocol=E,b=b.substr(_.length)}if(r||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===b.substr(0,2);!O||_&&y[_]||(b=b.substr(2),this.slashes=!0)}if(!y[_]&&(O||_&&!v[_])){for(var A,S,T=-1,x=0;x<f.length;x++)-1!==(N=b.indexOf(f[x]))&&(-1===T||N<T)&&(T=N);for(-1!==(S=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(A=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(A)),T=-1,x=0;x<h.length;x++){var N;-1!==(N=b.indexOf(h[x]))&&(-1===T||N<T)&&(T=N)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var R=this.hostname.split(/\./),I=(x=0,R.length);x<I;x++){var k=R[x];if(k&&!k.match(p)){for(var L="",C=0,D=k.length;C<D;C++)k.charCodeAt(C)>127?L+="x":L+=k[C];if(!L.match(p)){var U=R.slice(0,x),M=R.slice(x+1),j=k.match(d);j&&(U.push(j[1]),M.unshift(j[2])),M.length&&(b="/"+M.join(".")+b),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+B,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[E])for(x=0,I=l.length;x<I;x++){var F=l[x];if(-1!==b.indexOf(F)){var G=encodeURIComponent(F);G===F&&(G=escape(F)),b=b.split(F).join(G)}}var V=b.indexOf("#");-1!==V&&(this.hash=b.substr(V),b=b.slice(0,V));var K=b.indexOf("?");if(-1!==K?(this.search=b.substr(K),this.query=b.substr(K+1),e&&(this.query=m.parse(this.query)),b=b.slice(0,K)):e&&(this.search="",this.query={}),b&&(this.pathname=b),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var q=this.search||"";this.path=B+q}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=t[l])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!v[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",m=r.search||"";r.path=g+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=w||b||r.host&&t.pathname,E=_,O=r.pathname&&r.pathname.split("/")||[],A=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(A&&(r.hostname="",r.port=null,r.host&&(""===O[0]?O[0]=r.host:O.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),_=_&&(""===d[0]||""===O[0])),w)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search))return A&&(r.hostname=r.host=O.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift())),r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=O.slice(-1)[0],T=(r.host||t.host||O.length>1)&&("."===S||".."===S)||""===S,x=0,N=O.length;N>=0;N--)"."===(S=O[N])?O.splice(N,1):".."===S?(O.splice(N,1),x++):x&&(O.splice(N,1),x--);if(!_&&!E)for(;x--;x)O.unshift("..");!_||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),T&&"/"!==O.join("/").substr(-1)&&O.push("");var P,R=""===O[0]||O[0]&&"/"===O[0].charAt(0);return A&&(r.hostname=r.host=R?"":O.length?O.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift())),(_=_||r.host&&O.length)&&!R&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},2502:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},4927:(t,e,r)=>{function n(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},8355:function(t,e){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Error);e.SecurityError=i;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Error);e.InvalidStateError=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Error);e.NetworkError=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Error);e.SyntaxError=a},9536:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(6763));var n=r(335);e.XMLHttpRequestEventTarget=n.XMLHttpRequestEventTarget},7296:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ProgressEvent=function(t){this.type=t,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0}},335:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.listeners={}}return t.prototype.addEventListener=function(t,e){t=t.toLowerCase(),this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e.handleEvent||e)},t.prototype.removeEventListener=function(t,e){if(t=t.toLowerCase(),this.listeners[t]){var r=this.listeners[t].indexOf(e.handleEvent||e);r<0||this.listeners[t].splice(r,1)}},t.prototype.dispatchEvent=function(t){var e=t.type.toLowerCase();if(t.target=this,this.listeners[e])for(var r=0,n=this.listeners[e];r<n.length;r++)n[r].call(this,t);var i=this["on"+e];return i&&i.call(this,t),!0},t}();e.XMLHttpRequestEventTarget=r},7983:function(t,e,r){"use strict";var n,i=r(8764).Buffer,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){var e=t.call(this)||this;return e._contentType=null,e._body=null,e._reset(),e}return o(e,t),e.prototype._reset=function(){this._contentType=null,this._body=null},e.prototype._setData=function(t){if(null!=t)if("string"==typeof t)0!==t.length&&(this._contentType="text/plain;charset=UTF-8"),this._body=new i(t,"utf-8");else if(i.isBuffer(t))this._body=t;else if(t instanceof ArrayBuffer){for(var e=new i(t.byteLength),r=new Uint8Array(t),n=0;n<t.byteLength;n++)e[n]=r[n];this._body=e}else{if(!(t.buffer&&t.buffer instanceof ArrayBuffer))throw new Error("Unsupported send() data "+t);e=new i(t.byteLength);var o=t.byteOffset;for(r=new Uint8Array(t.buffer),n=0;n<t.byteLength;n++)e[n]=r[n+o];this._body=e}},e.prototype._finalizeHeaders=function(t,e){this._contentType&&!e["content-type"]&&(t["Content-Type"]=this._contentType),this._body&&(t["Content-Length"]=this._body.length.toString())},e.prototype._startUpload=function(t){this._body&&t.write(this._body),t.end()},e}(r(335).XMLHttpRequestEventTarget);e.XMLHttpRequestUpload=s},6763:function(t,e,r){"use strict";var n,i=r(8764).Buffer,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=r(8501),u=r(9267),c=r(7435),l=r(8575),h=r(7296),f=r(8355),p=r(335),d=r(7983),g=r(7866),y=function(t){function e(r){void 0===r&&(r={});var n=t.call(this)||this;return n.UNSENT=e.UNSENT,n.OPENED=e.OPENED,n.HEADERS_RECEIVED=e.HEADERS_RECEIVED,n.LOADING=e.LOADING,n.DONE=e.DONE,n.onreadystatechange=null,n.readyState=e.UNSENT,n.response=null,n.responseText="",n.responseType="",n.status=0,n.statusText="",n.timeout=0,n.upload=new d.XMLHttpRequestUpload,n.responseUrl="",n.withCredentials=!1,n._method=null,n._url=null,n._sync=!1,n._headers={},n._loweredHeaders={},n._mimeOverride=null,n._request=null,n._response=null,n._responseParts=null,n._responseHeaders=null,n._aborting=null,n._error=null,n._loadedBytes=0,n._totalBytes=0,n._lengthComputable=!1,n._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},n._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},n._privateHeaders={"set-cookie":!0,"set-cookie2":!0},n._userAgent="Mozilla/5.0 ("+c.type()+" "+c.arch()+") node.js/"+process.versions.node+" v8/"+process.versions.v8,n._anonymous=r.anon||!1,n}return o(e,t),e.prototype.open=function(t,r,n,i,o){if(void 0===n&&(n=!0),t=t.toUpperCase(),this._restrictedMethods[t])throw new e.SecurityError("HTTP method "+t+" is not allowed in XHR");var s=this._parseUrl(r,i,o);this.readyState===e.HEADERS_RECEIVED||(this.readyState,e.LOADING),this._method=t,this._url=s,this._sync=!n,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(e.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},e.prototype.setRequestHeader=function(t,r){if(this.readyState!==e.OPENED)throw new e.InvalidStateError("XHR readyState must be OPENED");var n=t.toLowerCase();this._restrictedHeaders[n]||/^sec-/.test(n)||/^proxy-/.test(n)?console.warn('Refused to set unsafe header "'+t+'"'):(r=r.toString(),null!=this._loweredHeaders[n]?(t=this._loweredHeaders[n],this._headers[t]=this._headers[t]+", "+r):(this._loweredHeaders[n]=t,this._headers[t]=r))},e.prototype.send=function(t){if(this.readyState!==e.OPENED)throw new e.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new e.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(t);case"http:":case"https:":return this._sendHttp(t);default:throw new e.NetworkError("Unsupported protocol "+this._url.protocol)}},e.prototype.abort=function(){null!=this._request&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},e.prototype.getResponseHeader=function(t){if(null==this._responseHeaders||null==t)return null;var e=t.toLowerCase();return this._responseHeaders.hasOwnProperty(e)?this._responseHeaders[t.toLowerCase()]:null},e.prototype.getAllResponseHeaders=function(){var t=this;return null==this._responseHeaders?"":Object.keys(this._responseHeaders).map((function(e){return e+": "+t._responseHeaders[e]})).join("\r\n")},e.prototype.overrideMimeType=function(t){if(this.readyState===e.LOADING||this.readyState===e.DONE)throw new e.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=t.toLowerCase()},e.prototype.nodejsSet=function(t){if(this.nodejsHttpAgent=t.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=t.httpsAgent||this.nodejsHttpsAgent,t.hasOwnProperty("baseUrl")){if(null!=t.baseUrl&&!l.parse(t.baseUrl,!1,!0).protocol)throw new e.SyntaxError("baseUrl must be an absolute URL");this.nodejsBaseUrl=t.baseUrl}},e.nodejsSet=function(t){e.prototype.nodejsSet(t)},e.prototype._setReadyState=function(t){this.readyState=t,this.dispatchEvent(new h.ProgressEvent("readystatechange"))},e.prototype._sendFile=function(t){throw new Error("Protocol file: not implemented")},e.prototype._sendHttp=function(t){if(this._sync)throw new Error("Synchronous XHR processing not implemented");!t||"GET"!==this._method&&"HEAD"!==this._method?t=t||"":(console.warn("Discarding entity body for "+this._method+" requests"),t=null),this.upload._setData(t),this._finalizeHeaders(),this._sendHxxpRequest()},e.prototype._sendHxxpRequest=function(){var t=this;if(this.withCredentials){var r=e.cookieJar.getCookies(g.CookieAccessInfo(this._url.hostname,this._url.pathname,"https:"===this._url.protocol)).toValueString();this._headers.cookie=this._headers.cookie2=r}var n="http:"===this._url.protocol?[a,this.nodejsHttpAgent]:[u,this.nodejsHttpsAgent],i=n[0],o=n[1],s=i.request.bind(i)({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:o});this._request=s,this.timeout&&s.setTimeout(this.timeout,(function(){return t._onHttpTimeout(s)})),s.on("response",(function(e){return t._onHttpResponse(s,e)})),s.on("error",(function(e){return t._onHttpRequestError(s,e)})),this.upload._startUpload(s),this._request===s&&this._dispatchProgress("loadstart")},e.prototype._finalizeHeaders=function(){this._headers=s({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},e.prototype._onHttpResponse=function(t,r){var n=this;if(this._request===t){if(this.withCredentials&&(r.headers["set-cookie"]||r.headers["set-cookie2"])&&e.cookieJar.setCookies(r.headers["set-cookie"]||r.headers["set-cookie2"]),[301,302,303,307,308].indexOf(r.statusCode)>=0)return this._url=this._parseUrl(r.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),null!=this._headers["Content-Type"]&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest();this._response=r,this._response.on("data",(function(t){return n._onHttpResponseData(r,t)})),this._response.on("end",(function(){return n._onHttpResponseEnd(r)})),this._response.on("close",(function(){return n._onHttpResponseClose(r)})),this.responseUrl=this._url.href.split("#")[0],this.status=r.statusCode,this.statusText=a.STATUS_CODES[this.status],this._parseResponseHeaders(r);var i=this._responseHeaders["content-length"]||"";this._totalBytes=+i,this._lengthComputable=!!i,this._setReadyState(e.HEADERS_RECEIVED)}},e.prototype._onHttpResponseData=function(t,r){this._response===t&&(this._responseParts.push(new i(r)),this._loadedBytes+=r.length,this.readyState!==e.LOADING&&this._setReadyState(e.LOADING),this._dispatchProgress("progress"))},e.prototype._onHttpResponseEnd=function(t){this._response===t&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(e.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},e.prototype._onHttpResponseClose=function(t){if(this._response===t){var r=this._request;this._setError(),r.abort(),this._setReadyState(e.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},e.prototype._onHttpTimeout=function(t){this._request===t&&(this._setError(),t.abort(),this._setReadyState(e.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},e.prototype._onHttpRequestError=function(t,r){this._request===t&&(this._setError(),t.abort(),this._setReadyState(e.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},e.prototype._dispatchProgress=function(t){var r=new e.ProgressEvent(t);r.lengthComputable=this._lengthComputable,r.loaded=this._loadedBytes,r.total=this._totalBytes,this.dispatchEvent(r)},e.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},e.prototype._parseUrl=function(t,e,r){var n=null==this.nodejsBaseUrl?t:l.resolve(this.nodejsBaseUrl,t),i=l.parse(n,!1,!0);i.hash=null;var o=(i.auth||"").split(":"),s=o[0],a=o[1];return(s||a||e||r)&&(i.auth=(e||s||"")+":"+(r||a||"")),i},e.prototype._parseResponseHeaders=function(t){for(var e in this._responseHeaders={},t.headers){var r=e.toLowerCase();this._privateHeaders[r]||(this._responseHeaders[r]=t.headers[e])}null!=this._mimeOverride&&(this._responseHeaders["content-type"]=this._mimeOverride)},e.prototype._parseResponse=function(){var t=i.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(t.toString("utf-8"))}catch(t){this.response=null}return;case"buffer":return this.responseText=null,void(this.response=t);case"arraybuffer":this.responseText=null;for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n<t.length;n++)r[n]=t[n];return void(this.response=e);case"text":default:try{this.responseText=t.toString(this._parseResponseEncoding())}catch(e){this.responseText=t.toString("binary")}this.response=this.responseText}},e.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},e.ProgressEvent=h.ProgressEvent,e.InvalidStateError=f.InvalidStateError,e.NetworkError=f.NetworkError,e.SecurityError=f.SecurityError,e.SyntaxError=f.SyntaxError,e.XMLHttpRequestUpload=d.XMLHttpRequestUpload,e.UNSENT=0,e.OPENED=1,e.HEADERS_RECEIVED=2,e.LOADING=3,e.DONE=4,e.cookieJar=g.CookieJar(),e}(p.XMLHttpRequestEventTarget);e.XMLHttpRequest=y,y.prototype.nodejsHttpAgent=a.globalAgent,y.prototype.nodejsHttpsAgent=u.globalAgent,y.prototype.nodejsBaseUrl=null},7529:t=>{t.exports=function(){for(var t={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)e.call(n,i)&&(t[i]=n[i])}return t};var e=Object.prototype.hasOwnProperty},2361:()=>{},4616:()=>{}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t;!function(t){t[t.CONTINUE=100]="CONTINUE",t[t.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",t[t.PROCESSING=102]="PROCESSING",t[t.OK=200]="OK",t[t.CREATED=201]="CREATED",t[t.ACCEPTED=202]="ACCEPTED",t[t.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",t[t.NO_CONTENT=204]="NO_CONTENT",t[t.RESET_CONTENT=205]="RESET_CONTENT",t[t.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",t[t.MULTI_STATUS=207]="MULTI_STATUS",t[t.ALREADY_REPORTED=208]="ALREADY_REPORTED",t[t.IM_USED=226]="IM_USED",t[t.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",t[t.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",t[t.FOUND=302]="FOUND",t[t.SEE_OTHER=303]="SEE_OTHER",t[t.NOT_MODIFIED=304]="NOT_MODIFIED",t[t.USE_PROXY=305]="USE_PROXY",t[t.SWITCH_PROXY=306]="SWITCH_PROXY",t[t.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",t[t.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",t[t.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",t[t.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",t[t.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",t[t.CONFLICT=409]="CONFLICT",t[t.GONE=410]="GONE",t[t.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",t[t.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",t[t.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",t[t.URI_TOO_LONG=414]="URI_TOO_LONG",t[t.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",t[t.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",t[t.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",t[t.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",t[t.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",t[t.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",t[t.LOCKED=423]="LOCKED",t[t.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",t[t.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",t[t.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",t[t.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",t[t.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",t[t.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",t[t.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",t[t.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",t[t.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",t[t.LOOP_DETECTED=508]="LOOP_DETECTED",t[t.NOT_EXTENDED=510]="NOT_EXTENDED",t[t.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"}(t||(t={}));var e="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node?r(9536).XMLHttpRequest:XMLHttpRequest,n=function(t,e,r,n,i){this.message=t,this.status=e,this.statusText=r,this.body=n,this.url=i,this.name="HttpResponse"},i=function(t,e){this.url=t,this.innerEvent=e,this.name="HttpRequestFailed",this.message="Request to "+t+" failed"},o=function(){function t(){}return t.prototype.serialize=function(t){if(!t)return"";var e=[],r=function(r){if(t.hasOwnProperty(r)&&void 0!==t[r]){var n="function"==typeof t[r].toJSON?t[r].toJSON():t[r];if(null===n)return e.push(encodeURIComponent(r)),"continue";if(Array.isArray(n))return n.forEach((function(t){e.push(encodeURIComponent(r)+"="+encodeURIComponent(t))})),"continue";e.push(encodeURIComponent(r)+"="+encodeURIComponent(n))}};for(var n in t)r(n);var i=e.join("&");return i?"?"+i:""},t.prototype.createXHR=function(){return new e},t.prototype.createRequest=function(t,e){var r=this,o=t.url,s=t.method,a=t.timeout,u=t.query,c=t.headers,l=void 0===c?{}:c,h=t.json,f=void 0===h||h,p=t.mimeType,d=void 0===p?void 0:p;return new Promise((function(t,c){var h=r.createXHR();for(var p in h.open(s||"GET",""+o+r.serialize(u)),l["Content-Type"]||h.setRequestHeader("Content-Type","application/json"),d&&h.overrideMimeType(""+d),l)h.setRequestHeader(p,l[p]);if(h.timeout=a||3e4,h.onload=function(){if(this.status>=200&&this.status<300)if(f)try{t(JSON.parse(h.response))}catch(t){c(new Error("Unable to parse response: "+h.response))}else t(h.response);else c(new n("Http error response: ("+this.status+") "+h.response,this.status,h.statusText,h.response,o))},h.ontimeout=function(){c(new Error("Request timed out after: "+h.timeout+"ms"))},h.onerror=function(t){c(new i(o,t))},e){var g=JSON.stringify(e);h.send(g)}else h.send()}))},t}(),s=r(6916),a=r.n(s),u=function(){return(u=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function c(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function l(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var f,p,d=r(7361),g=r(6968);function y(t,e){var r=Array.isArray(t);void 0===e&&(e=Object.keys(t));var n=r?[]:{};return e.forEach((function(e){var r,i=d(t,e);if(void 0!==i){if(Array.isArray(i))return r=y(i),void g(n,e,r);r=new(a())(i),g(n,e,r)}})),n}(p=f||(f={})).ORIGINATION="origination",p.DELEGATION="delegation",p.REVEAL="reveal",p.TRANSACTION="transaction",p.ACTIVATION="activate_account",p.ENDORSEMENT="endorsement",p.SEED_NONCE_REVELATION="seed_nonce_revelation",p.DOUBLE_ENDORSEMENT_EVIDENCE="double_endorsement_evidence",p.DOUBLE_BAKING_EVIDENCE="double_baking_evidence",p.PROPOSALS="proposals",p.BALLOT="ballot";var v={block:"head"},m=function(){function e(t,e,r){void 0===e&&(e="main"),void 0===r&&(r=new o),this.url=t,this.chain=e,this.httpBackend=r}return e.prototype.createURL=function(t){return""+this.url.replace(/\/+$/g,"")+t},e.prototype.getBlockHash=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/hash"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getLiveBlocks=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/live_blocks"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getBalance=function(t,e){var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t+"/balance"),method:"GET"})];case 1:return e=n.sent(),[2,new(a())(e)]}}))}))},e.prototype.getStorage=function(t,e){var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){return h(this,(function(e){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t+"/storage"),method:"GET"})]}))}))},e.prototype.getScript=function(t,e){var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){return h(this,(function(e){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t+"/script"),method:"GET"})]}))}))},e.prototype.getContract=function(t,e){var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t),method:"GET"})];case 1:return e=n.sent(),[2,u(u({},e),{balance:new(a())(e.balance)})]}}))}))},e.prototype.getManagerKey=function(t,e){var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){return h(this,(function(e){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t+"/manager_key"),method:"GET"})]}))}))},e.prototype.getDelegate=function(e,r){var i=(void 0===r?v:r).block;return l(this,void 0,void 0,(function(){var r,o;return h(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+i+"/context/contracts/"+e+"/delegate"),method:"GET"})];case 1:return r=s.sent(),[3,3];case 2:if(!((o=s.sent())instanceof n&&o.status===t.NOT_FOUND))throw o;return r=null,[3,3];case 3:return[2,r]}}))}))},e.prototype.getBigMapKey=function(t,e,r){var n=(void 0===r?v:r).block;return l(this,void 0,void 0,(function(){return h(this,(function(r){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+n+"/context/contracts/"+t+"/big_map_get"),method:"POST"},e)]}))}))},e.prototype.getBigMapExpr=function(t,e,r){var n=(void 0===r?v:r).block;return l(this,void 0,void 0,(function(){return h(this,(function(r){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+n+"/context/big_maps/"+t+"/"+e),method:"GET"})]}))}))},e.prototype.getDelegates=function(t,e){var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/delegates/"+t),method:"GET"})];case 1:return[2,{deactivated:(e=n.sent()).deactivated,balance:new(a())(e.balance),frozen_balance:new(a())(e.frozen_balance),frozen_balance_by_cycle:e.frozen_balance_by_cycle.map((function(t){var e=t.deposit,r=t.fees,n=t.rewards,i=c(t,["deposit","fees","rewards"]);return u(u({},i),{deposit:new(a())(e),fees:new(a())(r),rewards:new(a())(n)})})),staking_balance:new(a())(e.staking_balance),delegated_contracts:e.delegated_contracts,delegated_balance:new(a())(e.delegated_balance),grace_period:e.grace_period}]}}))}))},e.prototype.getConstants=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){var t,r;return h(this,(function(n){switch(n.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/context/constants"),method:"GET"})];case 1:return t=n.sent(),r=y(t,["time_between_blocks","hard_gas_limit_per_operation","hard_gas_limit_per_block","proof_of_work_threshold","tokens_per_roll","seed_nonce_revelation_tip","block_security_deposit","endorsement_security_deposit","block_reward","endorsement_reward","cost_per_byte","hard_storage_limit_per_operation","test_chain_duration","baking_reward_per_endorsement","delay_per_missing_endorsement"]),[2,u(u({},t),r)]}}))}))},e.prototype.getBlock=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getBlockHeader=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/header"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getBlockMetadata=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/metadata"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getBakingRights=function(t,e){void 0===t&&(t={});var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/baking_rights"),method:"GET",query:t})];case 1:return[2,e.sent()]}}))}))},e.prototype.getEndorsingRights=function(t,e){void 0===t&&(t={});var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/endorsing_rights"),method:"GET",query:t})];case 1:return[2,e.sent()]}}))}))},e.prototype.getBallotList=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/ballot_list"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getBallots=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/ballots"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getCurrentPeriodKind=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/current_period_kind"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getCurrentProposal=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/current_proposal"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getCurrentQuorum=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/current_quorum"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getVotesListings=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/listings"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getProposals=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/proposals"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.forgeOperations=function(t,e){var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){return h(this,(function(e){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/forge/operations"),method:"POST"},t)]}))}))},e.prototype.injectOperation=function(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){return[2,this.httpBackend.createRequest({url:this.createURL("/injection/operation"),method:"POST"},t)]}))}))},e.prototype.preapplyOperations=function(t,e){var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/preapply/operations"),method:"POST"},t)];case 1:return[2,e.sent()]}}))}))},e.prototype.getEntrypoints=function(t,e){var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/context/contracts/"+t+"/entrypoints"),method:"GET"})];case 1:return[2,e.sent()]}}))}))},e.prototype.runOperation=function(t,e){var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/scripts/run_operation"),method:"POST"},t)];case 1:return[2,e.sent()]}}))}))},e.prototype.runCode=function(t,e){var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/scripts/run_code"),method:"POST"},t)];case 1:return[2,e.sent()]}}))}))},e.prototype.getChainId=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){return[2,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/chain_id"),method:"GET"})]}))}))},e.prototype.packData=function(t,e){var r=(void 0===e?v:e).block;return l(this,void 0,void 0,(function(){var e,n,i,o,s;return h(this,(function(l){switch(l.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+r+"/helpers/scripts/pack_data"),method:"POST"},t)];case 1:return e=l.sent(),n=e.gas,i=c(e,["gas"]),o=n,(s=new(a())(n||"")).isNaN()||(o=s),[2,u({gas:o},i)]}}))}))},e.prototype.getRpcUrl=function(){return this.url},e.prototype.getCurrentPeriod=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/current_period"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getSuccessorPeriod=function(t){var e=(void 0===t?v:t).block;return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.httpBackend.createRequest({url:this.createURL("/chains/"+this.chain+"/blocks/"+e+"/votes/successor_period"),method:"GET"})];case 1:return[2,t.sent()]}}))}))},e}(),b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function w(t,e){function r(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function _(t){return"function"==typeof t}var E=!1,O={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,E=t},get useDeprecatedSynchronousErrorHandling(){return E}};function A(t){setTimeout((function(){throw t}),0)}var S={closed:!0,next:function(t){},error:function(t){if(O.useDeprecatedSynchronousErrorHandling)throw t;A(t)},complete:function(){}},T=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function x(t){return null!==t&&"object"==typeof t}var N=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),P=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,o=r._unsubscribe,s=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(_(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(t){e=t instanceof N?R(t.errors):[t]}}if(T(s)){a=-1;for(var u=s.length;++a<u;){var c=s[a];if(x(c))try{c.unsubscribe()}catch(t){e=e||[],t instanceof N?e=e.concat(R(t.errors)):e.push(t)}}}if(e)throw new N(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function R(t){return t.reduce((function(t,e){return t.concat(e instanceof N?e.errors:e)}),[])}var I=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),k=function(t){function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=S;break;case 1:if(!r){o.destination=S;break}if("object"==typeof r){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new L(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new L(o,r,n,i)}return o}return w(e,t),e.prototype[I]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(P),L=function(t){function e(e,r,n,i){var o,s=t.call(this)||this;s._parentSubscriber=e;var a=s;return _(r)?o=r:r&&(o=r.next,n=r.error,i=r.complete,r!==S&&(_((a=Object.create(r)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=o,s._error=n,s._complete=i,s}return w(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;O.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=O.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):A(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;A(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};O.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),O.useDeprecatedSynchronousErrorHandling)throw t;A(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!O.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return O.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(A(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(k),C=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function D(t){return t}function U(t){return 0===t.length?D:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var M=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,i=function(t,e,r){if(t){if(t instanceof k)return t;if(t[I])return t[I]()}return t||e||r?new k(t,e,r):new k(S)}(t,e,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||O.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),O.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){O.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;t=n&&n instanceof k?n:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=j(e))((function(e,n){var i;i=r.subscribe((function(e){try{t(e)}catch(t){n(t),i&&i.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[C]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:U(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=j(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function j(t){if(t||(t=O.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var B=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),H=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return w(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(P),F=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return w(e,t),e}(k),G=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return w(e,t),e.prototype[I]=function(){return new F(this)},e.prototype.lift=function(t){var e=new V(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new B;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new B;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new B;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new B;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new B;return this.hasError?(t.error(this.thrownError),P.EMPTY):this.isStopped?(t.complete(),P.EMPTY):(this.observers.push(t),new H(this,t))},e.prototype.asObservable=function(){var t=new M;return t.source=this,t},e.create=function(t,e){return new V(t,e)},e}(M),V=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return w(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):P.EMPTY},e}(G),K=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return w(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,r){return t.call(this)||this}return w(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(P)),q=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return w(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(K),z=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}(),W=function(t){function e(r,n){void 0===n&&(n=z.now);var i=t.call(this,r,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return w(e,t),e.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(z),Y=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e}(W))(q),$=new M((function(t){return t.complete()}));function X(t){return t?function(t){return new M((function(e){return t.schedule((function(){return e.complete()}))}))}(t):$}function J(t){return t&&"function"==typeof t.schedule}var Z,Q=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function tt(t,e){return new M((function(r){var n=new P,i=0;return n.add(e.schedule((function(){i!==t.length?(r.next(t[i++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}function et(t,e){return e?tt(t,e):new M(Q(t))}function rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return J(r)?(t.pop(),tt(t,r)):et(t)}function nt(t,e){return new M(e?function(r){return e.schedule(it,0,{error:t,subscriber:r})}:function(e){return e.error(t)})}function it(t){var e=t.error;t.subscriber.error(e)}Z||(Z={});var ot=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return rt(this.value);case"E":return nt(this.error);case"C":return X()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),st=function(t){function e(e,r,n){void 0===n&&(n=0);var i=t.call(this,e)||this;return i.scheduler=r,i.delay=n,i}return w(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new at(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(ot.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(ot.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(ot.createComplete()),this.unsubscribe()},e}(k),at=function(){return function(t,e){this.notification=t,this.destination=e}}(),ut=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=n,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return w(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new ct(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;if(this.closed)throw new B;if(this.isStopped||this.hasError?e=P.EMPTY:(this.observers.push(t),e=new H(this,t)),i&&t.add(t=new st(t,i)),r)for(var s=0;s<o&&!t.closed;s++)t.next(n[s]);else for(s=0;s<o&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||Y).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(t-n[o].time<r);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&n.splice(0,o),n},e}(G),ct=function(){return function(t,e){this.time=t,this.value=e}}(),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(k),ht=function(t){function e(e,r,n){var i=t.call(this)||this;return i.parent=e,i.outerValue=r,i.outerIndex=n,i.index=0,i}return w(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(k);function ft(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var pt=ft(),dt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function gt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var yt=function(t){if(t&&"function"==typeof t[C])return n=t,function(t){var e=n[C]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(dt(t))return Q(t);if(gt(t))return r=t,function(t){return r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,A),t};if(t&&"function"==typeof t[pt])return e=t,function(t){for(var r=e[pt]();;){var n=void 0;try{n=r.next()}catch(e){return t.error(e),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof r.return&&t.add((function(){r.return&&r.return()})),t};var e,r,n,i=x(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function vt(t,e,r,n,i){if(void 0===i&&(i=new ht(t,r,n)),!i.closed)return e instanceof M?e.subscribe(i):yt(e)(i)}var mt={};function bt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return J(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&T(t[0])&&(t=t[0]),et(t,n).lift(new wt(r))}var wt=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new _t(t,this.resultSelector))},t}(),_t=function(t){function e(e,r){var n=t.call(this,e)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return w(e,t),e.prototype._next=function(t){this.values.push(mt),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(vt(this,n,void 0,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r){var n=this.values,i=n[r],o=this.toRespond?i===mt?--this.toRespond:this.toRespond:0;n[r]=e,0===o&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(lt);function Et(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[C]}(t))return function(t,e){return new M((function(r){var n=new P;return n.add(e.schedule((function(){var i=t[C]();n.add(i.subscribe({next:function(t){n.add(e.schedule((function(){return r.next(t)})))},error:function(t){n.add(e.schedule((function(){return r.error(t)})))},complete:function(){n.add(e.schedule((function(){return r.complete()})))}}))}))),n}))}(t,e);if(gt(t))return function(t,e){return new M((function(r){var n=new P;return n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){r.next(t),n.add(e.schedule((function(){return r.complete()})))})))}),(function(t){n.add(e.schedule((function(){return r.error(t)})))}))}))),n}))}(t,e);if(dt(t))return tt(t,e);if(function(t){return t&&"function"==typeof t[pt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new M((function(r){var n,i=new P;return i.add((function(){n&&"function"==typeof n.return&&n.return()})),i.add(e.schedule((function(){n=t[pt](),i.add(e.schedule((function(){if(!r.closed){var t,e;try{var i=n.next();t=i.value,e=i.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof M?t:new M(yt(t))}function Ot(t){return new M((function(e){var r;try{r=t()}catch(t){return void e.error(t)}return(r?Et(r):X()).subscribe(e)}))}var At=new W(K);function St(t){return!T(t)&&t-parseFloat(t)+1>=0}function Tt(t,e,r){void 0===t&&(t=0);var n=-1;return St(e)?n=Number(e)<1?1:Number(e):J(e)&&(r=e),J(r)||(r=At),new M((function(e){var i=St(t)?t:+t-r.now();return r.schedule(xt,i,{index:0,period:n,subscriber:e})}))}function xt(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,this.schedule(t,r)}}function Nt(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Pt(t,e))}}var Pt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Rt(t,this.project,this.thisArg))},t}(),Rt=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return w(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(k),It=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,r}return w(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(k),kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(k);function Lt(t,e){if(!e.closed){if(t instanceof M)return t.subscribe(e);var r;try{r=yt(t)(e)}catch(t){e.error(t)}return r}}function Ct(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?function(n){return n.pipe(Ct((function(r,n){return Et(t(r,n)).pipe(Nt((function(t,i){return e(r,t,n,i)})))}),r))}:("number"==typeof e&&(r=e),function(e){return e.lift(new Dt(t,r))})}var Dt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Ut(t,this.project,this.concurrent))},t}(),Ut=function(t){function e(e,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return w(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new It(this),r=this.destination;r.add(e);var n=Lt(t,e);n!==e&&r.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(kt);function Mt(){return void 0===(t=1)&&(t=Number.POSITIVE_INFINITY),Ct(D,t);var t}function jt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Mt()(rt.apply(void 0,t))}function Bt(){}function Ht(t,e,r){return function(n){return n.lift(new Ft(t,e,r))}}var Ft=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new Gt(t,this.nextOrObserver,this.error,this.complete))},t}(),Gt=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o._tapNext=Bt,o._tapError=Bt,o._tapComplete=Bt,o._tapError=n||Bt,o._tapComplete=i||Bt,_(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||Bt,o._tapError=r.error||Bt,o._tapComplete=r.complete||Bt),o}return w(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(k);function Vt(t,e,r){var n;return n=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(t){return t.lift(function(t){var e,r,n=t.bufferSize,i=void 0===n?Number.POSITIVE_INFINITY:n,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){var n;c++,!e||l?(l=!1,e=new ut(i,s,u),n=e.subscribe(this),r=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,r=void 0,e.complete()}}),h&&(r=void 0)):n=e.subscribe(this),this.add((function(){c--,n.unsubscribe(),n=void 0,r&&!h&&a&&0===c&&(r.unsubscribe(),r=void 0,e=void 0)}))}}(n))}}function Kt(t,e){return function(r){return r.lift(new qt(t,e))}}var qt=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new zt(t,this.predicate,this.thisArg))},t}(),zt=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return w(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(k),Wt=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Yt=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function $t(t){return function(e){return 0===t?X():e.lift(new Xt(t))}}var Xt=function(){function t(t){if(this.total=t,this.total<0)throw new Yt}return t.prototype.call=function(t,e){return e.subscribe(new Jt(t,this.total))},t}(),Jt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return w(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(k);function Zt(t){return void 0===t&&(t=null),function(e){return e.lift(new Qt(t))}}var Qt=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new te(t,this.defaultValue))},t}(),te=function(t){function e(e,r){var n=t.call(this,e)||this;return n.defaultValue=r,n.isEmpty=!0,n}return w(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(k);function ee(t){return void 0===t&&(t=ie),function(e){return e.lift(new re(t))}}var re=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new ne(t,this.errorFactory))},t}(),ne=function(t){function e(e,r){var n=t.call(this,e)||this;return n.errorFactory=r,n.hasValue=!1,n}return w(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(k);function ie(){return new Wt}function oe(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Kt((function(e,r){return t(e,r,n)})):D,$t(1),r?Zt(e):ee((function(){return new Wt})))}}function se(t,e){return function(r){return r.lift(new ae(t,e))}}var ae=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new ue(t,this.compare,this.keySelector))},t}(),ue=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.keySelector=n,i.hasKey=!1,"function"==typeof r&&(i.compare=r),i}return w(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var r=this.keySelector;e=r?r(t):t}catch(t){return this.destination.error(t)}var n=!1;if(this.hasKey)try{n=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))},e}(k),ce=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new le(t,this.predicate,this.inclusive))},t}(),le=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.inclusive=n,i.index=0,i}return w(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void r.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):(this.inclusive&&r.next(t),r.complete())},e}(k);function he(t,e){return"function"==typeof e?function(r){return r.pipe(he((function(r,n){return Et(t(r,n)).pipe(Nt((function(t,i){return e(r,t,n,i)})))})))}:function(e){return e.lift(new fe(t))}}var fe=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new pe(t,this.project))},t}(),pe=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.index=0,n}return w(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e)},e.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var r=new It(this),n=this.destination;n.add(r),this.innerSubscription=Lt(t,r),this.innerSubscription!==r&&n.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(kt);function de(t,e){return se((function(r,n){return e?e(r[t],n[t]):r[t]===n[t]}))}var ge=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new ye(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),ye=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.absoluteTimeout=r,s.waitFor=n,s.withObservable=i,s.scheduler=o,s.scheduleTimeout(),s}return w(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Lt(e,new It(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(kt);function ve(t,e){return Ct(t,e,1)}var me=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new be(t,this.value))},t}(),be=function(t){function e(e,r){var n=t.call(this,e)||this;return n.value=r,n}return w(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(k),we=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new _e(t),n=Lt(this.notifier,new It(r));return n&&!r.seenValue?(r.add(n),e.subscribe(r)):r},t}(),_e=function(t){function e(e){var r=t.call(this,e)||this;return r.seenValue=!1,r}return w(e,t),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(kt),Ee=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Oe(t,this.notifier,this.source))},t}(),Oe=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.notifier=r,i.source=n,i}return w(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=void 0,this.retriesSubscription=void 0;else{r=new G;try{n=(0,this.notifier)(r)}catch(e){return t.prototype.error.call(this,e)}i=Lt(n,new It(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=i,r.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(kt),Ae=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new Se(t,this.selector,this.caught))},t}(),Se=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.selector=r,i.caught=n,i}return w(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var n=new It(this);this.add(n);var i=Lt(r,n);i!==n&&this.add(i)}},e}(kt);function Te(){return function(t){return t.lift(new xe(t))}}var xe=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new Ne(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i},t}(),Ne=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return w(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(k),Pe=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return w(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new P).add(this.source.subscribe(new Ie(this.getSubject(),this))),t.closed&&(this._connection=null,t=P.EMPTY)),t},e.prototype.refCount=function(){return Te()(this)},e}(M),Re=function(){var t=Pe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),Ie=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return w(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(F),ke=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(t);return i.add(e.subscribe(n)),i},t}();function Le(t,e){return function(r){for(var n=r,i=0;i<e;i++){var o=null!=n?n[t[i]]:void 0;if(void 0===o)return;n=o}return n}}var Ce,De,Ue,Me=r(9858),je=r.n(Me),Be=r(5035),He=r.n(Be),Fe=r(7445),Ge=r.n(Fe),Ve=r(8764);!function(t){t.TZ1="tz1",t.TZ2="tz2",t.TZ3="tz3",t.KT="KT",t.KT1="KT1",t.EDSK2="edsk2",t.SPSK="spsk",t.P2SK="p2sk",t.EDPK="edpk",t.SPPK="sppk",t.P2PK="p2pk",t.EDESK="edesk",t.SPESK="spesk",t.P2ESK="p2esk",t.EDSK="edsk",t.EDSIG="edsig",t.SPSIG="spsig",t.P2SIG="p2sig",t.SIG="sig",t.NET="Net",t.NCE="nce",t.B="b",t.O="o",t.LO="Lo",t.LLO="LLo",t.P="P",t.CO="Co",t.ID="id",t.EXPR="expr",t.TZ="TZ"}(Ue||(Ue={}));var Ke=((Ce={})[Ue.TZ1]=new Uint8Array([6,161,159]),Ce[Ue.TZ2]=new Uint8Array([6,161,161]),Ce[Ue.TZ3]=new Uint8Array([6,161,164]),Ce[Ue.KT]=new Uint8Array([2,90,121]),Ce[Ue.KT1]=new Uint8Array([2,90,121]),Ce[Ue.EDSK]=new Uint8Array([43,246,78,7]),Ce[Ue.EDSK2]=new Uint8Array([13,15,58,7]),Ce[Ue.SPSK]=new Uint8Array([17,162,224,201]),Ce[Ue.P2SK]=new Uint8Array([16,81,238,189]),Ce[Ue.EDPK]=new Uint8Array([13,15,37,217]),Ce[Ue.SPPK]=new Uint8Array([3,254,226,86]),Ce[Ue.P2PK]=new Uint8Array([3,178,139,127]),Ce[Ue.EDESK]=new Uint8Array([7,90,60,179,41]),Ce[Ue.SPESK]=new Uint8Array([9,237,241,174,150]),Ce[Ue.P2ESK]=new Uint8Array([9,48,57,115,171]),Ce[Ue.EDSIG]=new Uint8Array([9,245,205,134,18]),Ce[Ue.SPSIG]=new Uint8Array([13,115,101,19,63]),Ce[Ue.P2SIG]=new Uint8Array([54,240,44,52]),Ce[Ue.SIG]=new Uint8Array([4,130,43]),Ce[Ue.NET]=new Uint8Array([87,82,0]),Ce[Ue.NCE]=new Uint8Array([69,220,169]),Ce[Ue.B]=new Uint8Array([1,52]),Ce[Ue.O]=new Uint8Array([5,116]),Ce[Ue.LO]=new Uint8Array([133,233]),Ce[Ue.LLO]=new Uint8Array([29,159,109]),Ce[Ue.P]=new Uint8Array([2,170]),Ce[Ue.CO]=new Uint8Array([79,179]),Ce[Ue.ID]=new Uint8Array([153,103]),Ce[Ue.EXPR]=new Uint8Array([13,44,64,27]),Ce[Ue.TZ]=new Uint8Array([2,90,121]),Ce),qe=((De={})[Ue.TZ1]=20,De[Ue.TZ2]=20,De[Ue.TZ3]=20,De[Ue.KT]=20,De[Ue.KT1]=20,De[Ue.EDPK]=32,De[Ue.SPPK]=33,De[Ue.P2PK]=33,De[Ue.EDSIG]=64,De[Ue.SPSIG]=64,De[Ue.P2SIG]=64,De[Ue.SIG]=64,De[Ue.NET]=4,De[Ue.B]=32,De[Ue.P]=32,De[Ue.O]=32,De);function ze(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}var We,Ye=r(8334);function $e(t,e){var r=new RegExp("^("+e.join("|")+")").exec(t);if(!r||0===r.length)return We.NO_PREFIX_MATCHED;var n=r[0];if(!function(t){return"string"==typeof t&&t in Ke}(n))return We.NO_PREFIX_MATCHED;var i=/(KT1\w{33})(\%(.*))?/.exec(t);i&&(t=i[1]);var o=Ye.decodeUnsafe(t);return o?(o=o.slice(Ke[n].length)).length!==qe[n]?We.INVALID_LENGTH:We.VALID:We.INVALID_CHECKSUM}!function(t){t[t.NO_PREFIX_MATCHED=0]="NO_PREFIX_MATCHED",t[t.INVALID_CHECKSUM=1]="INVALID_CHECKSUM",t[t.INVALID_LENGTH=2]="INVALID_LENGTH",t[t.VALID=3]="VALID"}(We||(We={}));var Xe=[Ue.TZ1,Ue.TZ2,Ue.TZ3],Je=[Ue.KT1],Ze=[Ue.EDSIG,Ue.P2SIG,Ue.SPSIG,Ue.SIG],Qe=[Ue.EDPK,Ue.SPPK,Ue.P2PK];function tr(t){return $e(t,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ze(arguments[e]));return t}(Xe,Je))}var er=r(1191),rr=r(8334);function nr(t,e){var r="string"==typeof t?Uint8Array.from(Ve.Buffer.from(t,"hex")):t,n=new Uint8Array(e.length+r.length);return n.set(e),n.set(r,e.length),rr.encode(Ve.Buffer.from(n.buffer))}function ir(t){if("00"===t.substring(0,2)){var e={"0000":Ke.tz1,"0001":Ke.tz2,"0002":Ke.tz3};return nr(t.substring(4),e[t.substring(0,4)])}return nr(t.substring(2,42),Ke.KT)}function or(t){if("0"===t[0]){var e={"00":new Uint8Array([6,161,159]),"01":new Uint8Array([6,161,161]),"02":new Uint8Array([6,161,164])};return nr(t.substring(2),e[t.substring(0,2)])}}var sr=function(t){var e=new Uint8Array(t),r=[];return e.forEach((function(t){var e=("00"+t.toString(16)).slice(-2);r.push(e)})),r.join("")},ar=function(t,e){return(ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function ur(t,e){function r(){this.constructor=t}ar(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var cr,lr=function(){return(lr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function hr(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function fr(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pr(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function dr(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pr(arguments[e]));return t}var gr=Symbol.for("taquito-michelson-map-type-symbol"),yr=function(t,e,r){this.value=t,this.type=e,this.name="MapTypecheckError",this.message=r+" not compliant with underlying michelson type"},vr=function(){function t(t){this.valueMap=new Map,this.keyMap=new Map,this[cr]=!0,t&&this.setType(t)}return t.isMichelsonMap=function(t){return t&&!0===t[gr]},t.prototype.setType=function(t){if(!("args"in(e=t))||!Array.isArray(e.args)||2!==e.args.length)throw new Error("mapType is not a valid michelson map type");var e;this.keySchema=new vn(t.args[0]),this.valueSchema=new vn(t.args[1])},t.prototype.removeType=function(){this.keySchema=void 0,this.valueSchema=void 0},t.fromLiteral=function(e,r){var n=new t(r);return Object.keys(e).forEach((function(t){n.set(t,e[t])})),n},t.prototype.typecheckKey=function(t){return!this.keySchema||this.keySchema.Typecheck(t)},t.prototype.typecheckValue=function(t){return!this.valueSchema||this.valueSchema.Typecheck(t)},t.prototype.assertTypecheckValue=function(t){if(!this.typecheckValue(t))throw new yr(t,this.valueSchema,"value")},t.prototype.assertTypecheckKey=function(t){if(!this.typecheckKey(t))throw new yr(t,this.keySchema,"key")},t.prototype.serializeDeterministically=function(t){return He()(t)},t.prototype.keys=function(){var t,e,r,n,i;return hr(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,7]),t=fr(this.entries()),e=t.next(),o.label=1;case 1:return e.done?[3,4]:[4,pr(e.value,1)[0]];case 2:o.sent(),o.label=3;case 3:return e=t.next(),[3,1];case 4:return[3,7];case 5:return r=o.sent(),n={error:r},[3,7];case 6:try{e&&!e.done&&(i=t.return)&&i.call(t)}finally{if(n)throw n.error}return[7];case 7:return[2]}}))},t.prototype.values=function(){var t,e,r,n,i;return hr(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,7]),t=fr(this.entries()),e=t.next(),o.label=1;case 1:return e.done?[3,4]:[4,pr(e.value,2)[1]];case 2:o.sent(),o.label=3;case 3:return e=t.next(),[3,1];case 4:return[3,7];case 5:return r=o.sent(),n={error:r},[3,7];case 6:try{e&&!e.done&&(i=t.return)&&i.call(t)}finally{if(n)throw n.error}return[7];case 7:return[2]}}))},t.prototype.entries=function(){var t,e,r,n,i,o;return hr(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,7]),t=fr(this.valueMap.keys()),e=t.next(),s.label=1;case 1:return e.done?[3,4]:(r=e.value,[4,[this.keyMap.get(r),this.valueMap.get(r)]]);case 2:s.sent(),s.label=3;case 3:return e=t.next(),[3,1];case 4:return[3,7];case 5:return n=s.sent(),i={error:n},[3,7];case 6:try{e&&!e.done&&(o=t.return)&&o.call(t)}finally{if(i)throw i.error}return[7];case 7:return[2]}}))},t.prototype.get=function(t){this.assertTypecheckKey(t);var e=this.serializeDeterministically(t);return this.valueMap.get(e)},t.prototype.set=function(t,e){this.assertTypecheckKey(t),this.assertTypecheckValue(e);var r=this.serializeDeterministically(t);this.keyMap.set(r,t),this.valueMap.set(r,e)},t.prototype.delete=function(t){this.assertTypecheckKey(t),this.keyMap.delete(this.serializeDeterministically(t)),this.valueMap.delete(this.serializeDeterministically(t))},t.prototype.has=function(t){this.assertTypecheckKey(t);var e=this.serializeDeterministically(t);return this.keyMap.has(e)&&this.valueMap.has(e)},t.prototype.clear=function(){this.keyMap.clear(),this.valueMap.clear()},Object.defineProperty(t.prototype,"size",{get:function(){return this.keyMap.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){var e,r;try{for(var n=fr(this.entries()),i=n.next();!i.done;i=n.next()){var o=pr(i.value,2),s=o[0];t(o[1],s,this)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t}();cr=gr;var mr=function(t,e,r){this.value=t,this.token=e,this.name="ValidationError";var n=this.token.annot(),i=n?"["+n+"] ":"";this.message=""+i+r},br=function(){function t(t,e,r){this.val=t,this.idx=e,this.fac=r,this.createToken=this.fac}return t.prototype.typeWithoutAnnotations=function(){var t=function(e){return e.args?{prim:e.prim,args:e.args.map((function(e){return t(e)}))}:{prim:e.prim}};return t(this.val)},t.prototype.annot=function(){return(Array.isArray(this.val.annots)&&this.val.annots.length>0?this.val.annots[0]:String(this.idx)).replace(/(%|\:)(_Liq_entry_)?/,"")},t.prototype.hasAnnotations=function(){return Array.isArray(this.val.annots)&&this.val.annots.length},t.prototype.ExtractSignature=function(){return[[this.ExtractSchema()]]},t}(),wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ur(e,t),e.prototype.compare=function(t,e){return t===e?0:t<e?-1:1},e}(br),_r=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="BigMapValidationError",i}return ur(e,t),e}(mr),Er=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),Object.defineProperty(e.prototype,"ValueSchema",{get:function(){return this.createToken(this.val.args[1],0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"KeySchema",{get:function(){return this.createToken(this.val.args[0],0)},enumerable:!1,configurable:!0}),e.prototype.ExtractSchema=function(){var t;return(t={})[this.KeySchema.ExtractSchema()]=this.ValueSchema.ExtractSchema(),t},e.prototype.isValid=function(t){return vr.isMichelsonMap(t)?null:new _r(t,this,"Value must be a MichelsonMap")},e.prototype.Encode=function(t){var e=this,r=t.pop(),n=this.isValid(r);if(n)throw n;return Array.from(r.keys()).sort((function(t,r){return e.KeySchema.compare(t,r)})).map((function(t){return{prim:"Elt",args:[e.KeySchema.EncodeObject(t),e.ValueSchema.EncodeObject(r.get(t))]}}))},e.prototype.EncodeObject=function(t){var e=this,r=t,n=this.isValid(r);if(n)throw n;return Array.from(r.keys()).sort((function(t,r){return e.KeySchema.compare(t,r)})).map((function(t){return{prim:"Elt",args:[e.KeySchema.EncodeObject(t),e.ValueSchema.EncodeObject(r.get(t))]}}))},e.prototype.Execute=function(t,r){var n=this;if(r&&r[e.prim])return r[e.prim](t,this.val);if(Array.isArray(t)){var i=new vr(this.val);return t.forEach((function(t){i.set(n.KeySchema.ToKey(t.args[0]),n.ValueSchema.Execute(t.args[1]))})),i}if("int"in t)return t.int;throw new Error("Big map is expecting either an array (Athens) or an object with an int property (Babylon). Got "+JSON.stringify(t))},e.prim="big_map",e}(br),Or=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Encode=function(t){var r=t[t.length-1],n=this.createToken(this.val.args[0],this.idx),i=1;n instanceof e&&(i=Object.keys(n.ExtractSchema()).length);var o,s=this.createToken(this.val.args[1],this.idx+i);return String(n.annot())!==String(r)||n instanceof e?String(s.annot())!==String(r)||s instanceof e?n instanceof e&&(o=n.Encode(t))?{prim:"Left",args:[o]}:s instanceof e&&(o=s.Encode(t))?{prim:"Right",args:[o]}:null:(t.pop(),{prim:"Right",args:[s.Encode(t)]}):(t.pop(),{prim:"Left",args:[n.Encode(t)]})},e.prototype.ExtractSignature=function(){var t,r,n,i,o=this.createToken(this.val.args[0],this.idx),s=1;o instanceof e&&(s=Object.keys(o.ExtractSchema()).length);var a=this.createToken(this.val.args[1],this.idx+s),u=[];if(o instanceof e)u.push.apply(u,dr(o.ExtractSignature()));else try{for(var c=fr(o.ExtractSignature()),l=c.next();!l.done;l=c.next()){var h=l.value;u.push(dr([o.annot()],h))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}if(a instanceof e)u.push.apply(u,dr(a.ExtractSignature()));else try{for(var f=fr(a.ExtractSignature()),p=f.next();!p.done;p=f.next())h=p.value,u.push(dr([a.annot()],h))}catch(t){n={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return u},e.prototype.EncodeObject=function(t){var r=Object.keys(t)[0],n=this.createToken(this.val.args[0],this.idx),i=1;n instanceof e&&(i=Object.keys(n.ExtractSchema()).length);var o,s=this.createToken(this.val.args[1],this.idx+i);return String(n.annot())!==String(r)||n instanceof e?String(s.annot())!==String(r)||s instanceof e?n instanceof e&&(o=n.EncodeObject(t))?{prim:"Left",args:[o]}:s instanceof e&&(o=s.EncodeObject(t))?{prim:"Right",args:[o]}:null:{prim:"Right",args:[s.EncodeObject(t[r])]}:{prim:"Left",args:[n.EncodeObject(t[r])]}},e.prototype.Execute=function(t,r){var n,i=this.createToken(this.val.args[0],this.idx),o=1;i instanceof e&&(o=Object.keys(i.ExtractSchema()).length);var s=this.createToken(this.val.args[1],this.idx+o);if("Right"===t.prim)return s.Execute(t.args[0],r);if("Left"===t.prim)return(n={})[i.annot()]=i.Execute(t.args[0],r),n;throw new Error("Was expecting Left or Right prim but got: "+t.prim)},e.prototype.traversal=function(t,r,n){var i,o,s,a=this.createToken(this.val.args[0],this.idx),u=1;a instanceof e&&!a.hasAnnotations()?(s=t(a),u=Object.keys(a.ExtractSchema()).length):((i={})[a.annot()]=t(a),s=i);var c,l=this.createToken(this.val.args[1],this.idx+u);return l instanceof e&&!l.hasAnnotations()?c=r(l):((o={})[l.annot()]=r(l),c=o),n(s,c)},e.prototype.ExtractSchema=function(){return this.traversal((function(t){return t.ExtractSchema()}),(function(t){return t.ExtractSchema()}),(function(t,e){return lr(lr({},t),e)}))},e.prim="or",e}(br);function Ar(t,e){if(void 0===e&&(e=Tr.prim),Array.isArray(t))return Ar({prim:e,args:t},e);if(void 0===t.args)throw new Error("Token has no arguments");return t.args.length>2?[t.args[0],{prim:e,args:t.args.slice(1)}]:[t.args[0],t.args[1]]}var Sr,Tr=function(t){function e(r,n,i){return t.call(this,Array.isArray(r)?{prim:e.prim,args:r}:r,n,i)||this}return ur(e,t),e.prototype.args=function(){return Ar(this.val)},e.prototype.tokens=function(){var t=this,r=0;return this.args().map((function(n){var i=t.createToken(n,t.idx+r);return i instanceof e?r+=Object.keys(i.ExtractSchema()).length:r++,i}))},e.prototype.Encode=function(t){return{prim:"Pair",args:this.tokens().map((function(e){return e.Encode(t)}))}},e.prototype.ExtractSignature=function(){var t,e,r,n,i=this.args(),o=this.createToken(i[0],this.idx),s=1;o instanceof Or&&(s=Object.keys(o.ExtractSchema()).length);var a=this.createToken(i[1],this.idx+s),u=[];try{for(var c=fr(o.ExtractSignature()),l=c.next();!l.done;l=c.next()){var h=l.value;try{for(var f=(r=void 0,fr(a.ExtractSignature())),p=f.next();!p.done;p=f.next()){var d=p.value;u.push(dr(h,d))}}catch(t){r={error:t}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}return u},e.prototype.ToBigMapKey=function(t){return{key:this.EncodeObject(t),type:this.typeWithoutAnnotations()}},e.prototype.ToKey=function(t){return this.Execute(t)},e.prototype.EncodeObject=function(t){var r,n,i=pr(this.tokens(),2),o=i[0],s=i[1];return r=o instanceof e&&!o.hasAnnotations()?t:t[o.annot()],n=s instanceof e&&!s.hasAnnotations()?t:t[s.annot()],{prim:"Pair",args:[o.EncodeObject(r),s.EncodeObject(n)]}},e.prototype.traversal=function(t,r){var n,i,o,s=this.args(),a=this.createToken(s[0],this.idx),u=1;a instanceof e&&!a.hasAnnotations()?(o=t(a),u=Object.keys(a.ExtractSchema()).length):((n={})[a.annot()]=t(a),o=n);var c,l=this.createToken(s[1],this.idx+u);return l instanceof e&&!l.hasAnnotations()?c=r(l):((i={})[l.annot()]=r(l),c=i),lr(lr({},o),c)},e.prototype.Execute=function(t,e){var r=Ar(t,"Pair");return this.traversal((function(t){return t.Execute(r[0],e)}),(function(t){return t.Execute(r[1],e)}))},e.prototype.ExtractSchema=function(){return this.traversal((function(t){return t.ExtractSchema()}),(function(t){return t.ExtractSchema()}))},e.prototype.compare=function(t,r){var n=pr(this.tokens(),2),i=n[0],o=n[1],s=function(t,r){return t instanceof e&&!t.hasAnnotations()?r:r[t.annot()]};if(i instanceof wr&&o instanceof wr){var a=i.compare(s(i,t),s(i,r));return 0===a?o.compare(s(o,t),s(o,r)):a}throw new Error("Not a comparable pair")},e.prim="pair",e}(wr),xr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="NatValidationError",i}return ur(e,t),e}(mr),Nr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Execute=function(t){return new(Ge())(t[Object.keys(t)[0]])},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{int:new(Ge())(e).toFixed()}},e.prototype.isValid=function(t){var e=new(Ge())(t);return e.isNaN()?new xr(t,this,"Value is not a number: "+t):e.isNegative()?new xr(t,this,"Value cannot be negative: "+t):null},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{int:new(Ge())(t).toFixed()}},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToBigMapKey=function(t){return{key:{int:t},type:{prim:e.prim}}},e.prototype.ToKey=function(t){return t.int},e.prototype.compare=function(t,e){var r=Number(t),n=Number(e);return r===n?0:r<n?-1:1},e.prim="nat",e}(wr),Pr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Execute=function(t){return t[Object.keys(t)[0]]},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.Encode=function(t){return{string:t.pop()}},e.prototype.EncodeObject=function(t){return{string:t}},e.prototype.ToKey=function(t){return t.string},e.prototype.ToBigMapKey=function(t){return{key:{string:t},type:{prim:e.prim}}},e.prim="string",e}(wr),Rr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="AddressValidationError",i}return ur(e,t),e}(mr),Ir=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.ToBigMapKey=function(t){return{key:{bytes:function(t){var e,r=rr.decode(t),n=((e={})[Ke.tz1.toString()]="0000",e[Ke.tz2.toString()]="0001",e[Ke.tz3.toString()]="0002",e)[new Uint8Array(r.slice(0,3)).toString()];return n?n+sr(r.slice(3)):"01"+sr(r.slice(3,42))+"00"}(t)},type:{prim:"bytes"}}},e.prototype.isValid=function(t){return tr(t)!==We.VALID?new Rr(t,this,"Address is not valid: "+t):null},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{string:t}},e.prototype.Execute=function(t){return t.string?t.string:ir(t.bytes)},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToKey=function(t){var e=t.bytes;return t.string||ir(e)},e.prototype.compare=function(e,r){var n=function(t){return t.startsWith("tz")};return n(e)&&n(r)?t.prototype.compare.call(this,e,r):n(e)?-1:n(r)?1:t.prototype.compare.call(this,e,r)},e.prim="address",e}(wr),kr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="MapValidationError",i}return ur(e,t),e}(mr),Lr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),Object.defineProperty(e.prototype,"ValueSchema",{get:function(){return this.createToken(this.val.args[1],0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"KeySchema",{get:function(){return this.createToken(this.val.args[0],0)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(t){return vr.isMichelsonMap(t)?null:new kr(t,this,"Value must be a MichelsonMap")},e.prototype.Execute=function(t,e){var r=this,n=new vr(this.val);return t.forEach((function(t){n.set(r.KeySchema.ToKey(t.args[0]),r.ValueSchema.Execute(t.args[1],e))})),n},e.prototype.Encode=function(t){var e=this,r=t.pop(),n=this.isValid(r);if(n)throw n;return Array.from(r.keys()).sort((function(t,r){return e.KeySchema.compare(t,r)})).map((function(t){return{prim:"Elt",args:[e.KeySchema.EncodeObject(t),e.ValueSchema.EncodeObject(r.get(t))]}}))},e.prototype.EncodeObject=function(t){var e=this,r=t,n=this.isValid(r);if(n)throw n;return Array.from(r.keys()).sort((function(t,r){return e.KeySchema.compare(t,r)})).map((function(t){return{prim:"Elt",args:[e.KeySchema.EncodeObject(t),e.ValueSchema.EncodeObject(r.get(t))]}}))},e.prototype.ExtractSchema=function(){return{map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}},e.prim="map",e}(br),Cr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Execute=function(t){return"true"===String(t.prim).toLowerCase()},e.prototype.Encode=function(t){return{prim:t.pop()?"True":"False"}},e.prototype.EncodeObject=function(t){return{prim:t?"True":"False"}},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToBigMapKey=function(t){return{key:this.EncodeObject(t),type:{prim:e.prim}}},e.prototype.ToKey=function(t){return this.EncodeObject(t)},e.prototype.compare=function(t,e){return t&&e||!t&&!e?0:t?1:-1},e.prim="bool",e}(wr),Dr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="ContractValidationError",i}return ur(e,t),e}(mr),Ur=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.isValid=function(t){return tr(t)!==We.VALID?new Dr(t,this,"Contract address is not valid"):null},e.prototype.Execute=function(t){return t.string?t.string:ir(t.bytes)},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{string:t}},e.prototype.ExtractSchema=function(){return e.prim},e.prim="contract",e}(br),Mr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="ListValidationError",i}return ur(e,t),e}(mr),jr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.isValid=function(t){return Array.isArray(t)?null:new Mr(t,this,"Value must be an array")},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;var n=this.createToken(this.val.args[0],0);return e.reduce((function(t,e){return dr(t,[n.EncodeObject(e)])}),[])},e.prototype.Execute=function(t,e){var r=this.createToken(this.val.args[0],0),n=this.isValid(t);if(n)throw n;return t.reduce((function(t,n){return dr(t,[r.Execute(n,e)])}),[])},e.prototype.EncodeObject=function(t){var e=this.createToken(this.val.args[0],0),r=this.isValid(t);if(r)throw r;return t.reduce((function(t,r){return dr(t,[e.EncodeObject(r)])}),[])},e.prototype.ExtractSchema=function(){return e.prim},e.prim="list",e}(br),Br=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="MutezValidationError",i}return ur(e,t),e}(mr),Hr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Execute=function(t){return new(Ge())(t[Object.keys(t)[0]])},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.isValid=function(t){return new(Ge())(t).isNaN()?new Br(t,this,"Value is not a number: "+t):null},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{int:String(e).toString()}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{int:String(t).toString()}},e.prototype.ToBigMapKey=function(t){return{key:{int:t},type:{prim:e.prim}}},e.prototype.ToKey=function(t){return t.int},e.prototype.compare=function(t,e){var r=Number(t),n=Number(e);return r===n?0:r<n?-1:1},e.prim="mutez",e}(wr),Fr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="BytesValidationError",i}return ur(e,t),e}(mr),Gr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.ToBigMapKey=function(t){return{key:{bytes:t},type:{prim:e.prim}}},e.prototype.isValid=function(t){return"string"==typeof t&&/^[0-9a-fA-F]*$/.test(t)&&t.length%2==0?null:new Fr(t,this,"Invalid bytes: "+t)},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{bytes:String(e).toString()}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{bytes:String(t).toString()}},e.prototype.Execute=function(t){return t.bytes},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToKey=function(t){var e=t.bytes;return t.string||e},e.prim="bytes",e}(wr),Vr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.subToken=function(){return this.createToken(this.val.args[0],this.idx)},e.prototype.annot=function(){return Array.isArray(this.val.annots)?t.prototype.annot.call(this):this.createToken(this.val.args[0],this.idx).annot()},e.prototype.Encode=function(t){var e=t;return null==e?{prim:"None"}:!Array.isArray(e)||void 0!==e[e.length-1]&&null!==e[e.length-1]?{prim:"Some",args:[this.createToken(this.val.args[0],0).Encode(t)]}:(e.pop(),{prim:"None"})},e.prototype.EncodeObject=function(t){var e=this.createToken(this.val.args[0],0),r=t;return null==r?{prim:"None"}:{prim:"Some",args:[e.EncodeObject(r)]}},e.prototype.Execute=function(t,e){return"None"===t.prim?null:this.createToken(this.val.args[0],0).Execute(t.args[0],e)},e.prototype.ExtractSchema=function(){return this.createToken(this.val.args[0],0).ExtractSchema()},e.prototype.ExtractSignature=function(){return dr(this.createToken(this.val.args[0],0).ExtractSignature(),[[]])},e.prim="option",e}(br),Kr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Execute=function(t){return t.string?new Date(t.string).toISOString():t.int?new Date(1e3*Number(t.int)).toISOString():void 0},e.prototype.Encode=function(t){return{string:t.pop()}},e.prototype.EncodeObject=function(t){return{string:t}},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToKey=function(t){return t.string},e.prototype.ToBigMapKey=function(t){return{key:{string:t},type:{prim:e.prim}}},e.prim="timestamp",e}(wr),qr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="IntValidationError",i}return ur(e,t),e}(mr),zr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Execute=function(t){return new(Ge())(t[Object.keys(t)[0]])},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.isValid=function(t){return new(Ge())(t).isNaN()?new qr(t,this,"Value is not a number: "+t):null},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{int:new(Ge())(e).toFixed()}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{int:new(Ge())(t).toFixed()}},e.prototype.ToBigMapKey=function(t){return{key:{int:t},type:{prim:e.prim}}},e.prototype.ToKey=function(t){return t.int},e.prototype.compare=function(t,e){var r=Number(t),n=Number(e);return r===n?0:r<n?-1:1},e.prim="int",e}(wr),Wr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Encode=function(t){return t.pop(),{prim:"Unit"}},e.prototype.EncodeObject=function(t){return{prim:"Unit"}},e.prototype.Execute=function(){return bn},e.prototype.ExtractSchema=function(){return e.prim},e.prim="unit",e}(br),Yr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="KeyValidationError",i}return ur(e,t),e}(mr),$r=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Execute=function(t){return t.string?t.string:function(t){if("0"===t[0]){var e={"00":new Uint8Array([13,15,37,217]),"01":new Uint8Array([3,254,226,86]),"02":new Uint8Array([3,178,139,127])};return nr(t.substring(2),e[t.substring(0,2)])}}(t.bytes)},e.prototype.isValid=function(t){return function(t){return $e(t,Qe)}(t)!==We.VALID?new Yr(t,this,"Key is not valid"):null},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{string:t}},e.prototype.ExtractSchema=function(){return e.prim},e.prim="key",e}(br),Xr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="KeyHashValidationError",i}return ur(e,t),e}(mr),Jr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Execute=function(t){return t.string?t.string:or(t.bytes)},e.prototype.isValid=function(t){return function(t){return $e(t,Xe)}(t)!==We.VALID?new Xr(t,this,"KeyHash is not valid: "+t):null},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{string:t}},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.ToKey=function(t){var e=t.string,r=t.bytes;return e||or(r)},e.prototype.ToBigMapKey=function(t){return{key:{string:t},type:{prim:e.prim}}},e.prim="key_hash",e}(wr),Zr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="SignatureValidationError",i}return ur(e,t),e}(mr),Qr=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Execute=function(t){return t.string},e.prototype.isValid=function(t){return function(t){return $e(t,Ze)}(t)!==We.VALID?new Zr(t,this,"Signature is not valid"):null},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{string:t}},e.prototype.ExtractSchema=function(){return e.prim},e.prim="signature",e}(br),tn=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Execute=function(t){return t.string?t.string:t},e.prototype.Encode=function(t){return t.pop()},e.prototype.EncodeObject=function(t){return t},e.prototype.ExtractSchema=function(){var t,r=this.createToken(this.val.args[0],this.idx),n=this.createToken(this.val.args[1],this.idx+1);return(t={})[e.prim]={parameters:r.ExtractSchema(),returns:n.ExtractSchema()},t},e.prim="lambda",e}(br),en=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Execute=function(t){return t.string},e.prototype.Encode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.pop();return{string:r}},e.prototype.EncodeObject=function(t){return{string:t}},e.prototype.ExtractSchema=function(){return e.prim},e.prim="operation",e}(br),rn=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="SetValidationError",i}return ur(e,t),e}(mr),nn=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),Object.defineProperty(e.prototype,"KeySchema",{get:function(){return this.createToken(this.val.args[0],0)},enumerable:!1,configurable:!0}),e.prototype.isValid=function(t){return Array.isArray(t)?null:new rn(t,this,"Value must be an array")},e.prototype.Encode=function(t){var e=this,r=t.pop(),n=this.isValid(r);if(n)throw n;return r.sort((function(t,r){return e.KeySchema.compare(t,r)})).reduce((function(t,r){return dr(t,[e.KeySchema.EncodeObject(r)])}),[])},e.prototype.Execute=function(t,e){var r=this;return t.reduce((function(t,n){return dr(t,[r.KeySchema.Execute(n,e)])}),[])},e.prototype.EncodeObject=function(t){var e=this,r=this.isValid(t);if(r)throw r;return t.sort((function(t,r){return e.KeySchema.compare(t,r)})).reduce((function(t,r){return dr(t,[e.KeySchema.EncodeObject(r)])}),[])},e.prototype.ExtractSchema=function(){return e.prim},e.prim="set",e}(br),on=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.value=e,i.token=r,i.name="ChainIDValidationError",i}return ur(e,t),e}(mr),sn=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.isValid=function(t){return function(t){return $e(t,[Ue.NET])}(t)!==We.VALID?new on(t,this,"ChainID is not valid"):null},e.prototype.Execute=function(t){return t[Object.keys(t)[0]]},e.prototype.ExtractSchema=function(){return e.prim},e.prototype.Encode=function(t){var e=t.pop(),r=this.isValid(e);if(r)throw r;return{string:e}},e.prototype.EncodeObject=function(t){var e=this.isValid(t);if(e)throw e;return{string:t}},e.prototype.ToKey=function(t){return t.string},e.prototype.ToBigMapKey=function(t){return{key:{string:t},type:{prim:e.prim}}},e.prim="chain_id",e}(wr),an=function(){this.name="TicketEncodeError",this.message="Tickets cannot be sent to the blockchain; they are created on-chain"},un={prim:"contract"},cn={prim:"int"},ln=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.val=e,i.idx=r,i.fac=n,i}return ur(e,t),e.prototype.Encode=function(t){throw new an},e.prototype.EncodeObject=function(t){throw new an},e.prototype.Execute=function(t,r){if(r&&r[e.prim])return r[e.prim](t,this.val);var n=this.createToken(un,this.idx),i=this.createToken(this.val.args[0],this.idx),o=this.createToken(cn,this.idx);return{ticketer:n.Execute(t.args[0],r),value:i.Execute(t.args[1],r),amount:o.Execute(t.args[2],r)}},e.prototype.ExtractSchema=function(){var t=this.createToken(this.val.args[0],this.idx);return{ticketer:Ur.prim,value:t.ExtractSchema(),amount:zr.prim}},e.prim="ticket",e}(br),hn=[Tr,Nr,Pr,Er,Ir,Lr,Cr,Or,Ur,jr,Hr,Gr,Vr,Kr,zr,Wr,$r,Jr,Qr,tn,en,nn,sn,ln],fn=function(t,e){this.message=t,this.data=e,this.name="Invalid token error"};function pn(t,e){if(Array.isArray(t))return new Tr(t,e,pn);var r=hn.find((function(e){return e.prim===t.prim}));if(!r)throw new fn("Malformed data expected a value with a valid prim property",t);return new r(t,e,pn)}var dn=Symbol.for("taquito-schema-type-symbol");function gn(t,e){var r,n;return void 0===e&&(e=Tr.prim),Array.isArray(t)?gn({prim:e,args:t},e):t.prim===e&&(null===(r=t.args)||void 0===r?void 0:r.length)>2?lr(lr({},t),{args:[t.args[0],{prim:e,args:null===(n=t.args)||void 0===n?void 0:n.slice(1)}]}):t}function yn(t,e){var r=gn(t),n=gn(e);return r.prim===n.prim&&(void 0===r.args&&void 0===n.args||void 0!==r.args&&void 0!==n.args&&r.args.length===n.args.length&&r.args.every((function(t,e){var r;return yn(t,null===(r=n.args)||void 0===r?void 0:r[e])})))&&(void 0===r.annots&&void 0===n.annots||void 0!==r.annots&&void 0!==n.annots&&r.annots.length===n.annots.length&&r.annots.every((function(t,e){var r;return t===(null===(r=n.annots)||void 0===r?void 0:r[e])})))}var vn=function(){function t(t){if(this[Sr]=!0,this.root=pn(t,0),this.root instanceof Er)this.bigMap=this.root;else if(this.isExpressionExtended(t)&&"pair"===t.prim){var e=t.args[0];this.isExpressionExtended(e)&&"big_map"===e.prim&&(this.bigMap=new Er(e,0,pn))}}return t.isSchema=function(t){return t&&!0===t[dn]},t.fromRPCResponse=function(e){var r=e&&e.script&&Array.isArray(e.script.code)&&e.script.code.find((function(t){return"storage"===t.prim}));if(!r||!Array.isArray(r.args))throw new Error("Invalid rpc response passed as arguments");return new t(r.args[0])},t.prototype.isExpressionExtended=function(t){return"prim"in t&&Array.isArray(t.args)},t.prototype.removeTopLevelAnnotation=function(t){return(this.root instanceof Tr||this.root instanceof Or)&&this.root.hasAnnotations()&&"object"==typeof t&&1===Object.keys(t).length?t[Object.keys(t)[0]]:t},t.prototype.Execute=function(t,e){var r=this.root.Execute(t,e);return this.removeTopLevelAnnotation(r)},t.prototype.Typecheck=function(t){try{return this.root.EncodeObject(t),!0}catch(t){return!1}},t.prototype.ExecuteOnBigMapDiff=function(t,e){if(!this.bigMap)throw new Error("No big map schema");if(!Array.isArray(t))throw new Error("Invalid big map diff. It must be an array");var r=t.map((function(t){return{args:[t.key,t.value]}}));return this.bigMap.Execute(r,e)},t.prototype.ExecuteOnBigMapValue=function(t,e){if(!this.bigMap)throw new Error("No big map schema");return this.bigMap.ValueSchema.Execute(t,e)},t.prototype.EncodeBigMapKey=function(t){if(!this.bigMap)throw new Error("No big map schema");try{return this.bigMap.KeySchema.ToBigMapKey(t)}catch(t){throw new Error("Unable to encode big map key: "+t)}},t.prototype.Encode=function(t){try{return this.root.EncodeObject(t)}catch(t){if(t instanceof mr)throw t;throw new Error("Unable to encode storage object. "+t)}},t.prototype.ExtractSchema=function(){return this.removeTopLevelAnnotation(this.root.ExtractSchema())},t.prototype.ComputeState=function(t,e){var r,n=this;if(!this.bigMap)throw new Error("No big map schema");var i=t.reduce((function(t,e){return lr(lr({},t),n.ExecuteOnBigMapDiff(e.contents[0].metadata.operation_result.big_map_diff))}),{});return lr(lr({},this.Execute(e)),((r={})[this.bigMap.annot()]=i,r))},t.prototype.FindFirstInTopLevelPair=function(t,e){return this.findValue(this.root.val,t,e)},t.prototype.findValue=function(t,e,r){if(yn(r,t))return e;if(Array.isArray(t)||"pair"===t.prim){var n=gn(t),i=gn(e,"Pair");if(void 0===n.args||void 0===i.args)throw new Error("Tokens have no arguments");return this.findValue(n.args[0],i.args[0],r)||this.findValue(n.args[1],i.args[1],r)}},t}();Sr=dn;var mn=function(){function t(t){this.root=pn(t,0)}return t.fromRPCResponse=function(e){var r=e&&e.script&&Array.isArray(e.script.code)&&e.script.code.find((function(t){return"parameter"===t.prim}));if(!r||!Array.isArray(r.args))throw new Error("Invalid rpc response passed as arguments");return new t(r.args[0])},Object.defineProperty(t.prototype,"isMultipleEntryPoint",{get:function(){return this.root instanceof Or||this.root instanceof Vr&&this.root.subToken()instanceof Or},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAnnotation",{get:function(){return!this.isMultipleEntryPoint||"0"!==Object.keys(this.ExtractSchema())[0]},enumerable:!1,configurable:!0}),t.prototype.Execute=function(t,e){return this.root.Execute(t,e)},t.prototype.Encode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return this.root.Encode(t.reverse())}catch(t){if(t instanceof mr)throw t;throw new Error("Unable to encode storage object. "+t)}},t.prototype.ExtractSchema=function(){return this.root.ExtractSchema()},t.prototype.ExtractSignatures=function(){return this.root.ExtractSignature()},t}(),bn=Symbol(),wn=Symbol("source_reference"),_n=function(t,e){return(_n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function En(t,e){function r(){this.constructor=t}_n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var On=function(){return(On=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function An(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Sn(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tn(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function xn(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Tn(arguments[e]));return t}var Nn,Pn=function(t){function e(r,n,i){var o=t.call(this,i)||this;return o.src=r,o.idx=n,Object.setPrototypeOf(o,e.prototype),o}return En(e,t),e}(Error);!function(t){t[t.Comment=0]="Comment",t[t.Number=1]="Number",t[t.String=2]="String",t[t.Bytes=3]="Bytes",t[t.Ident=4]="Ident"}(Nn||(Nn={}));var Rn=new RegExp("\\s"),In=new RegExp("[:@%_A-Za-z]"),kn=new RegExp("[@%_\\.A-Za-z0-9]"),Ln=new RegExp("[0-9]"),Cn=new RegExp("[0-9a-fA-F]");function Dn(t,e){var r,n,i,o,s;return void 0===e&&(e=!1),An(this,(function(a){switch(a.label){case 0:r=0,a.label=1;case 1:if(!(r<t.length))return[3,19];for(;r<t.length&&Rn.test(t[r]);)r++;if(r===t.length)return[2];if(n=t[r],i=r,!In.test(n))return[3,3];for(r++;r<t.length&&kn.test(t[r]);)r++;return[4,{t:Nn.Ident,v:t.slice(i,r),first:i,last:r}];case 2:return a.sent(),[3,18];case 3:if(!(t.length-r>1&&"0x"===t.substr(r,2)))return[3,5];for(r+=2;r<t.length&&Cn.test(t[r]);)r++;if(0!=(r-i&1))throw new Pn(t,r,"Bytes literal length is expected to be power of two");return[4,{t:Nn.Bytes,v:t.slice(i,r),first:i,last:r}];case 4:return a.sent(),[3,18];case 5:if(!Ln.test(n)&&"-"!==n)return[3,7];for("-"===n&&r++,o=r;r<t.length&&Ln.test(t[r]);)r++;if(o===r)throw new Pn(t,r,"Number literal is too short");return[4,{t:Nn.Number,v:t.slice(i,r),first:i,last:r}];case 6:return a.sent(),[3,18];case 7:if('"'!==n)return[3,9];for(r++,s=!1;r<t.length&&(s||'"'!==t[r]);r++)s=!s&&"\\"===t[r];if(r===t.length)throw new Pn(t,r,"Unterminated string literal");return r++,[4,{t:Nn.String,v:t.slice(i,r),first:i,last:r}];case 8:return a.sent(),[3,18];case 9:if("#"!==n)return[3,12];for(r++;r<t.length&&"\n"!==t[r];)r++;return e?[4,{t:Nn.Comment,v:t.slice(i,r),first:i,last:r}]:[3,11];case 10:a.sent(),a.label=11;case 11:return[3,18];case 12:if(!(t.length-r>1&&"/*"===t.substr(r,2)))return[3,15];for(r+=2;r<t.length&&!(t.length-r>1&&"*/"===t.substr(r,2));)r++;if(r===t.length)throw new Pn(t,r,"Unterminated C style comment");return r+=2,e?[4,{t:Nn.Comment,v:t.slice(i,r),first:i,last:r}]:[3,14];case 13:a.sent(),a.label=14;case 14:return[3,18];case 15:return"("!==n&&")"!==n&&"{"!==n&&"}"!==n&&";"!==n?[3,17]:(r++,[4,{t:n,v:n,first:i,last:r}]);case 16:return a.sent(),[3,18];case 17:throw new Pn(t,r,"Invalid character at offset "+r+": `"+n+"'");case 18:return[3,1];case 19:return[2]}}))}var Un,Mn=Symbol("ref_contract");!function(t){t.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",t.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",t.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",t.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",t.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",t.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",t.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i"}(Un||(Un={}));var jn=Un.PsDELPH1,Bn=function(t){function e(r,n){var i=t.call(this,n)||this;return i.prim=r,Object.setPrototypeOf(i,e.prototype),i}return En(e,t),e}(Error);function Hn(t,e){var r,n;if(0===e&&void 0===t.args||(null===(r=t.args)||void 0===r?void 0:r.length)===e)return!0;throw new Bn(t,"macro "+t.prim+" expects "+e+" arguments, was given "+(null===(n=t.args)||void 0===n?void 0:n.length))}function Fn(t){if(void 0===t.annots)return!0;throw new Bn(t,"unexpected annotation on macro "+t.prim+": "+t.annots)}function Gn(t,e){if("int"in e)return!0;throw new Bn(t,"macro "+t.prim+" expects int argument")}function Vn(t,e,r,n){var i,o=0,s=0,a=[null,null];if(o===e.length)throw new Bn(t,"unexpected end: "+t.prim);var u,c=e[o++];switch(c){case"P":var l=Vn(t,e.slice(o),r.slice(s),n);i=f=l.r,o+=p=l.n,s+=d=l.an;break;case"A":s!==r.length&&(a[0]=r[s++]);break;default:throw new Bn(t,t.prim+": unexpected character: "+c)}if(o===e.length)throw new Bn(t,"unexpected end: "+t.prim);switch(c=e[o++]){case"P":var h=Vn(t,e.slice(o),r.slice(s),n),f=h.r,p=h.n,d=h.an;u=f.map((function(t){var e=Tn(t,2);return[e[0]+1,e[1]]})),o+=p,s+=d;break;case"I":s!==r.length&&(a[1]=r[s++]);break;default:throw new Bn(t,t.prim+": unexpected character: "+c)}return{r:n(i,u,[0,a]),n:o,an:s}}function Kn(t,e,r,n){var i=e[0];switch(i){case"A":return e.length>1?[{prim:"DUP"},{prim:"DIP",args:[[{prim:"CAR",annots:["@%%"]},Kn(t,e.slice(1),[],n)]]},{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:xn(["%@","%@"],r)}]:n.a;case"D":return e.length>1?[{prim:"DUP"},{prim:"DIP",args:[[{prim:"CDR",annots:["@%%"]},Kn(t,e.slice(1),[],n)]]},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:xn(["%@","%@"],r)}]:n.d;default:throw new Bn(t,t.prim+": unexpected character: "+i)}}function qn(t){var e,r,n=[],i=[];if(void 0!==t)try{for(var o=Sn(t),s=o.next();!s.done;s=o.next()){var a=s.value;(0!==a.length&&"%"===a[0]?n:i).push(a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return{fields:n,rest:i}}function zn(t){var e=t.prim,r=t.annots,n=t.args;return On(On({prim:e},r&&{annots:r}),n&&{args:n})}var Wn=/^P[PAI]{3,}R$/,Yn=/^UNP[PAI]{2,}R$/,$n=/^C[AD]{2,}R$/,Xn=/^SET_C[AD]+R$/,Jn=/^MAP_C[AD]+R$/,Zn=/^DI{2,}P$/,Qn=/^DU+P$/,ti=function(t){function e(r,n){var i=t.call(this,n)||this;return i.token=r,Object.setPrototypeOf(i,e.prototype),i}return En(e,t),e}(Error),ei=function(t){function e(r,n){var i=t.call(this,n)||this;return i.node=r,Object.setPrototypeOf(i,e.prototype),i}return En(e,t),e}(Error),ri=new ti(null,"Unexpected EOF");function ni(t){return t.t===Nn.Ident&&("@"===t.v[0]||"%"===t.v[0]||":"===t.v[0])}var ii=new RegExp("^-?[0-9]+$"),oi=new RegExp("^([0-9a-fA-F]{2})*$"),si=function(){function t(t){this.opt=t}return t.prototype.expand=function(t){var e,r;if(void 0===(null===(e=this.opt)||void 0===e?void 0:e.expandMacros)||(null===(r=this.opt)||void 0===r?void 0:r.expandMacros)){var n=function(t,e){var r=(null==e?void 0:e.protocol)||jn;function n(t){return void 0!==t?[{prim:"RENAME",annots:t}]:[]}switch(t.prim){case"CMPEQ":case"CMPNEQ":case"CMPLT":case"CMPGT":case"CMPLE":case"CMPGE":if(Hn(t,0))return[{prim:"COMPARE"},zn({prim:t.prim.slice(3),annots:t.annots})];break;case"IFEQ":case"IFNEQ":case"IFLT":case"IFGT":case"IFLE":case"IFGE":if(Hn(t,2))return[{prim:t.prim.slice(2)},zn({prim:"IF",annots:t.annots,args:t.args})];break;case"IFCMPEQ":case"IFCMPNEQ":case"IFCMPLT":case"IFCMPGT":case"IFCMPLE":case"IFCMPGE":if(Hn(t,2))return[{prim:"COMPARE"},{prim:t.prim.slice(5)},zn({prim:"IF",annots:t.annots,args:t.args})];break;case"FAIL":if(Hn(t,0)&&Fn(t))return[{prim:"UNIT"},{prim:"FAILWITH"}];break;case"ASSERT":if(Hn(t,0)&&Fn(t))return[{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_EQ":case"ASSERT_NEQ":case"ASSERT_LT":case"ASSERT_GT":case"ASSERT_LE":case"ASSERT_GE":if(Hn(t,0)&&Fn(t))return[{prim:t.prim.slice(7)},{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_CMPEQ":case"ASSERT_CMPNEQ":case"ASSERT_CMPLT":case"ASSERT_CMPGT":case"ASSERT_CMPLE":case"ASSERT_CMPGE":if(Hn(t,0)&&Fn(t))return[[{prim:"COMPARE"},{prim:t.prim.slice(10)}],{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_NONE":if(Hn(t,0)&&Fn(t))return[{prim:"IF_NONE",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_SOME":if(Hn(t,0))return[{prim:"IF_NONE",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],n(t.annots)]}];break;case"ASSERT_LEFT":if(Hn(t,0))return[{prim:"IF_LEFT",args:[n(t.annots),[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_RIGHT":if(Hn(t,0))return[{prim:"IF_LEFT",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],n(t.annots)]}];break;case"IF_SOME":if(Hn(t,2))return[zn({prim:"IF_NONE",annots:t.annots,args:[t.args[1],t.args[0]]})];break;case"IF_RIGHT":if(Hn(t,2))return[zn({prim:"IF_LEFT",annots:t.annots,args:[t.args[1],t.args[0]]})];break;case"CAR":case"CDR":if(void 0===t.args)return t;if(Hn(t,1)&&Gn(t,t.args[0])){var i=parseInt(t.args[0].int,10);return zn({prim:"GET",args:[{int:"CAR"===t.prim?String(2*i+1):String(2*i)}],annots:t.annots})}}if(Wn.test(t.prim)&&Hn(t,0)){var o=qn(t.annots),s=o.fields,a=o.rest,u=Vn(t,t.prim.slice(1),s,(function(t,e,r){return xn(t||[],e||[],[r])})).r;return u.map((function(t,e){var r=Tn(t,2),n=r[0],i=xn(function(t,e){for(var r=t.length;r>0&&null===t[r-1];)r--;return t.slice(0,r)}(r[1]).map((function(t){return null===t?"%":t})),0===n&&e===u.length-1?a:[]),o=zn({prim:"PAIR",annots:0!==i.length?i:void 0});return 0===n?o:{prim:"DIP",args:1===n?[[o]]:[{int:String(n)},[o]]}}))}if(Yn.test(t.prim))if(r===Un.PtEdo2Zk||r===Un.PsFLorena){if("UNPAIR"===t.prim)return t;if(Hn(t,0))return Vn(t,t.prim.slice(3),[],(function(t,e,r){return xn([r],e||[],t||[])})).r.map((function(t){var e=Tn(t,1)[0],r=zn({prim:"UNPAIR"});return 0===e?r:{prim:"DIP",args:1===e?[[r]]:[{int:String(e)},[r]]}}))}else if(Hn(t,0))return Vn(t,t.prim.slice(3),t.annots||[],(function(t,e,r){return xn([r],e||[],t||[])})).r.map((function(t){var e=Tn(t,2),r=e[0],n=e[1],i=[{prim:"DUP"},zn({prim:"CAR",annots:null!==n[0]?[n[0]]:void 0}),{prim:"DIP",args:[[zn({prim:"CDR",annots:null!==n[1]?[n[1]]:void 0})]]}];return 0===r?i:{prim:"DIP",args:1===r?[[i]]:[{int:String(r)},[i]]}}));if($n.test(t.prim)&&Hn(t,0)){var c=xn(t.prim.slice(1,t.prim.length-1));return c.map((function(e,r){var n=r===c.length-1?t.annots:void 0;switch(e){case"A":return zn({prim:"CAR",annots:n});case"D":return zn({prim:"CDR",annots:n});default:throw new Bn(t,"unexpected character: "+e)}}))}if(Xn.test(t.prim)&&Hn(t,0)){var l=qn(t.annots),h=(s=l.fields,l.rest);if(s.length>1)throw new Bn(t,"unexpected annotation on macro "+t.prim+": "+s);var f=0!==s.length?{a:[{prim:"DUP"},{prim:"CAR",annots:s},{prim:"DROP"},{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:[s[0],"%@"]}],d:[{prim:"DUP"},{prim:"CDR",annots:s},{prim:"DROP"},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@",s[0]]}]}:{a:[{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:["%","%@"]}],d:[{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@","%"]}]};return Kn(t,t.prim.slice(5,t.prim.length-1),h,f)}if(Jn.test(t.prim)&&Hn(t,1)){if((s=qn(t.annots).fields).length>1)throw new Bn(t,"unexpected annotation on macro "+t.prim+": "+s);return f={a:[{prim:"DUP"},{prim:"CDR",annots:["@%%"]},{prim:"DIP",args:[[zn({prim:"CAR",annots:0!==s.length?["@"+s[0].slice(1)]:void 0}),t.args[0]]]},{prim:"SWAP"},{prim:"PAIR",annots:[0!==s.length?s[0]:"%","%@"]}],d:[{prim:"DUP"},zn({prim:"CDR",annots:0!==s.length?["@"+s[0].slice(1)]:void 0}),t.args[0],{prim:"SWAP"},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@",0!==s.length?s[0]:"%"]}]},Kn(t,t.prim.slice(5,t.prim.length-1),[],f)}if(Zn.test(t.prim)&&Hn(t,1)){for(i=0;"I"===t.prim[1+i];)i++;return zn({prim:"DIP",args:[{int:String(i)},t.args[0]]})}if(Qn.test(t.prim)){for(i=0;"U"===t.prim[1+i];)i++;if(r!==Un.PtEdo2Zk&&r!==Un.PsFLorena){if(1===i){if(void 0===t.args)return t;Hn(t,1)&&Gn(t,t.args[0])&&(i=parseInt(t.args[0].int,10))}else Hn(t,0);return 1===i?[zn({prim:"DUP",annots:t.annots})]:2===i?[{prim:"DIP",args:[[zn({prim:"DUP",annots:t.annots})]]},{prim:"SWAP"}]:[{prim:"DIP",args:[{int:String(i-1)},[zn({prim:"DUP",annots:t.annots})]]},{prim:"DIG",args:[{int:String(i)}]}]}if(1===i)return t;if(Hn(t,0))return zn({prim:"DUP",args:[{int:String(i)}],annots:t.annots})}return t}(t,this.opt);return n!==t&&(n[wn]=On(On({},t[wn]||{first:0,last:0}),{macro:t})),n}return t},t.prototype.parseListExpr=function(t,e){var r,n,i,o={first:e.first,last:e.last},s="("===e.t;if(s){if((i=t.next()).done)throw ri;o.last=i.value.last}else i={value:e};if(i.value.t!==Nn.Ident)throw new ti(i.value,"not an identifier: "+i.value.v);for(var a=((r={prim:i.value.v})[wn]=o,r);;){var u=t.next();if(u.done){if(s)throw ri;break}if(")"===u.value.t){if(!s)throw new ti(u.value,"unexpected closing bracket");o.last=u.value.last;break}if(ni(u.value))a.annots=a.annots||[],a.annots.push(u.value.v),o.last=u.value.last;else{a.args=a.args||[];var c=this.parseExpr(t,u.value);o.last=(null===(n=c[wn])||void 0===n?void 0:n.last)||o.last,a.args.push(c)}}return this.expand(a)},t.prototype.parseArgs=function(t,e){for(var r,n,i={first:e.first,last:e.last},o=((r={prim:e.v})[wn]=i,r);;){var s=t.next();if(s.done||"}"===s.value.t||";"===s.value.t)return[o,s];if(ni(s.value))i.last=s.value.last,o.annots=o.annots||[],o.annots.push(s.value.v);else{var a=this.parseExpr(t,s.value);i.last=(null===(n=a[wn])||void 0===n?void 0:n.last)||i.last,o.args=o.args||[],o.args.push(a)}}},t.prototype.parseSequenceExpr=function(t,e){var r,n,i={first:e.first,last:e.last},o=[];o[wn]=i;for(var s="{"===e.t,a="{"===e.t?null:{value:e};;){if(null===a&&((a=t.next()).done||(i.last=a.value.last)),a.done){if(s)throw ri;return o}if("}"===a.value.t){if(s)return o;throw new ti(a.value,"unexpected closing bracket")}if(a.value.t===Nn.Ident){var u=Tn(this.parseArgs(t,a.value),2),c=u[0],l=u[1];i.last=(null===(r=c[wn])||void 0===r?void 0:r.last)||i.last,o.push(this.expand(c)),a=l}else{var h=this.parseExpr(t,a.value);i.last=(null===(n=h[wn])||void 0===n?void 0:n.last)||i.last,o.push(h),a=null}null===a&&((a=t.next()).done||(i.last=a.value.last)),a.done||";"!==a.value.t||(a=null)}},t.prototype.parseExpr=function(t,e){var r,n,i,o;switch(e.t){case Nn.Ident:return this.expand(((r={prim:e.v})[wn]={first:e.first,last:e.last},r));case Nn.Number:return(n={int:e.v})[wn]={first:e.first,last:e.last},n;case Nn.String:return(i={string:JSON.parse(e.v)})[wn]={first:e.first,last:e.last},i;case Nn.Bytes:return(o={bytes:e.v.slice(2)})[wn]={first:e.first,last:e.last},o;case"{":return this.parseSequenceExpr(t,e);default:return this.parseListExpr(t,e)}},t.prototype.parseSequence=function(t){if("string"!=typeof t)throw new TypeError("string type was expected, got "+typeof t+" instead");var e=Dn(t),r=e.next();return r.done?null:this.parseSequenceExpr(e,r.value)},t.prototype.parseList=function(t){if("string"!=typeof t)throw new TypeError("string type was expected, got "+typeof t+" instead");var e=Dn(t),r=e.next();return r.done?null:this.parseListExpr(e,r.value)},t.prototype.parseMichelineExpression=function(t){if("string"!=typeof t)throw new TypeError("string type was expected, got "+typeof t+" instead");var e=Dn(t),r=e.next();return r.done?null:this.parseExpr(e,r.value)},t.prototype.parseScript=function(t){return this.parseSequence(t)},t.prototype.parseData=function(t){return this.parseList(t)},t.prototype.parseJSON=function(t){var e,r,n,i,o,s;if("object"!=typeof t)throw new TypeError("object type was expected, got "+typeof t+" instead");if(Array.isArray(t)){var a=[];try{for(var u=Sn(t),c=u.next();!c.done;c=u.next()){var l=c.value;if(null===l||"object"!=typeof l)throw new ei(l,"unexpected sequence element: "+l);a.push(this.parseJSON(l))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return a}if("prim"in t){var h=t;if("string"==typeof h.prim&&(void 0===h.annots||Array.isArray(h.annots))&&(void 0===h.args||Array.isArray(h.args))){if(a={prim:h.prim},void 0!==h.annots){try{for(var f=Sn(h.annots),p=f.next();!p.done;p=f.next())if("string"!=typeof(y=p.value))throw new ei(y,"string expected: "+y)}catch(t){n={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}a.annots=h.annots}if(void 0!==h.args){a.args=[];try{for(var d=Sn(h.args),g=d.next();!g.done;g=d.next()){var y;if(null===(y=g.value)||"object"!=typeof y)throw new ei(y,"unexpected argument: "+y);a.args.push(this.parseJSON(y))}}catch(t){o={error:t}}finally{try{g&&!g.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}}return this.expand(a)}throw new ei(t,"malformed prim expression: "+t)}if("string"in t){if("string"==typeof t.string)return{string:t.string};throw new ei(t,"malformed string literal: "+t)}if("int"in t){if("string"==typeof t.int&&ii.test(t.int))return{int:t.int};throw new ei(t,"malformed int literal: "+t)}if("bytes"in t){if("string"==typeof t.bytes&&oi.test(t.bytes))return{bytes:t.bytes};throw new ei(t,"malformed bytes literal: "+t)}throw new ei(t,"unexpected object: "+t)},t}();!function(){function t(t,e){void 0===e&&(e=0),this.opt=t,this.lev=e}t.prototype.indent=function(t){var e;void 0===t&&(t=0);var r="";if(void 0!==(null===(e=this.opt)||void 0===e?void 0:e.indent))for(var n=this.lev+t;n>0;n--)r+=this.opt.indent;return r},Object.defineProperty(t.prototype,"lf",{get:function(){var t;return(null===(t=this.opt)||void 0===t?void 0:t.newline)||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lfsp",{get:function(){var t;return(null===(t=this.opt)||void 0===t?void 0:t.newline)||" "},enumerable:!1,configurable:!0}),t.prototype.down=function(e){return new t(this.opt,this.lev+e)}}();var ai=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],ui=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];function ci(t){var e,r,n=(t.length+9)%64,i=0===n?0:64-n;if(t.length>268435455)throw new Error("sha256: message length is too big: "+t.length);var o=t.length<<3,s=xn(t,[128],new Array(i).fill(0),[0,0,0,0,o>>24&255,o>>16&255,o>>8&255,255&o]);function a(t,e){return t>>>e|t<<32-e}for(var u=xn(ai),c=new Array(64),l=new Array(8),h=0;h<s.length;h+=64){for(var f=h,p=0;p<16;)c[p]=s[f]<<24|s[f+1]<<16|s[f+2]<<8|s[f+3],f+=4,p++;for(;p<64;){var d=a(c[p-15],7)^a(c[p-15],18)^c[p-15]>>>3,g=a(c[p-2],17)^a(c[p-2],19)^c[p-2]>>>10;c[p]=(0|g)+c[p-7]+d+c[p-16]|0,p++}for(var y=0;y<8;y++)l[y]=u[y];for(var v=0;v<64;v++){var m=a(l[0],2)^a(l[0],13)^a(l[0],22),b=a(l[4],6)^a(l[4],11)^a(l[4],25),w=l[7]+b+(l[4]&l[5]^~l[4]&l[6])+ui[v]+c[v]|0,_=m+(l[0]&l[1]^l[0]&l[2]^l[1]&l[2])|0;l[7]=l[6],l[6]=l[5],l[5]=l[4],l[4]=l[3]+w|0,l[3]=l[2],l[2]=l[1],l[1]=l[0],l[0]=w+_|0}for(var E=0;E<8;E++)u[E]=u[E]+l[E]|0}var O=[];try{for(var A=Sn(u),S=A.next();!S.done;S=A.next()){var T=S.value;O.push(T>>24&255),O.push(T>>16&255),O.push(T>>8&255),O.push(255&T)}}catch(t){e={error:t}}finally{try{S&&!S.done&&(r=A.return)&&r.call(A)}finally{if(e)throw e.error}}return O}var li=[0,1,2,3,4,5,6,7,8,-1,-1,-1,-1,-1,-1,-1,9,10,11,12,13,14,15,16,-1,17,18,19,20,21,-1,22,23,24,25,26,27,28,29,30,31,32,-1,-1,-1,-1,-1,-1,33,34,35,36,37,38,39,40,41,42,43,-1,44,45,46,47,48,49,50,51,52,53,54,55,56,57];function hi(t,e){var r=t.charCodeAt(e)-49;if(r>=li.length||-1===li[r])throw new Error("Base58 decoding error: unexpected character at position "+e+": "+t[e]);return li[r]}function fi(t){var e=function(t){for(var e=[],r=0;r<t.length&&0===hi(t,r);)r++;for(var n=r;r<t.length;)for(var i=hi(t,r++),o=0;0!==i||o<e.length;){var s=58*(e[o]||0)+i;e[o++]=s%256,i=Math.floor(s/256)}for(;n-- >0;)e.push(0);return e.reverse()}(t);if(e.length<4)throw new Error("Base58Check decoding error: data is too short "+e.length);var r=e.slice(0,e.length-4),n=e.slice(e.length-4),i=ci(ci(r));if(n[0]!==i[0]||n[1]!==i[1]||n[2]!==i[2]||n[3]!==i[3])throw new Error("Base58Check decoding error: invalid checksum");return r}var pi=function(t){function e(r,n){var i=t.call(this,n)||this;return i.val=r,Object.setPrototypeOf(i,e.prototype),i}return En(e,t),e}(Error),di=function(t){function e(r,n,i){var o=t.call(this,r,i)||this;return void 0!==n&&(o.data=n),Object.setPrototypeOf(o,e.prototype),o}return En(e,t),e}(pi),gi=function(){function t(t){if(this.neg=!1,this.buf=[],void 0!==t)if("string"==typeof t)for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(0===e&&45===r)this.neg=!0;else{if(r<48||r>57)throw new Error("unexpected character in integer constant: "+t[e]);this.append(r-48)}}else t<0?(this.neg=!0,this.append(-t)):this.append(t)}return t.prototype.append=function(t){for(var e=0;0!==t||e<this.buf.length;){var r=10*(this.buf[e]||0)+t;this.buf[e++]=r%256,t=Math.floor(r/256)}},t.prototype.cmp=function(t){if(this.neg!==t.neg)return(t.neg?1:0)-(this.neg?1:0);var e=0;if(this.buf.length!==t.buf.length)e=this.buf.length<t.buf.length?-1:1;else if(0!==this.buf.length){for(var r=t.buf.length-1;r>=0&&this.buf[r]===t.buf[r];)r--;e=r<0?0:this.buf[r]<t.buf[r]?-1:1}return this.neg?0===e?0:-e:e},Object.defineProperty(t.prototype,"sign",{get:function(){return 0===this.buf.length?0:this.neg?-1:1},enumerable:!1,configurable:!0}),t}();function yi(t){for(var e=[],r=0;r<t.length;r+=2){var n=parseInt(t.slice(r,r+2),16);if(Number.isNaN(n))return null;e.push(n)}return e}function vi(t,e){if(t.length!==e.length)return t.length<e.length?-1:1;if(0!==t.length){for(var r=0;r<t.length&&t[r]===e[r];)r++;return r===t.length?0:t[r]<e[r]?-1:1}return 0}function mi(t){try{return new gi(t),!0}catch(t){return!1}}function bi(t){try{return new gi(t).sign>=0}catch(t){return!1}}var wi=/^(@%|@%%|%@|[@:%]([_0-9a-zA-Z][_0-9a-zA-Z\.%@]*)?)$/;function _i(t,e){var r,n,i,o,s;if(Array.isArray(t))return{};if(void 0!==t.annots)try{for(var a=Sn(t.annots),u=a.next();!u.done;u=a.next()){var c=u.value;if(0!==c.length){if(!wi.test(c)||!(null==e?void 0:e.specialVar)&&("@%"===c||"@%%"===c)||!(null==e?void 0:e.specialFields)&&"%@"===c)throw new pi(t,t.prim+": unexpected annotation: "+c);switch(c[0]){case"%":((null==e?void 0:e.emptyFields)||c.length>1)&&(i=i||[]).push(c);break;case":":c.length>1&&(o=o||[]).push(c);break;case"@":((null==e?void 0:e.emptyVar)||c.length>1)&&(s=s||[]).push(c)}}}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return{f:i,t:o,v:s}}var Ei={BlockHash:[32,[1,52]],OperationHash:[32,[5,116]],OperationListHash:[32,[133,233]],OperationListListHash:[32,[29,159,109]],ProtocolHash:[32,[2,170]],ContextHash:[32,[79,199]],ED25519PublicKeyHash:[20,[6,161,159]],SECP256K1PublicKeyHash:[20,[6,161,161]],P256PublicKeyHash:[20,[6,161,164]],ContractHash:[20,[2,90,121]],CryptoboxPublicKeyHash:[16,[153,103]],ED25519Seed:[32,[13,15,58,7]],ED25519PublicKey:[32,[13,15,37,217]],SECP256K1SecretKey:[32,[17,162,224,201]],P256SecretKey:[32,[16,81,238,189]],ED25519EncryptedSeed:[56,[7,90,60,179,41]],SECP256K1EncryptedSecretKey:[56,[9,237,241,174,150]],P256EncryptedSecretKey:[56,[9,48,57,115,171]],SECP256K1PublicKey:[33,[3,254,226,86]],P256PublicKey:[33,[3,178,139,127]],SECP256K1Scalar:[33,[38,248,136]],SECP256K1Element:[33,[5,92,0]],ED25519SecretKey:[64,[43,246,78,7]],ED25519Signature:[64,[9,245,205,134,18]],SECP256K1Signature:[64,[13,115,101,19,63]],P256Signature:[64,[54,240,44,52]],GenericSignature:[64,[4,130,43]],ChainID:[4,[87,82,0]]};function Oi(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=fi(t);try{for(var s=Sn(n),a=s.next();!a.done;a=s.next()){var u=a.value,c=Tn(Ei[u],2),l=c[0],h=c[1];if(o.length===l+h.length){for(var f=0;f<h.length&&o[f]===h[f];)f++;if(f===h.length)return[u,o.slice(h.length)]}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return null}function Ai(t,e){var r=e,n=Array.isArray(r)?r:r.args;return 2===n.length?"pair"===t?{prim:"pair",args:n}:{prim:"Pair",args:n}:On(On({},Array.isArray(r)?{prim:t}:r),{args:[n[0],{prim:t,args:n.slice(1)}]})}function Si(t){return Array.isArray(t)||"pair"===t.prim}function Ti(t){return Array.isArray(t)||"prim"in t&&"Pair"===t.prim}var xi=/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])[T ]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|[+-]([01][0-9]|2[0-3]):([0-5][0-9]))$/;function Ni(t){if("string"in t){if(bi(t.string))return new Date(parseInt(t.string,10));if(xi.test(t.string)){var e=new Date(t.string);if(!Number.isNaN(e.valueOf))return e}}else if(bi(t.int))return new Date(parseInt(t.int,10));return null}var Pi={ABS:!0,ADD:!0,ADDRESS:!0,AMOUNT:!0,AND:!0,APPLY:!0,BALANCE:!0,BLAKE2B:!0,CAR:!0,CDR:!0,CHAIN_ID:!0,CHECK_SIGNATURE:!0,COMPARE:!0,CONCAT:!0,CONS:!0,EDIV:!0,EQ:!0,EXEC:!0,FAILWITH:!0,GE:!0,GET_AND_UPDATE:!0,GT:!0,HASH_KEY:!0,IMPLICIT_ACCOUNT:!0,INT:!0,ISNAT:!0,JOIN_TICKETS:!0,KECCAK:!0,LE:!0,LEVEL:!0,LSL:!0,LSR:!0,LT:!0,MEM:!0,MUL:!0,NEG:!0,NEQ:!0,NEVER:!0,NOT:!0,NOW:!0,OR:!0,PACK:!0,PAIRING_CHECK:!0,READ_TICKET:!0,SAPLING_VERIFY_UPDATE:!0,SELF:!0,SELF_ADDRESS:!0,SENDER:!0,SET_DELEGATE:!0,SHA256:!0,SHA3:!0,SHA512:!0,SIZE:!0,SLICE:!0,SOME:!0,SOURCE:!0,SPLIT_TICKET:!0,SUB:!0,SWAP:!0,TICKET:!0,TOTAL_VOTING_POWER:!0,TRANSFER_TOKENS:!0,UNIT:!0,VOTING_POWER:!0,XOR:!0,RENAME:!0},Ri=Object.assign({},Pi,{CONTRACT:!0,CREATE_CONTRACT:!0,DIG:!0,DIP:!0,DROP:!0,DUG:!0,DUP:!0,EMPTY_BIG_MAP:!0,EMPTY_MAP:!0,EMPTY_SET:!0,GET:!0,IF:!0,IF_CONS:!0,IF_LEFT:!0,IF_NONE:!0,ITER:!0,LAMBDA:!0,LEFT:!0,LOOP:!0,LOOP_LEFT:!0,MAP:!0,NIL:!0,NONE:!0,PAIR:!0,PUSH:!0,RIGHT:!0,SAPLING_EMPTY_STATE:!0,UNPACK:!0,UNPAIR:!0,UPDATE:!0,CAST:!0}),Ii={unit:!0,never:!0,bool:!0,int:!0,nat:!0,string:!0,chain_id:!0,bytes:!0,mutez:!0,key_hash:!0,key:!0,signature:!0,timestamp:!0,address:!0},ki=Object.assign({},Ii,{or:!0,pair:!0,set:!0,big_map:!0,contract:!0,lambda:!0,list:!0,map:!0,operation:!0,option:!0,bls12_381_g1:!0,bls12_381_g2:!0,bls12_381_fr:!0,sapling_transaction:!0,sapling_state:!0,ticket:!0}),Li=function(t){function e(r,n){var i=t.call(this,r,n)||this;return i.val=r,Object.setPrototypeOf(i,e.prototype),i}return En(e,t),e}(pi);function Ci(t){return"prim"in t}function Di(t){if(Ci(t))return!0;throw new Li(t,"prim expression expected")}function Ui(t){if(Array.isArray(t))return!0;throw new Li(t,"sequence expression expected")}function Mi(t){if(function(t){return Array.isArray(t)||"prim"in t}(t))return!0;throw new Li(t,"prim or sequence expression expected")}function ji(t){if("-"===t.int[0])throw new Li(t,"natural number expected")}function Bi(t){if("int"in t)return!0;throw new Li(t,"int literal expected")}function Hi(t,e){var r;if(0===e&&void 0===t.args||(null===(r=t.args)||void 0===r?void 0:r.length)===e)return!0;throw new Li(t,e+" arguments expected")}function Fi(t){var e,r,n,i;if(Array.isArray(t)){try{for(var o=Sn(t),s=o.next();!s.done;s=o.next()){var a=s.value;if(!Array.isArray(a)&&!Ci(a))throw new Li(t,"sequence or prim expected");Fi(a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return!0}if(Di(t)){if(Object.prototype.hasOwnProperty.call(Pi,t.prim))return Hi(t,0),!0;switch(t.prim){case"DROP":case"PAIR":case"UNPAIR":case"DUP":case"UPDATE":case"GET":void 0!==t.args&&Hi(t,1)&&Bi(t.args[0])&&ji(t.args[0]);break;case"DIG":case"DUG":case"SAPLING_EMPTY_STATE":Hi(t,1)&&Bi(t.args[0])&&ji(t.args[0]);break;case"NONE":case"LEFT":case"RIGHT":case"NIL":case"CAST":Hi(t,1)&&Yi(t.args[0]);break;case"UNPACK":Hi(t,1)&&Vi(t.args[0]);break;case"CONTRACT":Hi(t,1)&&zi(t.args[0]);break;case"IF_NONE":case"IF_LEFT":case"IF_CONS":case"IF":Hi(t,2)&&(Ui(t.args[0])&&Fi(t.args[0]),Ui(t.args[1])&&Fi(t.args[1]));break;case"MAP":case"ITER":case"LOOP":case"LOOP_LEFT":Hi(t,1)&&Fi(t.args[0]);break;case"CREATE_CONTRACT":Hi(t,1)&&Ji(t.args[0]);break;case"DIP":if(2===(null===(n=t.args)||void 0===n?void 0:n.length))Bi(t.args[0])&&ji(t.args[0]),Ui(t.args[1])&&Fi(t.args[1]);else{if(1!==(null===(i=t.args)||void 0===i?void 0:i.length))throw new Li(t,"1 or 2 arguments expected");Ui(t.args[0])&&Fi(t.args[0])}break;case"PUSH":Hi(t,2)&&(Ki(t.args[0]),Xi(t.args[1]));break;case"EMPTY_SET":Hi(t,1)&&Gi(t.args[0]);break;case"EMPTY_MAP":Hi(t,2)&&(Gi(t.args[0]),Yi(t.args[1]));break;case"EMPTY_BIG_MAP":Hi(t,2)&&(Gi(t.args[0]),Wi(t.args[1]));break;case"LAMBDA":Hi(t,3)&&(Yi(t.args[0]),Yi(t.args[1]),Ui(t.args[2])&&Fi(t.args[2]));break;default:throw new Li(t,"instruction expected")}}return!0}function Gi(t){if(Mi(t))if(Array.isArray(t)||"pair"===t.prim||"or"===t.prim||"option"===t.prim)$i(t,(function(t){return Gi(t)}));else if(!Object.prototype.hasOwnProperty.call(Ii,t.prim))throw new Li(t,t.prim+": type is not comparable");return!0}function Vi(t){if(Mi(t)&&Ci(t)){if(!Object.prototype.hasOwnProperty.call(ki,t.prim)||"big_map"===t.prim||"operation"===t.prim||"sapling_state"===t.prim||"ticket"===t.prim)throw new Li(t,t.prim+": type can't be used inside PACK/UNPACK instructions");$i(t,(function(t){return Vi(t)}))}return!0}function Ki(t){if(Mi(t)&&Ci(t)){if(!Object.prototype.hasOwnProperty.call(ki,t.prim)||"big_map"===t.prim||"operation"===t.prim||"sapling_state"===t.prim||"ticket"===t.prim||"contract"===t.prim)throw new Li(t,t.prim+": type can't be pushed");$i(t,(function(t){return Ki(t)}))}return!0}function qi(t){if(Mi(t)&&Ci(t)){if(!Object.prototype.hasOwnProperty.call(ki,t.prim)||"operation"===t.prim||"contract"===t.prim)throw new Li(t,t.prim+": type can't be used as part of a storage");$i(t,(function(t){return qi(t)}))}return!0}function zi(t){if(Mi(t)&&Ci(t)){if(!Object.prototype.hasOwnProperty.call(ki,t.prim)||"operation"===t.prim)throw new Li(t,t.prim+": type can't be used as part of a parameter");$i(t,(function(t){return zi(t)}))}return!0}function Wi(t){if(Mi(t)&&Ci(t)){if(!Object.prototype.hasOwnProperty.call(ki,t.prim)||"big_map"===t.prim||"operation"===t.prim||"sapling_state"===t.prim)throw new Li(t,t.prim+": type can't be used inside a big_map");$i(t,(function(t){return Wi(t)}))}return!0}function Yi(t){if(Mi(t)&&Ci(t)){if(!Object.prototype.hasOwnProperty.call(ki,t.prim))throw new Li(t,"type expected");$i(t,(function(t){return Yi(t)}))}return!0}function $i(t,e){if(Array.isArray(t)||"pair"===t.prim){var r=Array.isArray(t)?t:t.args;if(void 0===r||r.length<2)throw new Li(t,"at least 2 arguments expected");return r.forEach((function(t){Mi(t)&&e(t)})),!0}switch(t.prim){case"option":case"list":Hi(t,1)&&Mi(t.args[0])&&e(t.args[0]);break;case"contract":Hi(t,1)&&zi(t.args[0]);break;case"or":Hi(t,2)&&Mi(t.args[0])&&Mi(t.args[1])&&(e(t.args[0]),e(t.args[1]));break;case"lambda":Hi(t,2)&&(Yi(t.args[0]),Yi(t.args[1]));break;case"set":Hi(t,1)&&Gi(t.args[0]);break;case"map":Hi(t,2)&&Mi(t.args[0])&&Mi(t.args[1])&&(Gi(t.args[0]),e(t.args[1]));break;case"big_map":Hi(t,2)&&Mi(t.args[0])&&Mi(t.args[1])&&(Gi(t.args[0]),Wi(t.args[1]),e(t.args[1]));break;case"ticket":Hi(t,1)&&Mi(t.args[0])&&Gi(t.args[0]);break;case"sapling_state":case"sapling_transaction":Hi(t,1)&&Bi(t.args[0]);break;default:Hi(t,0)}return!0}function Xi(t){var e,r,n,i;if("int"in t||"string"in t||"bytes"in t)return!0;if(Array.isArray(t)){var o=0;try{for(var s=Sn(t),a=s.next();!a.done;a=s.next()){var u=a.value;Ci(u)&&"Elt"===u.prim?(Hi(u,2)&&(Xi(u.args[0]),Xi(u.args[1])),o++):Xi(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}if(0!==o&&o!==t.length)throw new Li(t,"data entries and map elements can't be intermixed");return!0}if(!Ci(t))throw new Li(t,"data entry expected");switch(t.prim){case"Unit":case"True":case"False":case"None":Hi(t,0);break;case"Pair":if(void 0===t.args||t.args.length<2)throw new Li(t,"at least 2 arguments expected");try{for(var c=Sn(t.args),l=c.next();!l.done;l=c.next())Xi(l.value)}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}break;case"Left":case"Right":case"Some":Hi(t,1)&&Xi(t.args[0]);break;default:if(!Object.prototype.hasOwnProperty.call(Ri,t.prim))throw new Li(t,"data entry or instruction expected");Fi(t)}return!0}function Ji(t){var e,r;if(Ui(t)){var n={};try{for(var i=Sn(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(Di(s)){if("code"!==s.prim&&"parameter"!==s.prim&&"storage"!==s.prim)throw new Li(t,"unexpected contract section: "+s.prim);if(s.prim in n)throw new Li(t,"duplicate contract section: "+s.prim);if(n[s.prim]=!0,Hi(s,1))switch(s.prim){case"code":Ui(s.args[0])&&Fi(s.args[0]);break;case"parameter":zi(s.args[0]);break;case"storage":qi(s.args[0])}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}return!0}function Zi(t){return Object.prototype.hasOwnProperty.call(Ri,t.prim)}function Qi(t){var e,r;if(!Array.isArray(t))return!1;try{for(var n=Sn(t),i=n.next();!i.done;i=n.next()){var o=i.value;if("prim"in o){if(Zi(o))throw new pi(t,"Instruction outside of a lambda: "+JSON.stringify(t));if("Elt"===o.prim)throw new pi(t,"Elt item outside of a map literal: "+JSON.stringify(t))}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return!0}var to;Object.assign.apply(Object,xn([{}],["parameter","storage","code","False","Elt","Left","None","Pair","Right","Some","True","Unit","PACK","UNPACK","BLAKE2B","SHA256","SHA512","ABS","ADD","AMOUNT","AND","BALANCE","CAR","CDR","CHECK_SIGNATURE","COMPARE","CONCAT","CONS","CREATE_ACCOUNT","CREATE_CONTRACT","IMPLICIT_ACCOUNT","DIP","DROP","DUP","EDIV","EMPTY_MAP","EMPTY_SET","EQ","EXEC","FAILWITH","GE","GET","GT","HASH_KEY","IF","IF_CONS","IF_LEFT","IF_NONE","INT","LAMBDA","LE","LEFT","LOOP","LSL","LSR","LT","MAP","MEM","MUL","NEG","NEQ","NIL","NONE","NOT","NOW","OR","PAIR","PUSH","RIGHT","SIZE","SOME","SOURCE","SENDER","SELF","STEPS_TO_QUOTA","SUB","SWAP","TRANSFER_TOKENS","SET_DELEGATE","UNIT","UPDATE","XOR","ITER","LOOP_LEFT","ADDRESS","CONTRACT","ISNAT","CAST","RENAME","bool","contract","int","key","key_hash","lambda","list","map","big_map","nat","option","or","pair","set","signature","string","bytes","mutez","timestamp","unit","operation","address","SLICE","DIG","DUG","EMPTY_BIG_MAP","APPLY","chain_id","CHAIN_ID","LEVEL","SELF_ADDRESS","never","NEVER","UNPAIR","VOTING_POWER","TOTAL_VOTING_POWER","KECCAK","SHA3","PAIRING_CHECK","bls12_381_g1","bls12_381_g2","bls12_381_fr","sapling_state","sapling_transaction","SAPLING_EMPTY_STATE","SAPLING_VERIFY_UPDATE","ticket","TICKET","READ_TICKET","SPLIT_TICKET","JOIN_TICKETS","GET_AND_UPDATE"].map((function(t,e){var r;return(r={})[t]=e,r}))));!function(t){t[t.Int=0]="Int",t[t.String=1]="String",t[t.Sequence=2]="Sequence",t[t.Prim0=3]="Prim0",t[t.Prim0Annot=4]="Prim0Annot",t[t.Prim1=5]="Prim1",t[t.Prim1Annot=6]="Prim1Annot",t[t.Prim2=7]="Prim2",t[t.Prim2Annot=8]="Prim2Annot",t[t.Prim=9]="Prim",t[t.Bytes=10]="Bytes"}(to||(to={}));!function(){function t(){this.buffer=[]}Object.defineProperty(t.prototype,"length",{get:function(){return this.buffer.length},enumerable:!1,configurable:!0}),t.prototype.writeBytes=function(t){var e;(e=this.buffer).push.apply(e,xn(t.map((function(t){return 255&t}))))},t.prototype.writeUint8=function(t){var e=0|t;this.buffer.push(255&e)},t.prototype.writeUint16=function(t){var e=0|t;this.buffer.push(e>>8&255),this.buffer.push(255&e)},t.prototype.writeUint32=function(t){var e=0|t;this.buffer.push(e>>24&255),this.buffer.push(e>>16&255),this.buffer.push(e>>8&255),this.buffer.push(255&e)},t.prototype.writeInt8=function(t){this.writeUint8(t)},t.prototype.writeInt16=function(t){this.writeUint16(t)},t.prototype.writeInt32=function(t){this.writeUint32(t)}}();var eo,ro,no,io=new Error("bounds out of range"),oo=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.buffer=t,this.idx=e,this.cap=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.cap-this.idx},enumerable:!1,configurable:!0}),t.prototype.readBytes=function(t){if(this.cap-this.idx<t)throw io;var e=this.buffer.slice(this.idx,this.idx+t);return this.idx+=t,e},t.prototype.reader=function(e){if(this.cap-this.idx<e)throw io;var r=new t(this.buffer,this.idx,this.idx+e);return this.idx+=e,r},t.prototype.copy=function(){return new t(this.buffer,this.idx,this.cap)},t.prototype.readUint8=function(){if(this.cap-this.idx<1)throw io;return this.buffer[this.idx++]>>>0},t.prototype.readUint16=function(){if(this.cap-this.idx<2)throw io;return(this.buffer[this.idx++]<<8|this.buffer[this.idx++])>>>0},t.prototype.readUint32=function(){if(this.cap-this.idx<4)throw io;return(this.buffer[this.idx++]<<24|this.buffer[this.idx++]<<16|this.buffer[this.idx++]<<8|this.buffer[this.idx++])>>>0},t.prototype.readInt8=function(){if(this.cap-this.idx<1)throw io;return this.buffer[this.idx++]<<24>>24},t.prototype.readInt16=function(){if(this.cap-this.idx<2)throw io;return(this.buffer[this.idx++]<<8|this.buffer[this.idx++])<<16>>16},t.prototype.readInt32=function(){if(this.cap-this.idx<4)throw io;return this.buffer[this.idx++]<<24|this.buffer[this.idx++]<<16|this.buffer[this.idx++]<<8|this.buffer[this.idx++]},t}();function so(t){var e,r=t.readUint8();switch(r){case ro.ED25519:e="ED25519PublicKeyHash";break;case ro.SECP256K1:e="SECP256K1PublicKeyHash";break;case ro.P256:e="P256PublicKeyHash";break;default:throw new Error("unknown public key hash tag: "+r)}return{type:e,hash:t.readBytes(20)}}!function(t){t[t.Implicit=0]="Implicit",t[t.Originated=1]="Originated"}(eo||(eo={})),function(t){t[t.ED25519=0]="ED25519",t[t.SECP256K1=1]="SECP256K1",t[t.P256=2]="P256"}(ro||(ro={})),function(t){t[t.ED25519=0]="ED25519",t[t.SECP256K1=1]="SECP256K1",t[t.P256=2]="P256"}(no||(no={}));var ao=function(t){function e(r,n,i){var o=t.call(this,r,i)||this;return o.stackState=n,Object.setPrototypeOf(o,e.prototype),o}return En(e,t),e}(pi);function uo(t){return Array.isArray(t)?"pair":t.prim}function co(t){return"prim"in t?t.args:t}function lo(t,e,r){if(void 0===r&&(r=!1),uo(t)!==uo(e))throw new di(t,void 0,"types mismatch: "+uo(t)+" != "+uo(e));var n=[_i(t),_i(e)];if(n[0].t&&n[1].t&&n[0].t[0]!==n[1].t[0])throw new di(t,void 0,uo(t)+": type names mismatch: "+n[0].t[0]+" != "+n[1].t[0]);if(r&&n[0].f&&n[1].f&&n[0].f[0]!==n[1].f[0])throw new di(t,void 0,uo(t)+": field names mismatch: "+n[0].f[0]+" != "+n[1].f);if(Si(t)){var i=Ai("pair",t),o=Ai("pair",e);return lo(i.args[0],o.args[0],!0),void lo(i.args[1],o.args[1],!0)}switch(t.prim){case"option":case"list":case"contract":case"set":case"ticket":lo(t.args[0],e.args[0]);break;case"or":lo(t.args[0],e.args[0],!0),lo(t.args[1],e.args[1],!0);break;case"lambda":case"map":case"big_map":lo(t.args[0],e.args[0]),lo(t.args[1],e.args[1]);break;case"sapling_state":case"sapling_transaction":if(parseInt(t.args[0].int,10)!==parseInt(e.args[0].int,10))throw new di(t,void 0,uo(t)+": type argument mismatch: "+t.args[0].int+" != "+e.args[0].int)}}function ho(t,e){if(t.length!==e.length)throw new di(t,void 0,"stack length mismatch: "+t.length+" != "+e.length);for(var r=0;r<t.length;r++)lo(t[r],e[r])}function fo(t,e){var r,n,i,o,s,a,u;if(void 0===e&&(e=!1),!Array.isArray(t)){var c=_i(t);if(((null===(s=c.t)||void 0===s?void 0:s.length)||0)>1)throw new di(t,void 0,t.prim+": at most one type annotation allowed: "+t.annots);if(e){if(((null===(a=c.f)||void 0===a?void 0:a.length)||0)>1)throw new di(t,void 0,t.prim+": at most one field annotation allowed: "+t.annots)}else if(((null===(u=c.f)||void 0===u?void 0:u.length)||0)>0)throw new di(t,void 0,t.prim+": field annotations aren't allowed: "+t.annots)}if(Si(t)){var l=co(t);try{for(var h=Sn(l),f=h.next();!f.done;f=h.next())fo(f.value,!0)}catch(t){r={error:t}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}}else switch(t.prim){case"option":case"list":case"contract":case"set":fo(t.args[0]);break;case"or":try{for(var p=Sn(t.args),d=p.next();!d.done;d=p.next())fo(d.value,!0)}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}break;case"lambda":case"map":case"big_map":fo(t.args[0]),fo(t.args[1])}}function po(t,e,r){if(Si(t)){if(Ti(e)&&Ti(r)){Qi(e),Qi(r);var n=Ai("pair",t),i=Ai("Pair",e),o=Ai("Pair",r);return 0!==(u=po(n.args[0],i.args[0],o.args[0]))?u:po(n.args[0],i.args[1],o.args[1])}}else switch(t.prim){case"int":case"nat":case"mutez":if("int"in e&&"int"in r)return new gi(e.int).cmp(new gi(r.int));break;case"string":if("string"in e&&"string"in r)return(u=e.string.localeCompare(r.string))<0?-1:u>0?1:0;break;case"bytes":if("bytes"in e&&"bytes"in r){var s=yi(e.bytes),a=yi(r.bytes);if(null!==s&&null!==a)return vi(s,a)}break;case"bool":if("prim"in e&&"prim"in r&&("True"===e.prim||"False"===e.prim)&&("True"===r.prim||"False"===r.prim))return e.prim===r.prim?0:"False"===e.prim?-1:1;break;case"key":case"key_hash":case"address":case"signature":case"chain_id":if(("string"in e||"bytes"in e)&&("string"in r||"bytes"in r))return vi("string"in e?fi(e.string):yi(e.bytes)||[],"string"in r?fi(r.string):yi(r.bytes)||[]);break;case"timestamp":var u;if(("string"in e||"int"in e)&&("string"in r||"int"in r))if(s=Ni(e),a=Ni(r),null!==s&&null!==a)return(u=s.valueOf()-a.valueOf())<0?-1:u>0?1:0;break;case"unit":if("prim"in e&&"prim"in r&&"Unit"===e.prim&&"Unit"===r.prim)return 0}throw new di(t,void 0,uo(t)+": not comparable values: "+JSON.stringify(e)+", "+JSON.stringify(r))}function go(t){var e,r;if(!Array.isArray(t))return!1;try{for(var n=Sn(t),i=n.next();!i.done;i=n.next()){var o=i.value;if(!(Array.isArray(o)&&go(o)||"prim"in o&&Zi(o)))return!1}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return!0}function yo(t,e,r){var n,i,o,s;if(Si(e)){if(Ti(t)){Qi(t);var a=Ai("Pair",t),u=Ai("pair",e);return yo(a.args[0],u.args[0],r),void yo(a.args[1],u.args[1],r)}throw new di(e,t,"pair expected: "+JSON.stringify(t))}switch(e.prim){case"int":if("int"in t&&mi(t.int))return;throw new di(e,t,"integer value expected: "+JSON.stringify(t));case"nat":case"mutez":if("int"in t&&bi(t.int))return;throw new di(e,t,"natural value expected: "+JSON.stringify(t));case"string":if("string"in t)return;throw new di(e,t,"string value expected: "+JSON.stringify(t));case"bytes":case"bls12_381_g1":case"bls12_381_g2":if("bytes"in t&&null!==yi(t.bytes))return;throw new di(e,t,"bytes value expected: "+JSON.stringify(t));case"bool":if("prim"in t&&("True"===t.prim||"False"===t.prim))return;throw new di(e,t,"boolean value expected: "+JSON.stringify(t));case"key_hash":if("string"in t&&null!==Oi(t.string,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash"))return;if("bytes"in t)try{return void function(t){var e=yi(t.bytes);if(null===e)throw new Error("can't parse bytes: \""+t.bytes+'"');so(new oo(new Uint8Array(e)))}(t)}catch(t){}throw new di(e,t,"key hash expected: "+JSON.stringify(t));case"timestamp":if(("string"in t||"int"in t)&&null!==Ni(t))return;throw new di(e,t,"timestamp expected: "+JSON.stringify(t));case"address":if("string"in t){var c=t.string,l=t.string.indexOf("%");if(l>=0&&(c=t.string.slice(0,l)),null!==Oi(c,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash","ContractHash"))return}else if("bytes"in t)try{return void function(t){var e=yi(t.bytes);if(null===e)throw new Error("can't parse bytes: \""+t.bytes+'"');!function(t){var e,r=t.readUint8();switch(r){case eo.Implicit:e=so(t);break;case eo.Originated:e={type:"ContractHash",hash:t.readBytes(20)},t.readBytes(1);break;default:throw new Error("unknown address tag: "+r)}if(0!==t.length){var n=new TextDecoder;e.entryPoint=n.decode(new Uint8Array(t.readBytes(t.length)))}}(new oo(new Uint8Array(e)))}(t)}catch(t){}throw new di(e,t,"address expected: "+JSON.stringify(t));case"key":if("string"in t&&null!==Oi(t.string,"ED25519PublicKey","SECP256K1PublicKey","P256PublicKey"))return;if("bytes"in t)try{return void function(t){var e=yi(t.bytes);if(null===e)throw new Error("can't parse bytes: \""+t.bytes+'"');!function(t){var e,r,n=t.readUint8();switch(n){case no.ED25519:r="ED25519PublicKey",e=32;break;case no.SECP256K1:r="SECP256K1PublicKey",e=33;break;case no.P256:r="P256PublicKey",e=33;break;default:throw new Error("unknown public key tag: "+n)}t.readBytes(e)}(new oo(new Uint8Array(e)))}(t)}catch(t){}throw new di(e,t,"public key expected: "+JSON.stringify(t));case"unit":if("prim"in t&&"Unit"===t.prim)return;throw new di(e,t,"unit value expected: "+JSON.stringify(t));case"signature":if("bytes"in t||"string"in t&&null!==Oi(t.string,"ED25519Signature","SECP256K1Signature","P256Signature","GenericSignature"))return;throw new di(e,t,"signature expected: "+JSON.stringify(t));case"chain_id":if(("bytes"in t||"string"in t)&&null!==("string"in t?fi(t.string):yi(t.bytes)))return;throw new di(e,t,"chain id expected: "+JSON.stringify(t));case"operation":throw new di(e,t,"operation type can't be represented as a literal value");case"contract":throw new di(e,t,"contract type can't be represented as a literal value");case"option":if("prim"in t){if("None"===t.prim)return;if("Some"===t.prim)return void yo(t.args[0],e.args[0],r)}throw new di(e,t,"option expected: "+JSON.stringify(t));case"list":case"set":if(Qi(t)){var h=void 0;try{for(var f=Sn(t),p=f.next();!p.done;p=f.next())if(yo(v=p.value,e.args[0],r),"set"===e.prim)if(void 0===h)h=v;else if(po(e.args[0],h,v)>0)throw new di(e,t,"set elements must be ordered: "+JSON.stringify(t))}catch(t){n={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return}throw new di(e,t,e.prim+" expected: "+JSON.stringify(t));case"or":if("prim"in t){if("Left"===t.prim)return void yo(t.args[0],e.args[0],r);if("Right"===t.prim)return void yo(t.args[0],e.args[1],r)}throw new di(e,t,"union (or) expected: "+JSON.stringify(t));case"lambda":if(go(t)){var d=vo(t,[e.args[0]],r);if("failed"in d)throw new di(e,t,"function is failed with error type: "+d.failed);if(1!==d.length)throw new di(e,t,"function must return a value");return void lo(e.args[1],d[0])}throw new di(e,t,"function expected: "+JSON.stringify(t));case"map":case"big_map":if(Array.isArray(t)){h=void 0;try{for(var g=Sn(t),y=g.next();!y.done;y=g.next()){var v;if(!("prim"in(v=y.value))||"Elt"!==v.prim)throw new di(e,t,"map elements expected: "+JSON.stringify(t));if(yo(v.args[0],e.args[0],r),yo(v.args[1],e.args[1],r),void 0===h)h=v;else if(po(e.args[0],h.args[0],v.args[0])>0)throw new di(e,t,"map elements must be ordered: "+JSON.stringify(t))}}catch(t){o={error:t}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}return}throw new di(e,t,e.prim+" expected: "+JSON.stringify(t));case"bls12_381_fr":if("int"in t&&mi(t.int)||"bytes"in t&&null!==yi(t.bytes))return;throw new di(e,t,"BLS12-381 element expected: "+JSON.stringify(t));case"sapling_state":if(Array.isArray(t))return;throw new di(e,t,"sapling state expected: "+JSON.stringify(t));case"ticket":return void yo(t,{prim:"pair",args:[{prim:"address"},e.args[0],{prim:"nat"}]},r);default:throw new di(e,t,"unexpected type: "+uo(e))}}function vo(t,e,r){var n=(null==r?void 0:r.protocol)||jn;if(Array.isArray(t))return function(t,e,r){var n,i,o=e,s=e,a=0;try{for(var u=Sn(t),c=u.next();!c.done;c=u.next()){var l=vo(c.value,s,r);if(o=l,"failed"in l)break;s=l,a++}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}if("failed"in o&&a!==t.length-1)throw new ao(t,o,"FAIL must appear in a tail position");if(void 0!==(null==r?void 0:r.traceCallback)){var h={op:t,in:e,out:o};r.traceCallback(h)}return o}(t,e,r);var i=t;function o(t){for(var r,n,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];if(e.length<o.length+t)throw new ao(i,e,i.prim+": stack must have at least "+o.length+" element(s)");var a=t;try{for(var u=Sn(o),c=u.next();!c.done;c=u.next()){var l=c.value;if(null!==l&&0!==l.length){for(var h=0;h<l.length&&l[h]!==uo(e[a]);)h++;if(h===l.length)throw new ao(i,e,i.prim+": stack type mismatch: ["+a+"] expected to be "+l+", got "+uo(e[a])+" instead")}a++}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return e.slice(t,o.length+t)}function s(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return t.apply(void 0,xn(r))}catch(t){throw t instanceof pi?new ao(i,e,t.message):t}}}function a(t){return function(r){try{return t(r)}catch(t){throw t instanceof pi?new ao(i,e,t.message):t}}}var u=s(_i),c=s(ho),l=s(lo),h=a(Gi),f=a(Vi),p=a(qi),d=a(Ki),g=a(Wi);function y(t,r){var n=u(i,On(On({},r),{emptyFields:void 0!==t.f&&t.f>1,emptyVar:void 0!==t.v&&t.v>1})),o=function(t,r,n){if(t&&t.length>(r||0))throw new ao(i,e,i.prim+": at most "+(r||0)+" "+n+" annotations allowed")};return o(n.f,t.f,"field"),o(n.t,t.t,"type"),o(n.v,t.v,"variable"),n}function v(t,e){var r=t,n=Array.isArray(r)?{prim:"pair",args:r}:r,i=u(n),o=void 0!==e.v||void 0!==e.t||void 0!==e.f?xn((null===e.v?i.v:e.v)||[],(null===e.t?i.t:e.t)||[],(null===e.f?i.f:e.f)||[]):void 0;n.annots;var s=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}(n,["annots"]);return On(On({},s),o&&0!==o.length&&{annots:o})}function m(t,e){var r=y({v:1});return v(t,{v:void 0!==r.v?r.v:void 0!==e?[e]:null,t:null})}function b(t,r,n,o,s){var a,c,l,h,f=null===(a=u(r).f)||void 0===a?void 0:a[0],p=null===(c=n.f)||void 0===c?void 0:c[o];if(void 0!==p&&"%"!==p&&void 0!==f&&p!==f)throw new ao(i,e,i.prim+": field names doesn't match: "+p+" !== "+f);var d=null===(l=n.v)||void 0===l?void 0:l[o],g=null===(h=u(t).v)||void 0===h?void 0:h[0];return v(r,{t:null,v:d?"@%"===d?f?["@"+f.slice(1)]:void 0:"@%%"===d?g?["@"+g.slice(1)+"."+(f?f.slice(1):s)]:f?["@"+f.slice(1)]:void 0:[d]:null})}function w(t,r,n){void 0===n&&(n=r);var o=Ai("pair",t);if(1===n)return[o.args[0]];if(2===n)return o.args;var s=o.args[1];if(Si(s))return xn([o.args[0]],w(s,r,n-1));throw new ao(i,e,i.prim+": at least "+r+" fields are expected")}function _(t,r,n){if(void 0===n&&(n=r),0===n)return t;var o=Ai("pair",t);if(1===n)return o.args[0];var s=o.args[1];if(Si(s))return _(s,r,n-2);if(2===n)return s;throw new ao(i,e,i.prim+": at least "+(r+1)+" fields are expected")}function E(t,r,n,o){if(void 0===o&&(o=n),0===o)return r;var s=Ai("pair",t);if(1===o)return On(On({},s),{args:[r,s.args[1]]});var a=s.args[1];if(Si(a))return On(On({},s),{args:[s.args[0],E(a,r,n,o-2)]});if(2===o)return On(On({},s),{args:[s.args[0],r]});throw new ao(i,e,i.prim+": at least "+(n+1)+" fields are expected")}var O=function(t,e){return["@"+(t.v?t.v[0].slice(1)+".":"")+e]};function A(t,e){if(!("failed"in t)&&!("failed"in e))return c(t,e),t;if(!("failed"in t)||!("failed"in e))return"failed"in t?e:t;try{return lo(t.failed,e.failed),t}catch(r){return{failed:{prim:"or",args:[t.failed,e.failed]}}}}var S=function(t){var i,s,a,S,T,x,N;switch(t.prim){case"DUP":if(0===(H=t.args?parseInt(t.args[0].int,10):1))throw new ao(t,e,"DUP 0 is forbidden");var P=o(H-1,null)[0];if("ticket"===uo(P))throw new ao(t,e,"ticket can't be DUPed");return xn([P],e);case"SWAP":var R=o(0,null,null);return y({}),xn([R[1],R[0]],e.slice(2));case"SOME":return xn([v({prim:"option",args:[o(0,null)[0]]},y({t:1,v:1}))],e.slice(1));case"UNIT":return xn([v({prim:"unit"},y({v:1,t:1}))],e);case"PAIR":if((H=t.args?parseInt(t.args[0].int,10):2)<2)throw new ao(t,e,"PAIR "+H+" is forbidden");var I=o.apply(void 0,xn([0],new Array(H).fill(null))),k=y({f:H,t:1,v:1},{specialFields:!0}),L=function(t){var e=t.lastIndexOf(".");return t.slice(e>0?e+1:1)},C=I.map((function(t,e){var r,n=u(t);return v(t,{v:null,t:null,f:k.f&&k.f.length>e&&"%"!==k.f[e]?"%@"===k.f[e]?n.v?["%"+L((null===(r=n.v)||void 0===r?void 0:r[0])||"")]:void 0:[k.f[e]]:void 0})}));return xn([v({prim:"pair",args:C},{t:k.t,v:k.v})],e.slice(H));case"UNPAIR":if((H=t.args?parseInt(t.args[0].int,10):2)<2)throw new ao(t,e,"UNPAIR "+H+" is forbidden");var D=o(0,["pair"])[0],U=y({f:2,v:2},{specialVar:!0});return xn(w(D,H).map((function(t,e){return b(D,t,U,e,0===e?"car":"cdr")})),e.slice(1));case"CAR":case"CDR":var M=Ai("pair",o(0,["pair"])[0]);return xn([b(M,M.args["CAR"===t.prim?0:1],z=y({f:1,v:1},{specialVar:!0}),0,t.prim.toLocaleLowerCase())],e.slice(1));case"CONS":var j=o(0,null,["list"]);return l(j[0],j[1].args[0]),xn([m({prim:"list",args:[j[1].args[0]]})],e.slice(2));case"SIZE":return o(0,["string","list","set","map","bytes"]),xn([m({prim:"nat"})],e.slice(1));case"MEM":var B=o(0,null,["set","map","big_map"]);return h(B[0]),l(B[0],B[1].args[0]),xn([m({prim:"bool"})],e.slice(2));case"GET":if(t.args){var H=parseInt(t.args[0].int,10);return xn([m(_(o(0,["pair"])[0],H))],e.slice(1))}var F=o(0,null,["map","big_map"]);return h(F[0]),l(F[0],F[1].args[0]),xn([m({prim:"option",args:[F[1].args[1]]})],e.slice(2));case"UPDATE":if(t.args){H=parseInt(t.args[0].int,10);var G=o(0,null,["pair"]);return xn([m(E(G[1],G[0],H))],e.slice(2))}var V=o(0,null,["bool","option"]);if(h(V[0]),"bool"===V[1].prim){var K=o(2,["set"]);return l(V[0],K[0].args[0]),xn([m({prim:"set",args:[v(V[0],{t:null})]})],e.slice(3))}var q=o(2,["map","big_map"]);return l(V[0],q[0].args[0]),"map"===q[0].prim?xn([m({prim:"map",args:[v(V[0],{t:null}),v(V[1].args[0],{t:null})]})],e.slice(3)):(g(V[1].args[0]),xn([m({prim:"big_map",args:[v(V[0],{t:null}),v(V[1].args[0],{t:null})]})],e.slice(3)));case"GET_AND_UPDATE":var z=y({v:2}),W=o(0,null,["option"],["map","big_map"]);h(W[0]),l(W[0],W[2].args[0]),l(W[1].args[0],W[2].args[1]);var Y=null===(a=z.v)||void 0===a?void 0:a.map((function(t){return"@"!==t?[t]:void 0}));return"map"===W[2].prim?xn([v({prim:"option",args:[W[2].args[1]]},{v:null==Y?void 0:Y[0]}),v({prim:"map",args:[v(W[0],{t:null}),v(W[1].args[0],{t:null})]},{v:null==Y?void 0:Y[1]})],e.slice(3)):(g(W[1].args[0]),xn([v({prim:"option",args:[W[2].args[1]]},{v:null==Y?void 0:Y[0]}),v({prim:"big_map",args:[v(W[0],{t:null}),v(W[1].args[0],{t:null})]},{v:null==Y?void 0:Y[1]})],e.slice(3)));case"EXEC":var $=o(0,null,["lambda"]);return l($[0],$[1].args[0]),xn([m($[1].args[1])],e.slice(2));case"APPLY":var X=o(0,null,["lambda"]);if(p(X[0]),d(X[0]),!Si(X[1].args[0]))throw new ao(t,e,t.prim+": function's argument must be a pair: "+uo(X[1].args[0]));var J=X[1].args[0];return l(X[0],co(J)[0]),xn([m({prim:"lambda",args:[co(J)[1],X[1].args[1]]})],e.slice(2));case"FAILWITH":var Z=o(0,null)[0];return n!==Un.PtEdo2Zk&&n!==Un.PsFLorena||f(Z),{failed:Z};case"NEVER":return o(0,["never"]),{failed:{prim:"never"}};case"RENAME":return xn([m(o(0,null)[0])],e.slice(1));case"CONCAT":if("list"===(V=o(0,["string","list","bytes"]))[0].prim){if("string"!==uo(V[0].args[0])&&"bytes"!==uo(V[0].args[0]))throw new ao(t,e,t.prim+": can't concatenate list of "+uo(V[0].args[0])+"'s");return xn([m(V[0].args[0])],e.slice(1))}if(q=o(1,["string","bytes"]),V[0].prim!==q[0].prim)throw new ao(t,e,t.prim+": can't concatenate "+V[0].prim+" with "+q[0].prim);return xn([m(q[0])],e.slice(2));case"SLICE":return xn([m({prim:"option",args:[o(0,["nat"],["nat"],["string","bytes"])[2]]},"@slice")],e.slice(3));case"PACK":var Q=o(0,null)[0];return f(Q),xn([m({prim:"bytes"},"@packed")],e.slice(1));case"ADD":var tt=o(0,["nat","int","timestamp","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"],["nat","int","timestamp","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"]);if("nat"===tt[0].prim&&"int"===tt[1].prim||"int"===tt[0].prim&&"nat"===tt[1].prim)return xn([m({prim:"int"})],e.slice(2));if("int"===tt[0].prim&&"timestamp"===tt[1].prim||"timestamp"===tt[0].prim&&"int"===tt[1].prim)return xn([m({prim:"timestamp"})],e.slice(2));if(("int"===tt[0].prim||"nat"===tt[0].prim||"mutez"===tt[0].prim||"bls12_381_g1"===tt[0].prim||"bls12_381_g2"===tt[0].prim||"bls12_381_fr"===tt[0].prim)&&tt[0].prim===tt[1].prim)return xn([m(tt[0])],e.slice(2));throw new ao(t,e,t.prim+": can't add "+tt[0].prim+" to "+tt[1].prim);case"SUB":var et=o(0,["nat","int","timestamp","mutez"],["nat","int","timestamp","mutez"]);if(("nat"===et[0].prim||"int"===et[0].prim)&&("nat"===et[1].prim||"int"===et[1].prim)||"timestamp"===et[0].prim&&"timestamp"===et[1].prim)return xn([m({prim:"int"})],e.slice(2));if("timestamp"===et[0].prim&&"int"===et[1].prim)return xn([m({prim:"timestamp"})],e.slice(2));if("mutez"===et[0].prim&&"mutez"===et[1].prim)return xn([m({prim:"mutez"})],e.slice(2));throw new ao(t,e,t.prim+": can't subtract "+et[0].prim+" from "+et[1].prim);case"MUL":var rt=o(0,["nat","int","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"],["nat","int","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"]);if("nat"===rt[0].prim&&"int"===rt[1].prim||"int"===rt[0].prim&&"nat"===rt[1].prim)return xn([m({prim:"int"})],e.slice(2));if("nat"===rt[0].prim&&"mutez"===rt[1].prim||"mutez"===rt[0].prim&&"nat"===rt[1].prim)return xn([m({prim:"mutez"})],e.slice(2));if(("bls12_381_g1"===rt[0].prim||"bls12_381_g2"===rt[0].prim||"bls12_381_fr"===rt[0].prim)&&"bls12_381_fr"===rt[1].prim||("nat"===rt[0].prim||"int"===rt[0].prim)&&rt[0].prim===rt[1].prim)return xn([m(rt[0])],e.slice(2));if(("nat"===rt[0].prim||"int"===rt[0].prim)&&"bls12_381_fr"===rt[1].prim||("nat"===rt[1].prim||"int"===rt[1].prim)&&"bls12_381_fr"===rt[0].prim)return xn([m({prim:"bls12_381_fr"})],e.slice(2));throw new ao(t,e,t.prim+": can't multiply "+rt[0].prim+" by "+rt[1].prim);case"EDIV":var nt=function(t,e){return{prim:"option",args:[{prim:"pair",args:[{prim:t},{prim:e}]}]}},it=o(0,["nat","int","mutez"],["nat","int","mutez"]);if("nat"===it[0].prim&&"nat"===it[1].prim)return xn([m(nt("nat","nat"))],e.slice(2));if(!("nat"!==it[0].prim&&"int"!==it[0].prim||"nat"!==it[1].prim&&"int"!==it[1].prim))return xn([m(nt("int","nat"))],e.slice(2));if("mutez"===it[0].prim&&"nat"===it[1].prim)return xn([m(nt("mutez","mutez"))],e.slice(2));if("mutez"===it[0].prim&&"mutez"===it[1].prim)return xn([m(nt("nat","mutez"))],e.slice(2));throw new ao(t,e,t.prim+": can't euclideally divide "+it[0].prim+" by "+it[1].prim);case"ABS":return o(0,["int"]),xn([m({prim:"nat"})],e.slice(1));case"ISNAT":return o(0,["int"]),xn([m({prim:"option",args:[{prim:"nat"}]})],e.slice(1));case"INT":return o(0,["nat","bls12_381_fr"]),xn([m({prim:"int"})],e.slice(1));case"NEG":var ot=o(0,["nat","int","bls12_381_g1","bls12_381_g2","bls12_381_fr"])[0];return"nat"===ot.prim||"int"===ot.prim?xn([m({prim:"int"})],e.slice(1)):xn([m(ot)],e.slice(1));case"LSL":case"LSR":return o(0,["nat"],["nat"]),xn([m({prim:"nat"})],e.slice(2));case"OR":case"XOR":var st=o(0,["nat","bool"],["nat","bool"]);if(st[0].prim!==st[1].prim)throw new ao(t,e,t.prim+": both arguments must be of the same type: "+st[0].prim+", "+st[1].prim);return xn([m(st[1])],e.slice(2));case"AND":var at=o(0,["nat","bool","int"],["nat","bool"]);if(("int"!==at[0].prim||"nat"!==at[1].prim)&&at[0].prim!==at[1].prim)throw new ao(t,e,t.prim+": both arguments must be of the same type: "+at[0].prim+", "+at[1].prim);return xn([m(at[1])],e.slice(2));case"NOT":return"bool"===o(0,["nat","bool","int"])[0].prim?xn([m({prim:"bool"})],e.slice(1)):xn([m({prim:"int"})],e.slice(1));case"COMPARE":var ut=o(0,null,null);return h(ut[0]),h(ut[1]),xn([m({prim:"int"})],e.slice(2));case"EQ":case"NEQ":case"LT":case"GT":case"LE":case"GE":return o(0,["int"]),xn([m({prim:"bool"})],e.slice(1));case"SELF":if(void 0===(null==r?void 0:r.contract))throw new ao(t,e,t.prim+": contract required");if(z=y({f:1,v:1}),null===(vt=wo(r.contract,null===(S=z.f)||void 0===S?void 0:S[0])))throw new ao(t,e,t.prim+": contract has no entrypoint "+vt);return xn([v({prim:"contract",args:[vt]},{v:z.v?z.v:["@self"]})],e);case"TRANSFER_TOKENS":var ct=o(0,null,["mutez"],["contract"]);return l(ct[0],ct[2].args[0]),xn([m({prim:"operation"})],e.slice(3));case"SET_DELEGATE":var lt=o(0,["option"])[0];if("key_hash"!==uo(lt.args[0]))throw new ao(t,e,t.prim+": key hash expected: "+uo(lt.args[0]));return xn([m({prim:"operation"})],e.slice(1));case"IMPLICIT_ACCOUNT":return o(0,["key_hash"]),xn([m({prim:"contract",args:[{prim:"unit"}]})],e.slice(1));case"NOW":return xn([m({prim:"timestamp"},"@now")],e);case"AMOUNT":return xn([m({prim:"mutez"},"@amount")],e);case"BALANCE":return xn([m({prim:"mutez"},"@balance")],e);case"CHECK_SIGNATURE":return o(0,["key"],["signature"],["bytes"]),xn([m({prim:"bool"})],e.slice(3));case"BLAKE2B":case"SHA256":case"SHA512":case"KECCAK":case"SHA3":return o(0,["bytes"]),xn([m({prim:"bytes"})],e.slice(1));case"HASH_KEY":return o(0,["key"]),xn([m({prim:"key_hash"})],e.slice(1));case"SOURCE":return xn([m({prim:"address"},"@source")],e);case"SENDER":return xn([m({prim:"address"},"@sender")],e);case"ADDRESS":var ht=o(0,["contract"])[0];return z=y({v:1}),xn([v((i={prim:"address"},i[Mn]=ht,i),{v:z.v?z.v:O(u(ht),"address")})],e.slice(1));case"SELF_ADDRESS":var ft={prim:"address"};return void 0!==(null==r?void 0:r.contract)&&(ft[Mn]={prim:"contract",args:[mo(r.contract,"parameter").args[0]]}),xn([m(ft,"@address")],e);case"CHAIN_ID":return xn([m({prim:"chain_id"})],e);case"DROP":return y({}),o((H=void 0!==t.args?parseInt(t.args[0].int,10):1)-1,null),e.slice(H);case"DIG":return y({}),xn([o(H=parseInt(t.args[0].int,10),null)[0]],e.slice(0,H),e.slice(H+1));case"DUG":return y({}),H=parseInt(t.args[0].int,10),xn(e.slice(1,H+1),[o(0,null)[0]],e.slice(H+1));case"NONE":return fo(t.args[0]),xn([v({prim:"option",args:[t.args[0]]},y({t:1,v:1}))],e);case"LEFT":case"RIGHT":var pt=o(0,null)[0],dt=(z=y({f:2,t:1,v:1},{specialFields:!0}),Y=u(pt),[v(pt,{t:null,v:null,f:z.f&&z.f.length>0&&"%"!==z.f[0]?"%@"===z.f[0]?Y.v?["%"+Y.v[0].slice(1)]:void 0:z.f:void 0}),v(t.args[0],{t:null,f:z.f&&z.f.length>1&&"%"!==z.f[1]?z.f:void 0})]);return xn([v({prim:"or",args:"LEFT"===t.prim?dt:[dt[1],dt[0]]},{t:z.t,v:z.v})],e.slice(1));case"NIL":return fo(t.args[0]),xn([v({prim:"list",args:[t.args[0]]},y({t:1,v:1}))],e);case"UNPACK":return o(0,["bytes"]),fo(t.args[0]),xn([m({prim:"option",args:[t.args[0]]},"@unpacked")],e.slice(1));case"CONTRACT":var gt=o(0,["address"])[0];fo(t.args[0]),z=y({v:1,f:1});var yt=gt[Mn];if(void 0!==yt){var vt;if(null===(vt=wo(yt,null===(T=z.f)||void 0===T?void 0:T[0])))throw new ao(t,e,t.prim+": contract has no entrypoint "+vt);l(vt,t.args[0])}return xn([v({prim:"option",args:[{prim:"contract",args:[t.args[0]]}]},{v:z.v?z.v:O(u(gt),"contract")})],e.slice(1));case"CAST":y({});var mt=o(0,null)[0];return fo(t.args[0]),l(t.args[0],mt),xn([t.args[0]],e.slice(1));case"IF_NONE":y({});var bt=o(0,["option"])[0],wt=e.slice(1);return A(vo(t.args[0],wt,r),vo(t.args[1],xn([v(bt.args[0],{t:null,v:O(u(bt),"some")})],wt),r));case"IF_LEFT":y({});var _t=o(0,["or"])[0],Et=(Y=u(_t),u(_t.args[0])),Ot=u(_t.args[1]);return wt=e.slice(1),A(vo(t.args[0],xn([v(_t.args[0],{t:null,v:O(Y,Et.f?Et.f[0].slice(1):"left")})],wt),r),vo(t.args[1],xn([v(_t.args[1],{t:null,v:O(Y,Ot.f?Ot.f[0].slice(1):"right")})],wt),r));case"IF_CONS":y({});var At=o(0,["list"])[0];return Y=u(At),wt=e.slice(1),A(vo(t.args[0],xn([v(At.args[0],{t:null,v:O(Y,"hd")}),v(At,{t:null,v:O(Y,"tl")})],wt),r),vo(t.args[1],wt,r));case"IF":return y({}),o(0,["bool"]),wt=e.slice(1),A(vo(t.args[0],wt,r),vo(t.args[1],wt,r));case"MAP":var St=o(0,["list","map"])[0],Tt=(wt=e.slice(1),"map"===St.prim?{prim:"pair",args:St.args}:St.args[0]);if("failed"in(It=vo(t.args[0],xn([v(Tt,{t:null,v:O(u(St),"elt")})],wt),r)))return It;if(It.length<1)throw new ao(t,e,t.prim+": function must return a value");return c(It.slice(1),wt),"list"===St.prim?xn([m({prim:"list",args:[It[0]]})],wt):xn([m({prim:"map",args:[St.args[0],It[0]]})],wt);case"ITER":y({});var xt=o(0,["set","list","map"])[0];return wt=e.slice(1),Tt="map"===xt.prim?{prim:"pair",args:xt.args}:xt.args[0],"failed"in(It=vo(t.args[0],xn([v(Tt,{t:null,v:O(u(xt),"elt")})],wt),r))?It:(c(It,wt),wt);case"LOOP":return y({}),o(0,["bool"]),wt=e.slice(1),"failed"in(It=vo(t.args[0],wt,r))?It:(c(It,xn([{prim:"bool"}],wt)),wt);case"LOOP_LEFT":y({});var Nt=o(0,["or"])[0];return wt=e.slice(1),"failed"in(It=vo(t.args[0],xn([v(Nt.args[0],{t:null,v:O(u(Nt),"left")})],wt),r))?It:(c(It,xn([Nt],wt)),xn([v(Nt.args[1],{t:null,v:y({v:1}).v})],wt));case"DIP":y({}),o((H=2===t.args.length?parseInt(t.args[0].int,10):1)-1,null);var Pt=e.slice(0,H);return wt=e.slice(H),"failed"in(It=2===t.args.length?vo(t.args[1],wt,r):vo(t.args[0],wt,r))?It:xn(Pt,It);case"CREATE_CONTRACT":z=y({v:2});var Rt=o(0,["option"],["mutez"],null);if("key_hash"!==uo(Rt[0].args[0]))throw new ao(t,e,t.prim+": key hash expected: "+uo(Rt[0].args[0]));return p(Rt[2])&&(Eo(t.args[0]),lo(mo(t.args[0],"storage").args[0],Rt[2])),xn([v({prim:"operation"},{v:null==(Y=null===(x=z.v)||void 0===x?void 0:x.map((function(t){return"@"!==t?[t]:void 0})))?void 0:Y[0]}),v((s={prim:"address"},s[Mn]={prim:"contract",args:[mo(t.args[0],"parameter").args[0]]},s),{v:null==Y?void 0:Y[1]})],e.slice(3));case"PUSH":return fo(t.args[0]),yo(t.args[1],t.args[0],On(On({},r),{contract:void 0})),xn([m(t.args[0])],e);case"EMPTY_SET":return fo(t.args[0]),h(t.args[0]),xn([v({prim:"set",args:t.args},y({t:1,v:1}))],e);case"EMPTY_MAP":return fo(t.args[0]),h(t.args[0]),fo(t.args[1]),xn([v({prim:"map",args:t.args},y({t:1,v:1}))],e);case"EMPTY_BIG_MAP":return fo(t.args[0]),h(t.args[0]),fo(t.args[1]),g(t.args[0]),xn([v({prim:"big_map",args:t.args},y({t:1,v:1}))],e);case"LAMBDA":var It;if(fo(t.args[0]),fo(t.args[1]),"failed"in(It=vo(t.args[2],[t.args[0]],On(On({},r),{contract:void 0}))))return It;if(1!==It.length)throw new ao(t,e,t.prim+": function must return a value");return l(t.args[1],It[0]),xn([m({prim:"lambda",args:[t.args[0],t.args[1]]})],e);case"LEVEL":return xn([m({prim:"nat"},"@level")],e);case"TOTAL_VOTING_POWER":return xn([m({prim:"nat"})],e);case"VOTING_POWER":return o(0,["key_hash"]),xn([m({prim:"nat"})],e.slice(1));case"TICKET":var kt=o(0,null,["nat"])[0];return h(kt),xn([v({prim:"ticket",args:[kt]},y({t:1,v:1}))],e.slice(2));case"JOIN_TICKETS":var Lt=Ai("pair",o(0,["pair"])[0]);if("ticket"!==uo(Lt.args[0]))throw new ao(t,e,t.prim+": ticket expected: "+uo(Lt.args[0]));return l(Lt.args[0],Lt.args[1]),xn([m({prim:"option",args:[v(Lt.args[0],{t:null})]})],e.slice(1));case"SPLIT_TICKET":var Ct=o(0,["ticket"],["pair"]);if("nat"!==uo((Ut=Ai("pair",Ct[1])).args[0]))throw new ao(t,e,t.prim+": nat expected: "+uo(Ut.args[0]));return l(Ut.args[0],Ut.args[1]),xn([m({prim:"option",args:[{prim:"pair",args:[v(Ct[0],{t:null}),v(Ct[0],{t:null})]}]})],e.slice(2));case"READ_TICKET":z=y({v:2});var Dt=o(0,["ticket"])[0];return Y=null===(N=z.v)||void 0===N?void 0:N.map((function(t){return"@"!==t?[t]:void 0})),xn([v({prim:"pair",args:[{prim:"address"},v(Dt.args[0],{t:null}),{prim:"nat"}]},{v:null==Y?void 0:Y[0]}),v(Dt,{v:null==Y?void 0:Y[1],t:null})],e.slice(1));case"PAIRING_CHECK":var Ut;if(!Si(Ut=o(0,["list"])[0].args[0]))throw new ao(t,e,t.prim+": pair expected: "+uo(Ut));var Mt=Ai("pair",Ut);if("bls12_381_g1"!==uo(Mt.args[0]))throw new ao(t,e,t.prim+": bls12_381_g1 expected: "+uo(Mt.args[0]));if("bls12_381_g2"!==uo(Mt.args[1]))throw new ao(t,e,t.prim+": bls12_381_g2 expected: "+uo(Mt.args[1]));return xn([m({prim:"bool"})],e.slice(1));case"SAPLING_EMPTY_STATE":return xn([v({prim:"sapling_state",args:[t.args[0]]},y({v:1,t:1}))],e);case"SAPLING_VERIFY_UPDATE":var jt=o(0,["sapling_transaction"],["sapling_state"]);if(parseInt(jt[0].args[0].int,10)!==parseInt(jt[1].args[0].int,10))throw new ao(t,e,t.prim+": sapling memo size mismatch: "+jt[0].args[0].int+" != "+jt[1].args[0].int);return xn([m({prim:"option",args:[{prim:"pair",args:[{prim:"int"},v(jt[1],{t:null})]}]})],e.slice(2));default:throw new pi(t,"unexpected instruction: "+t.prim)}}(i);if(void 0!==(null==r?void 0:r.traceCallback)){var T={op:i,in:e,out:S};r.traceCallback(T)}return S}function mo(t,e){var r,n;try{for(var i=Sn(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.prim===e)return s}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new pi(t,"missing contract section: "+e)}function bo(t){var e,r;if(Array.isArray(t))try{for(var n=Sn(t),i=n.next();!i.done;i=n.next()){var o=i.value;if("prim"in o&&("parameter"===o.prim||"storage"===o.prim||"code"===o.prim))return!0}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return!1}function wo(t,e){e=e||"%default";var r=_o(t).find((function(t){return t[0]===e}));return void 0!==r?r[1]:"%default"===e?bo(t)?mo(t,"parameter").args[0]:t:null}function _o(t){if(bo(t)){var e=mo(t,"parameter"),r=_o(e.args[0]),n=_i(e);return n.f?xn([[n.f[0],e.args[0]]],r):r}if(s=t,Array.isArray(s)||"or"===s.prim){var i=co(t),o=function(t){var e=_i(i[t]);if("or"===uo(i[t])){var r=_o(i[t]);return e.f?xn([[e.f[0],i[t]]],r):r}return e.f?[[e.f[0],i[t]]]:[]};return xn(o(0),o(1))}var s;return[]}function Eo(t,e){var r=mo(t,"parameter").args[0];fo(r,!0);var n=mo(t,"storage").args[0];fo(n);var i={prim:"pair",args:[On(On({},r),{annots:["@parameter"]}),On(On({},n),{annots:["@storage"]})]},o=mo(t,"code").args[0],s=vo(o,[i],On(On({},e),{contract:t}));if("failed"in s)return s;var a={prim:"pair",args:[{prim:"list",args:[{prim:"operation"}]},n]};try{ho(s,[a])}catch(t){throw t instanceof pi?new ao(o,s,t.message):t}return s}function Oo(t,e,r){fo(e),yo(t,e,r||null)}new(function(){function t(t,e){this.contract=t,this.ctx=On({contract:t},e),this.output=Eo(t,this.ctx)}return t.parse=function(e,r){var n=new si(r),i="string"==typeof e?n.parseScript(e):n.parseJSON(e);if(null===i)throw new Error("empty contract");if(Ji(i))return new t(i,r)},t.parseTypeExpression=function(t,e){var r=new si(e),n="string"==typeof t?r.parseScript(t):r.parseJSON(t);if(null===n)throw new Error("empty type expression");if(Yi(n)&&fo(n))return n;throw void 0},t.parseDataExpression=function(t,e){var r=new si(e),n="string"==typeof t?r.parseScript(t):r.parseJSON(t);if(null===n)throw new Error("empty data expression");if(Xi(n))return n;throw void 0},t.prototype.section=function(t){return mo(this.contract,t)},t.prototype.entryPoints=function(){return _o(this.contract)},t.prototype.entryPoint=function(t){return wo(this.contract,t)},t.prototype.assertDataValid=function(t,e){Oo(t,e,this.ctx)},t.prototype.isDataValid=function(t,e){return function(t,e,r){try{return Oo(t,e,r),!0}catch(t){return!1}}(t,e,this.ctx)},t.prototype.assertParameterValid=function(t,e){var r=this.entryPoint(t||void 0);if(null===r)throw new Error("contract has no entrypoint named "+t);this.assertDataValid(e,r)},t.prototype.isParameterValid=function(t,e){try{return this.assertParameterValid(t,e),!0}catch(t){return!1}},t.prototype.functionType=function(t,e){return function(t,e,r){var n,i,o,s;try{for(var a=Sn(e),u=a.next();!u.done;u=a.next())fo(u.value)}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}if(void 0!==(null==r?void 0:r.contract))try{for(var c=Sn(["parameter","storage"]),l=c.next();!l.done;l=c.next()){var h=l.value;fo(mo(r.contract,h).args[0])}}catch(t){o={error:t}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}return vo(t,e,r||null)}(t,e,this.ctx)},t}())([{prim:"parameter",args:[{prim:"unit"}]},{prim:"storage",args:[{prim:"unit"}]},{prim:"code",args:[[{prim:"CAR"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PAIR"}]]}]);var Ao=function(t,e){return(Ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function So(t,e){function r(){this.constructor=t}Ao(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var To=function(){return(To=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function xo(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function No(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function Po(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Ro(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Io(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function ko(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Io(arguments[e]));return t}var Lo,Co,Do,Uo,Mo,jo,Bo=function(){function t(t){this.context=t}return t.prototype.forge=function(t){var e=t.branch,r=t.contents;return this.context.rpc.forgeOperations({branch:e,contents:r})},t}(),Ho=function(){function t(t){this.context=t}return t.prototype.inject=function(t){return this.context.rpc.injectOperation(t)},t}(),Fo=function(){this.name="UnconfiguredSignerError",this.message="No signer has been configured. Please configure one by calling setProvider({signer}) on your TezosToolkit instance."},Go=function(){function t(){}return t.prototype.publicKey=function(){return No(this,void 0,void 0,(function(){return Po(this,(function(t){throw new Fo}))}))},t.prototype.publicKeyHash=function(){return No(this,void 0,void 0,(function(){return Po(this,(function(t){throw new Fo}))}))},t.prototype.secretKey=function(){return No(this,void 0,void 0,(function(){return Po(this,(function(t){throw new Fo}))}))},t.prototype.sign=function(t,e){return No(this,void 0,void 0,(function(){return Po(this,(function(t){throw new Fo}))}))},t}(),Vo=function(t,e){return To(To({},t),{kind:e})},Ko=function(t,e){if(Array.isArray(t)){var r=t.find((function(t){return t.kind===e}));if(r&&qo(r,e))return r}},qo=function(t,e){return t.kind===e},zo=function(t){return-1!==["transaction","delegation","origination","reveal"].indexOf(t.kind)},Wo=function(t){return"metadata"in t},Yo=function(t){return Wo(t)&&"operation_result"in t.metadata},$o=function(t){this.errors=t,this.name="TezosOperationError";var e=t[t.length-1];this.id=e.id,this.kind=e.kind,this.message="("+this.kind+") "+this.id,"with"in e&&e.with.string&&(this.message=e.with.string)},Xo=function(t){this.result=t,this.name="TezosPreapplyFailureError",this.message="Preapply returned an unexpected result"},Jo=function(t){for(var e=Array.isArray(t)?t:[t],r=[],n=0;n<e.length;n++)for(var i=0;i<e[n].contents.length;i++){var o=e[n].contents[i];Yo(o)&&(r.push(To({fee:o.fee},o.metadata.operation_result)),Array.isArray(o.metadata.internal_operation_results)&&o.metadata.internal_operation_results.forEach((function(t){return r.push(t.result)})))}return r},Zo=function(t,e){var r,n;void 0===e&&(e="failed");for(var i,o=Array.isArray(t)?t:[t],s=[],a=0;a<o.length;a++)for(var u=0;u<o[a].contents.length;u++){var c=o[a].contents[u];if(Wo(c)&&(Yo(c)&&c.metadata.operation_result.status===e&&(s=s.concat(c.metadata.operation_result.errors||[])),Wo(i=c)&&"internal_operation_results"in i.metadata&&Array.isArray(c.metadata.internal_operation_results)))try{for(var l=(r=void 0,Ro(c.metadata.internal_operation_results)),h=l.next();!h.done;h=l.next()){var f=h.value;"result"in f&&f.result.status===e&&(s=s.concat(f.result.errors||[]))}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}return s},Qo=function(t,e){var r=void 0===e?{ALLOCATION_BURN:257,ORIGINATION_BURN:257}:e,n=r.ALLOCATION_BURN,i=r.ORIGINATION_BURN,o=Jo({contents:t}),s=new(je())(0),a=new(je())(0),u=new(je())(0),c=new(je())(0),l=new(je())(0),h=new(je())(0);return o.forEach((function(t){u=u.plus(t.fee||0),c=c.plus(Array.isArray(t.originated_contracts)?t.originated_contracts.length*i:0),l=l.plus("allocated_destination_contract"in t?n:0),s=s.plus(t.consumed_gas||0),h=h.plus("paid_storage_size_diff"in t&&Number(t.paid_storage_size_diff)||0)})),a=a.plus(l).plus(c).plus(h),{totalFee:u,totalGas:s,totalStorage:a,totalAllocationBurn:l,totalOriginationBurn:c,totalPaidStorageDiff:h,totalStorageBurn:new(je())(a.multipliedBy(1e3))}},ts=function(){this.name="MissedBlockDuringConfirmationError",this.message="Taquito missed a block while waiting for operation confirmation and was not able to find the operation"},es=function(){function t(t,e,r){var n=this;this.opHash=t,this.context=e,this._newHead$=r,this._operationResult=new ut(1),this._includedInBlock=new ut(1),this._included=!1,this.newHead$=this._newHead$.pipe(Ht((function(t){if(!n._included&&n.lastHead&&t.header.level-n.lastHead.header.level>1)throw new ts;n.lastHead=t})),Vt({bufferSize:1,refCount:!0})),this.confirmed$=this.newHead$.pipe(Nt((function(t){var e,r,i,o;try{for(var s=Ro(t.operations),a=s.next();!a.done;a=s.next()){var u=a.value;try{for(var c=(i=void 0,Ro(u)),l=c.next();!l.done;l=c.next()){var h=l.value;if(h.hash===n.opHash)return n._included=!0,n._includedInBlock.next(t),n._operationResult.next(h.contents),t}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}})),Kt((function(t){return void 0!==t})),oe(),Vt({bufferSize:1,refCount:!0})),this.confirmed$.pipe(oe()).subscribe()}return t.prototype.operationResults=function(){return No(this,void 0,void 0,(function(){return Po(this,(function(t){return[2,this._operationResult.pipe(oe()).toPromise()]}))}))},t.prototype.receipt=function(){return No(this,void 0,void 0,(function(){var t;return Po(this,(function(e){switch(e.label){case 0:return t=Qo,[4,this.operationResults()];case 1:return[2,t.apply(void 0,[e.sent()])]}}))}))},t.prototype.getCurrentConfirmation=function(){return No(this,void 0,void 0,(function(){return Po(this,(function(t){return this._included?[2,bt([this._includedInBlock,Et(this.context.rpc.getBlock())]).pipe(Nt((function(t){var e=Io(t,2),r=e[0];return e[1].header.level-r.header.level+1})),oe()).toPromise()]:[2,0]}))}))},t.prototype.isInCurrentBranch=function(t){return void 0===t&&(t="head"),No(this,void 0,void 0,(function(){var e,r,n,i,o;return Po(this,(function(s){switch(s.label){case 0:return this._included?[4,this.context.rpc.getBlockHeader({block:t})]:[2,!0];case 1:return e=s.sent(),[4,this._includedInBlock.pipe(oe()).toPromise()];case 2:return r=s.sent(),(n=e.level-r.header.level)<=0?[2,!0]:(i=Math.min(r.header.level+n,r.header.level+60),o=Set.bind,[4,this.context.rpc.getLiveBlocks({block:String(i)})]);case 3:return[2,(new(o.apply(Set,[void 0,s.sent()]))).has(r.hash)]}}))}))},t.prototype.confirmationObservable=function(t){var e=this;if(void 0!==t&&t<1)throw new Error("Confirmation count must be at least 1");var r,n,i=this.context.config.defaultConfirmationCount,o=void 0!==t?t:i;if(void 0===o)throw new Error("Default confirmation count can not be undefined!");return bt([this._includedInBlock,this.newHead$]).pipe(se((function(t,e){var r=Io(t,2)[1],n=Io(e,2)[1];return r.hash===n.hash})),Nt((function(t){var r=Io(t,2),n=r[0],i=r[1];return{block:i,expectedConfirmation:o,currentConfirmation:i.header.level-n.header.level+1,completed:i.header.level-n.header.level>=o-1,isInCurrentBranch:function(){return e.isInCurrentBranch(i.hash)}}})),(r=function(t){return!t.completed},void 0===(n=!0)&&(n=!1),function(t){return t.lift(new ce(r,n))}))},t.prototype.confirmation=function(t){return this.confirmationObservable(t).toPromise()},t}(),rs=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.opHash=e,i.context=r,i}return So(e,t),e.prototype.revealOperation=function(){return No(this,void 0,void 0,(function(){return Po(this,(function(t){switch(t.label){case 0:return[4,this.operationResults()];case 1:return[2,t.sent().find((function(t){return t.kind===f.REVEAL}))]}}))}))},e.prototype.delegationOperation=function(){return No(this,void 0,void 0,(function(){return Po(this,(function(t){switch(t.label){case 0:return[4,this.operationResults()];case 1:return[2,t.sent().find((function(t){return t.kind===f.DELEGATION}))]}}))}))},e.prototype.status=function(){return No(this,void 0,void 0,(function(){var t;return Po(this,(function(e){switch(e.label){case 0:return this._included?[4,this.delegationOperation()]:[2,"pending"];case 1:return(t=e.sent())?[2,t.metadata.operation_result.status]:[2,"unknown"]}}))}))},e}(es),ns=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.opHash=e,i.context=r,i}return So(e,t),e.prototype.originationOperation=function(){return No(this,void 0,void 0,(function(){var t;return Po(this,(function(e){switch(e.label){case 0:return[4,this.operationResults()];case 1:return t=e.sent(),[2,Ko(t,f.ORIGINATION)]}}))}))},e.prototype.revealOperation=function(){return No(this,void 0,void 0,(function(){var t;return Po(this,(function(e){switch(e.label){case 0:return[4,this.operationResults()];case 1:return t=e.sent(),[2,Ko(t,f.REVEAL)]}}))}))},e.prototype.status=function(){return No(this,void 0,void 0,(function(){var t;return Po(this,(function(e){switch(e.label){case 0:return this._included?[4,this.originationOperation()]:[2,"pending"];case 1:return(t=e.sent())?[2,t.metadata.operation_result.status]:[2,"unknown"]}}))}))},e.prototype.contract=function(){return No(this,void 0,void 0,(function(){var t,e;return Po(this,(function(r){switch(r.label){case 0:return[4,this.originationOperation()];case 1:return t=r.sent(),e=(t.metadata.operation_result.originated_contracts||[])[0],[2,this.context.wallet.at(e)]}}))}))},e}(es),is=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.opHash=e,i.context=r,i}return So(e,t),e.prototype.revealOperation=function(){return No(this,void 0,void 0,(function(){return Po(this,(function(t){switch(t.label){case 0:return[4,this.operationResults()];case 1:return[2,t.sent().find((function(t){return t.kind===f.REVEAL}))]}}))}))},e.prototype.transactionOperation=function(){return No(this,void 0,void 0,(function(){return Po(this,(function(t){switch(t.label){case 0:return[4,this.operationResults()];case 1:return[2,t.sent().find((function(t){return t.kind===f.TRANSACTION}))]}}))}))},e.prototype.status=function(){return No(this,void 0,void 0,(function(){var t;return Po(this,(function(e){switch(e.label){case 0:return this._included?[4,this.transactionOperation()]:[2,"pending"];case 1:return(t=e.sent())?[2,t.metadata.operation_result.status]:[2,"unknown"]}}))}))},e}(es),os=function(t,e,r,n){if(void 0===r.config.confirmationPollingTimeoutSecond)throw new Error("Confirmation polling timeout second can not be undefined!");return t.pipe(he((function(){return e})),de("hash"),function(t,e,r){return void 0===r&&(r=At),function(n){var i,o=(i=t)instanceof Date&&!isNaN(+i),s=o?+t-r.now():Math.abs(t);return n.lift(new ge(s,o,e,r))}}(1e3*r.config.confirmationPollingTimeoutSecond,nt(new Error("Confirmation polling timed out")),n),Vt({refCount:!0,scheduler:n}))},ss=function(){function t(t){var e,r=this;this.context=t,this.sharedHeadObs=Ot((function(){return Et(r.context.rpc.getBlock())})).pipe((e=Tt(0,1e3),function(t){var r=null;return Ot((function(){return r||(r=new ut,t.pipe(oe()).subscribe(r),e.pipe(oe()).subscribe((function(){r=null}))),r}))}))}return t.prototype.createNewHeadObservable=function(){return No(this,void 0,void 0,(function(){var t;return Po(this,(function(e){switch(e.label){case 0:return void 0===this.context.config.confirmationPollingIntervalSecond?[3,1]:(t=this.context.config.confirmationPollingIntervalSecond,[3,3]);case 1:return[4,this.context.getConfirmationPollingInterval()];case 2:t=e.sent(),e.label=3;case 3:return[2,os(Tt(0,1e3*t),this.sharedHeadObs,this.context)]}}))}))},t.prototype.createPastBlockWalker=function(t,e){var r=this;return void 0===e&&(e=1),Et(this.context.rpc.getBlock({block:t})).pipe(he((function(t){return 1===e?rt(t):function(t,e,r){return void 0===t&&(t=0),new M((function(n){void 0===e&&(e=t,t=0);var i=0,o=t;for(r;;){if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}}))}(t.header.level,e-1).pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return J(r)?(t.pop(),function(e){return jt(t,e,r)}):function(e){return jt(t,e)}}(t),ve((function(t){return No(r,void 0,void 0,(function(){return Po(this,(function(e){return[2,this.context.rpc.getBlock({block:String(t)})]}))}))})))})))},t.prototype.createHeadObservableFromConfig=function(t){var e=t.blockIdentifier;return No(this,void 0,void 0,(function(){var t,r,n;return Po(this,(function(i){switch(i.label){case 0:return t=[],e&&t.push(this.createPastBlockWalker(e)),n=(r=t).push,[4,this.createNewHeadObservable()];case 1:return n.apply(r,[i.sent()]),[2,jt.apply(void 0,ko(t))]}}))}))},t.prototype.createOperation=function(t,e){return void 0===e&&(e={}),No(this,void 0,void 0,(function(){var r,n;return Po(this,(function(i){switch(i.label){case 0:return r=es.bind,n=[void 0,t,this.context.clone()],[4,this.createHeadObservableFromConfig(e)];case 1:return[2,new(r.apply(es,n.concat([i.sent()])))]}}))}))},t.prototype.createTransactionOperation=function(t,e){return void 0===e&&(e={}),No(this,void 0,void 0,(function(){var r,n;return Po(this,(function(i){switch(i.label){case 0:return r=is.bind,n=[void 0,t,this.context.clone()],[4,this.createHeadObservableFromConfig(e)];case 1:return[2,new(r.apply(is,n.concat([i.sent()])))]}}))}))},t.prototype.createDelegationOperation=function(t,e){return void 0===e&&(e={}),No(this,void 0,void 0,(function(){var r,n;return Po(this,(function(i){switch(i.label){case 0:return r=rs.bind,n=[void 0,t,this.context.clone()],[4,this.createHeadObservableFromConfig(e)];case 1:return[2,new(r.apply(rs,n.concat([i.sent()])))]}}))}))},t.prototype.createOriginationOperation=function(t,e){return void 0===e&&(e={}),No(this,void 0,void 0,(function(){var r,n;return Po(this,(function(i){switch(i.label){case 0:return r=ns.bind,n=[void 0,t,this.context.clone()],[4,this.createHeadObservableFromConfig(e)];case 1:return[2,new(r.apply(ns,n.concat([i.sent()])))]}}))}))},t}();!function(t){t[t.DELEGATION=10600]="DELEGATION",t[t.ORIGINATION=10600]="ORIGINATION",t[t.TRANSFER=10600]="TRANSFER",t[t.REVEAL=10600]="REVEAL"}(Lo||(Lo={})),function(t){t[t.DELEGATION=1257]="DELEGATION",t[t.ORIGINATION=1e4]="ORIGINATION",t[t.TRANSFER=1e4]="TRANSFER",t[t.REVEAL=1420]="REVEAL"}(Co||(Co={})),function(t){t[t.DELEGATION=0]="DELEGATION",t[t.ORIGINATION=257]="ORIGINATION",t[t.TRANSFER=257]="TRANSFER",t[t.REVEAL=0]="REVEAL"}(Do||(Do={})),function(t){t.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",t.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",t.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",t.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",t.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",t.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",t.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i"}(Uo||(Uo={})),Uo.Pt24m4xi,Uo.PsBABY5H,Uo.PsBabyM1,Uo.PsCARTHA,Uo.PsDELPH1,Uo.PtEdo2Zk,Uo.PsFLorena,function(t){t.MAINNET="KT1CPuTzwC7h7uLXd5WQmpMFso1HxrLBUtpE",t.CARTHAGENET="KT1VAy1o1FGiXYfD3YT7x7k5eF5HSHhmc1u6",t.DELPHINET="KT19abMFs3haqyKYwqdLjK9GbtofryZLvpiK",t.EDONET="KT1A64nVZDccAHGAsf1ZyVajXZcbiwjV3SnN",t.FLORENCENET="KT1KCe3YqGnudsiCWb5twbe2DH5T3EMdLpSE"}(Mo||(Mo={})),function(t){t.MAINNET="NetXdQprcVkpaWU",t.CARTHAGENET="NetXjD3HPJJjmcd",t.DELPHINET="NetXm8tYqnMWky1",t.EDONET="NetXSgo1ZT2DRUG",t.FLORENCENET="NetXxkAx4woPLyu"}(jo||(jo={}));var as=function(){function t(t){this.context=t}return Object.defineProperty(t.prototype,"rpc",{get:function(){return this.context.rpc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signer",{get:function(){return this.context.signer},enumerable:!1,configurable:!0}),t.prototype.prepareOperation=function(t){var e=t.operation,r=t.source;return No(this,void 0,void 0,(function(){var t,n,i,o,s,a,u,c,l,h,p,d,g,y,v,m,b,w,_,E,O,A,S,T,x;return Po(this,(function(N){switch(N.label){case 0:return n={},i=!1,o=[],a=this.rpc.getBlockHeader(),u=this.rpc.getBlockMetadata(),o=Array.isArray(e)?ko(e):[e],[4,this.signer.publicKeyHash()];case 1:c=N.sent(),l=Promise.resolve(void 0),h=Promise.resolve(void 0),p=0,N.label=2;case 2:return p<o.length?(P=o[p],-1===["transaction","delegation","origination"].indexOf(P.kind)?[3,4]:(i=!0,[4,this.rpc.getContract(c)])):[3,5];case 3:return d=N.sent().counter,l=Promise.resolve(d),h=this.rpc.getManagerKey(c),[3,5];case 4:return p++,[3,2];case 5:return[4,Promise.all([a,u,l,h])];case 6:if(g=Io.apply(void 0,[N.sent(),4]),y=g[0],v=g[1],m=g[2],b=g[3],!y)throw new Error("Unable to fetch latest block header");if(!v)throw new Error("Unable to fetch latest metadata");return s=y,i?(b&&"object"==typeof b?b.key:b)?[3,8]:(x={kind:f.REVEAL,fee:Co.REVEAL},[4,this.signer.publicKey()]):[3,8];case 7:x.public_key=N.sent(),x.source=c,x.gas_limit=Lo.REVEAL,x.storage_limit=Do.REVEAL,w=x,o.unshift(w),N.label=8;case 8:return t=parseInt(m||"0",10),(!n[c]||n[c]<t)&&(n[c]=t),_=function(t){return{counter:""+ ++n[c],fee:void 0===t.fee?"0":""+t.fee,gas_limit:void 0===t.gas_limit?"0":""+t.gas_limit,storage_limit:void 0===t.storage_limit?"0":""+t.storage_limit}},E=function(t){return{source:void 0===t.source?r||c:t.source}},O=function(t){return t.map((function(t){switch(t.kind){case f.ACTIVATION:return To({},t);case f.REVEAL:return To(To(To({},t),E(t)),_(t));case f.ORIGINATION:return To(To(To(To({},t),{balance:void 0!==t.balance?""+t.balance:"0"}),E(t)),_(t));case f.TRANSACTION:var e=To(To(To(To({},t),{amount:void 0!==t.amount?""+t.amount:"0"}),E(t)),_(t));if(e.source.toLowerCase().startsWith("kt1"))throw new Error("KT1 addresses are not supported as source since "+Uo.PsBabyM1);return e;case f.DELEGATION:return To(To(To({},t),E(t)),_(t));default:throw new Error("Unsupported operation")}}))},A=s.hash,S=O(o),T=v.next_protocol,[2,{opOb:{branch:A,contents:S,protocol:T},counter:t}]}var P}))}))},t.prototype.prepareAndForge=function(t){return No(this,void 0,void 0,(function(){var e;return Po(this,(function(r){switch(r.label){case 0:return[4,this.prepareOperation(t)];case 1:return e=r.sent(),[2,this.forge(e)]}}))}))},t.prototype.forge=function(t){var e=t.opOb,r=e.branch,n=e.contents,i=e.protocol,o=t.counter;return No(this,void 0,void 0,(function(){return Po(this,(function(t){switch(t.label){case 0:return[4,this.context.forger.forge({branch:r,contents:n})];case 1:return[2,{opbytes:t.sent(),opOb:{branch:r,contents:n,protocol:i},counter:o}]}}))}))},t.prototype.simulate=function(t){return No(this,void 0,void 0,(function(){var e;return Po(this,(function(r){switch(r.label){case 0:return e={},[4,this.rpc.runOperation(t)];case 1:return[2,(e.opResponse=r.sent(),e.op=t,e.context=this.context.clone(),e)]}}))}))},t.prototype.estimate=function(t,e){var r=t.fee,n=t.gasLimit,i=t.storageLimit,o=xo(t,["fee","gasLimit","storageLimit"]);return No(this,void 0,void 0,(function(){var t,s,a,u;return Po(this,(function(c){switch(c.label){case 0:return t=r,s=n,a=i,void 0!==r&&void 0!==n&&void 0!==i?[3,2]:[4,e(To({fee:r,gasLimit:n,storageLimit:i},o))];case 1:u=c.sent(),void 0===t&&(t=u.suggestedFeeMutez),void 0===s&&(s=u.gasLimit),void 0===a&&(a=u.storageLimit),c.label=2;case 2:return[2,{fee:t,gasLimit:s,storageLimit:a}]}}))}))},t.prototype.signAndInject=function(t){return No(this,void 0,void 0,(function(){var e,r,n,i,o,s,a;return Po(this,(function(u){switch(u.label){case 0:return[4,this.signer.sign(t.opbytes,new Uint8Array([3]))];case 1:return e=u.sent(),t.opbytes=e.sbytes,t.opOb.signature=e.prefixSig,r=[],[4,this.rpc.preapplyOperations([t.opOb])];case 2:if(n=u.sent(),!Array.isArray(n))throw new Xo(n);for(i=0;i<n.length;i++)for(o=0;o<n[i].contents.length;o++)r.push(n[i].contents[o]);if((s=Zo(n)).length)throw new $o(s);return a={},[4,this.context.injector.inject(t.opbytes)];case 3:return[2,(a.hash=u.sent(),a.forgedBytes=t,a.opResponse=r,a.context=this.context.clone(),a)]}}))}))},t}(),us=function(){function t(t,e,r,n){var i,o=this;this.hash=t,this.raw=e,this.results=r,this.context=n,this._pollingConfig$=new ut(1),this._currentHeadPromise=void 0,this.currentHead$=Ot((function(){return o._currentHeadPromise||(o._currentHeadPromise=o.context.rpc.getBlock(),Tt(1e3).pipe(oe()).subscribe((function(){o._currentHeadPromise=void 0}))),Et(o._currentHeadPromise)})),this.polling$=Ot((function(){return o._pollingConfig$.pipe(Ht((function(t){var e=t.timeout,r=t.interval;if(e<=0)throw new Error("Timeout must be more than 0");if(r<=0)throw new Error("Interval must be more than 0")})),Nt((function(t){return To(To({},t),{timeoutAt:Math.ceil(t.timeout/t.interval)+1,count:0})})),he((function(t){return Tt(0,1e3*t.interval).pipe((e=t,function(t){return t.lift(new me(e))}));var e})),Ht((function(t){if(t.count++,t.count>t.timeoutAt)throw new Error("Confirmation polling timed out")})))})),this.confirmed$=this.polling$.pipe((i=this.currentHead$,he((function(){return i}))),Nt((function(t){for(var e=3;e>=0;e--)t.operations[e].forEach((function(e){e.hash===o.hash&&(o._foundAt=t.header.level)}));if(t.header.level-o._foundAt>=0)return o._foundAt})),Kt((function(t){return void 0!==t})),oe(),Vt()),this._foundAt=Number.POSITIVE_INFINITY,this.confirmed$.pipe(oe()).subscribe()}return Object.defineProperty(t.prototype,"includedInBlock",{get:function(){return this._foundAt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"revealOperation",{get:function(){return Array.isArray(this.results)&&this.results.find((function(t){return"reveal"===t.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"revealStatus",{get:function(){return this.revealOperation?this.revealOperation.metadata.operation_result.status:"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.results.map((function(t){return Yo(t)?t.metadata.operation_result.status:"unknown"}))[0]||"unknown"},enumerable:!1,configurable:!0}),t.prototype.confirmation=function(t,e,r){return No(this,void 0,void 0,(function(){var n,i,o,s,a,u,c=this;return Po(this,(function(l){switch(l.label){case 0:if(void 0!==t&&t<1)throw new Error("Confirmation count must be at least 1");return void 0===this.context.config.confirmationPollingIntervalSecond?[3,1]:(i=this.context.config.confirmationPollingIntervalSecond,[3,3]);case 1:return[4,this.context.getConfirmationPollingInterval()];case 2:i=l.sent(),l.label=3;case 3:if(n=i,o=this.context.config,s=o.defaultConfirmationCount,a=o.confirmationPollingTimeoutSecond,this._pollingConfig$.next({interval:e||n,timeout:r||a}),void 0===(u=void 0!==t?t:s))throw new Error("Default confirmation count can not be undefined!");return[2,new Promise((function(t,e){c.confirmed$.pipe(he((function(){return c.polling$})),he((function(){return c.currentHead$})),Kt((function(t){return t.header.level-c._foundAt>=u-1})),oe()).subscribe((function(e){t(c._foundAt+(u-1))}),e)}))]}}))}))},t}(),cs=function(t){function e(e){return t.call(this,e)||this}return So(e,t),e.prototype.getBalance=function(t){return No(this,void 0,void 0,(function(){return Po(this,(function(e){return[2,this.rpc.getBalance(t)]}))}))},e.prototype.getDelegate=function(t){return No(this,void 0,void 0,(function(){return Po(this,(function(e){return[2,this.rpc.getDelegate(t)]}))}))},e.prototype.activate=function(t,e){return No(this,void 0,void 0,(function(){var r,n,i,o;return Po(this,(function(s){switch(s.label){case 0:return r={kind:f.ACTIVATION,pkh:t,secret:e},[4,this.prepareAndForge({operation:[r],source:t})];case 1:return n=s.sent(),i=n.opbytes+"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",o=us.bind,[4,this.rpc.injectOperation(i)];case 2:return[2,new(o.apply(us,[void 0,s.sent(),To(To({},n),{opbytes:i}),[],this.context.clone()]))]}}))}))},e}(as),ls=function(){function t(t,e,r,n,i){void 0===i&&(i=100),this._milligasLimit=t,this._storageLimit=e,this.opSize=r,this.minimalFeePerStorageByteMutez=n,this.baseFeeMutez=i}return Object.defineProperty(t.prototype,"burnFeeMutez",{get:function(){return this.roundUp(Number(this.storageLimit)*Number(this.minimalFeePerStorageByteMutez))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storageLimit",{get:function(){var t=Math.max(Number(this._storageLimit),0);return t>0?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gasLimit",{get:function(){return this.roundUp(Number(this._milligasLimit)/1e3+100)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"operationFeeMutez",{get:function(){return.1*(Number(this._milligasLimit)/1e3+100)+1*Number(this.opSize)},enumerable:!1,configurable:!0}),t.prototype.roundUp=function(t){return Math.ceil(Number(t))},Object.defineProperty(t.prototype,"minimalFeeMutez",{get:function(){return this.roundUp(100+this.operationFeeMutez)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"suggestedFeeMutez",{get:function(){return this.roundUp(this.operationFeeMutez+200)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"usingBaseFeeMutez",{get:function(){return Math.max(Number(this.baseFeeMutez),100)+this.roundUp(this.operationFeeMutez)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalCost",{get:function(){return this.minimalFeeMutez+this.burnFeeMutez},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"consumedMilligas",{get:function(){return Number(this._milligasLimit)},enumerable:!1,configurable:!0}),t}();function hs(t){switch(t){case"tz":return 6;case"mtz":return 3;case"mutez":default:return 0}}function fs(t,e,r){void 0===t&&(t="mutez"),void 0===e&&(e="mutez");var n=new(je())(r);return n.isNaN()?r:n.multipliedBy(Math.pow(10,hs(t))).dividedBy(Math.pow(10,hs(e)))}var ps,ds,gs=function(t,e,r){this.smartContractMethodName=t,this.sigs=e,this.args=r,this.name="Invalid parameters error",this.message=t+" Received "+r.length+" arguments while expecting one of the following signatures ("+JSON.stringify(e)+")"},ys=function(){this.name="Undefined LambdaContract error",this.message="This might happen if you are using a sandbox. Please provide the address of a lambda contract as a parameter of the read method."},vs=function(t){this.source=t,this.name="Invalid delegation source error",this.message="Since Babylon delegation source can no longer be a contract address "+t+". Please use the smart contract abstraction to set your delegate."},ms=function(t,e){this.message=t,this.data=e,this.name="InvalidCodeParameter"},bs=function(t,e){this.message=t,this.data=e,this.name="InvalidInitParameter"},ws=function(t){var e=t.code,r=t.init,n=t.balance,i=void 0===n?"0":n,o=t.delegate,s=t.storage,a=t.fee,u=void 0===a?Co.ORIGINATION:a,c=t.gasLimit,l=void 0===c?Lo.ORIGINATION:c,h=t.storageLimit,p=void 0===h?Do.ORIGINATION:h,d=t.mutez,g=void 0!==d&&d;return No(void 0,void 0,void 0,(function(){var t,n,a,c,h;return Po(this,(function(d){if(void 0!==s&&void 0!==r)throw new Error("Storage and Init cannot be set a the same time. Please either use storage or init but not both.");if(!Array.isArray(e))throw new ms("Wrong code parameter type, expected an array",e);if(void 0!==s){if(void 0===(null==(n=e.find((function(t){return"prim"in t&&"storage"===t.prim})))?void 0:n.args))throw new ms("The storage section is missing from the script",e);a=new vn(n.args[0]),t=a.Encode(s)}else{if(void 0===r||"object"!=typeof r)throw new bs("Wrong init parameter type, expected JSON Michelson",r);t=r}return c={code:e,storage:t},h={kind:f.ORIGINATION,fee:u,gas_limit:l,storage_limit:p,balance:g?i.toString():fs("tz","mutez",i).toString(),script:c},o&&(h.delegate=o),[2,h]}))}))},_s=function(t){var e=t.to,r=t.amount,n=t.parameter,i=t.fee,o=void 0===i?Co.TRANSFER:i,s=t.gasLimit,a=void 0===s?Lo.TRANSFER:s,u=t.storageLimit,c=void 0===u?Do.TRANSFER:u,l=t.mutez,h=void 0!==l&&l;return No(void 0,void 0,void 0,(function(){return Po(this,(function(t){return[2,{kind:f.TRANSACTION,fee:o,gas_limit:a,storage_limit:c,amount:h?r.toString():fs("tz","mutez",r).toString(),destination:e,parameters:n}]}))}))},Es=function(t){var e=t.delegate,r=t.source,n=t.fee,i=void 0===n?Co.DELEGATION:n,o=t.gasLimit,s=void 0===o?Lo.DELEGATION:o,a=t.storageLimit,u=void 0===a?Do.DELEGATION:a;return No(void 0,void 0,void 0,(function(){return Po(this,(function(t){return[2,{kind:f.DELEGATION,source:r,fee:i,gas_limit:s,storage_limit:u,delegate:e}]}))}))},Os=function(t,e){var r=t.fee,n=void 0===r?Co.DELEGATION:r,i=t.gasLimit,o=void 0===i?Lo.DELEGATION:i,s=t.storageLimit,a=void 0===s?Do.DELEGATION:s;return No(void 0,void 0,void 0,(function(){return Po(this,(function(t){return[2,{kind:f.DELEGATION,fee:n,gas_limit:o,storage_limit:a,delegate:e}]}))}))},As=function(t,e){return{fee:void 0===t.fee?e.fee:t.fee,gasLimit:void 0===t.gasLimit?e.gasLimit:t.gasLimit,storageLimit:void 0===t.storageLimit?e.storageLimit:t.storageLimit}},Ss=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ALLOCATION_STORAGE=257,e.ORIGINATION_STORAGE=257,e}return So(e,t),e.prototype.getAccountLimits=function(t){return No(this,void 0,void 0,(function(){var e,r,n,i,o;return Po(this,(function(s){switch(s.label){case 0:return[4,this.rpc.getBalance(t)];case 1:return e=s.sent(),[4,this.rpc.getConstants()];case 2:return r=s.sent(),n=r.hard_gas_limit_per_operation,i=r.hard_storage_limit_per_operation,o=r.cost_per_byte,[2,{fee:0,gasLimit:n.toNumber(),storageLimit:Math.floor(je().min(e.dividedBy(o),i).toNumber())}]}}))}))},e.prototype.createEstimateFromOperationContent=function(t,e,r){var n=this,i=Jo({contents:[t]}),o=0,s=0,a=0;return i.forEach((function(t){a+="originated_contracts"in t&&void 0!==t.originated_contracts?t.originated_contracts.length*n.ORIGINATION_STORAGE:0,a+="allocated_destination_contract"in t?n.ALLOCATION_STORAGE:0,o+=Number(t.consumed_gas)||0,s+=Number(t.consumed_milligas)||0,a+="paid_storage_size_diff"in t&&Number(t.paid_storage_size_diff)||0})),0!==o&&0===s&&(s=1e3*o),zo(t)?new ls(s||0,Number(a||0),e,r.toNumber()):new ls(0,0,e,r.toNumber(),0)},e.prototype.createEstimate=function(t){return No(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c,l,h=this;return Po(this,(function(f){switch(f.label){case 0:return[4,this.prepareAndForge(t)];case 1:return e=f.sent(),r=e.opbytes,n=e.opOb,i=n.branch,o=n.contents,l={operation:{branch:i,contents:o,signature:"edsigtkpiSSschcaCt9pUVrpNPf7TTcgvgDEDD6NCEHMy8NNQJCGnMfLZzYoQj74yLjo9wx6MPVV29CvVzgi7qEcEUok3k7AuMg"}},[4,this.rpc.getChainId()];case 2:return l.chain_id=f.sent(),s=l,[4,this.simulate(s)];case 3:return a=f.sent().opResponse,[4,this.rpc.getConstants()];case 4:if(u=f.sent().cost_per_byte,(c=ko(Zo(a,"backtracked"),Zo(a))).length)throw new $o(c);for(;a.contents.length!==(Array.isArray(t.operation)?t.operation.length:1);)a.contents.shift();return[2,a.contents.map((function(t){return h.createEstimateFromOperationContent(t,r.length/2/a.contents.length,u)}))]}}))}))},e.prototype.originate=function(t){var e=t.fee,r=t.storageLimit,n=t.gasLimit,i=xo(t,["fee","storageLimit","gasLimit"]);return No(this,void 0,void 0,(function(){var t,o,s,a;return Po(this,(function(u){switch(u.label){case 0:return[4,this.signer.publicKeyHash()];case 1:return t=u.sent(),[4,this.getAccountLimits(t)];case 2:return o=u.sent(),a=ws,[4,this.context.parser.prepareCodeOrigination(To(To({},i),As({fee:e,storageLimit:r,gasLimit:n},o)))];case 3:return[4,a.apply(void 0,[u.sent()])];case 4:return s=u.sent(),[4,this.createEstimate({operation:s,source:t})];case 5:return[2,u.sent()[0]]}}))}))},e.prototype.transfer=function(t){var e=t.fee,r=t.storageLimit,n=t.gasLimit,i=xo(t,["fee","storageLimit","gasLimit"]);return No(this,void 0,void 0,(function(){var t,o,s;return Po(this,(function(a){switch(a.label){case 0:return[4,this.signer.publicKeyHash()];case 1:return t=a.sent(),[4,this.getAccountLimits(t)];case 2:return o=a.sent(),[4,_s(To(To({},i),As({fee:e,storageLimit:r,gasLimit:n},o)))];case 3:return s=a.sent(),[4,this.createEstimate({operation:s,source:t})];case 4:return[2,a.sent()[0]]}}))}))},e.prototype.setDelegate=function(t){var e=t.fee,r=t.gasLimit,n=t.storageLimit,i=xo(t,["fee","gasLimit","storageLimit"]);return No(this,void 0,void 0,(function(){var t,o,s,a;return Po(this,(function(u){switch(u.label){case 0:return(o=i.source)?[3,2]:[4,this.signer.publicKeyHash()];case 1:o=u.sent(),u.label=2;case 2:return t=o,[4,this.getAccountLimits(t)];case 3:return s=u.sent(),[4,Es(To(To({},i),As({fee:e,storageLimit:n,gasLimit:r},s)))];case 4:return a=u.sent(),[4,this.createEstimate({operation:a,source:t})];case 5:return[2,u.sent()[0]]}}))}))},e.prototype.batch=function(t){return No(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c,l,h,p,d,g,y,v;return Po(this,(function(m){switch(m.label){case 0:return e=[],n=this.getAccountLimits,[4,this.signer.publicKeyHash()];case 1:return[4,n.apply(this,[m.sent()])];case 2:r=m.sent(),m.label=3;case 3:m.trys.push([3,16,17,18]),i=Ro(t),o=i.next(),m.label=4;case 4:if(o.done)return[3,15];switch((s=o.value).kind){case f.TRANSACTION:return[3,5];case f.ORIGINATION:return[3,7];case f.DELEGATION:return[3,10];case f.ACTIVATION:return[3,12]}return[3,13];case 5:return u=(a=e).push,[4,_s(To(To({},s),As(s,r)))];case 6:return u.apply(a,[m.sent()]),[3,14];case 7:return l=(c=e).push,h=ws,[4,this.context.parser.prepareCodeOrigination(To(To({},s),As(s,r)))];case 8:return[4,h.apply(void 0,[m.sent()])];case 9:return l.apply(c,[m.sent()]),[3,14];case 10:return d=(p=e).push,[4,Es(To(To({},s),As(s,r)))];case 11:return d.apply(p,[m.sent()]),[3,14];case 12:return e.push(To(To({},s),r)),[3,14];case 13:throw new Error("Unsupported operation kind: "+s.kind);case 14:return o=i.next(),[3,4];case 15:return[3,18];case 16:return g=m.sent(),y={error:g},[3,18];case 17:try{o&&!o.done&&(v=i.return)&&v.call(i)}finally{if(y)throw y.error}return[7];case 18:return[2,this.createEstimate({operation:e})]}}))}))},e.prototype.registerDelegate=function(t){return No(this,void 0,void 0,(function(){var e,r,n,i,o,s,a;return Po(this,(function(u){switch(u.label){case 0:return r=this.getAccountLimits,[4,this.signer.publicKeyHash()];case 1:return[4,r.apply(this,[u.sent()])];case 2:return e=u.sent(),i=Os,o=[To(To({},t),e)],[4,this.signer.publicKeyHash()];case 3:return[4,i.apply(void 0,o.concat([u.sent()]))];case 4:return n=u.sent(),s=this.createEstimate,a={operation:n},[4,this.signer.publicKeyHash()];case 5:return[4,s.apply(this,[(a.source=u.sent(),a)])];case 6:return[2,u.sent()[0]]}}))}))},e}(as),Ts=function(t){function e(e,r,n,i,o,s){var a=t.call(this,e,i,o,s)||this;return a.params=r,a.source=n,a}return So(e,t),e.prototype.sumProp=function(t,e){return t.reduce((function(t,r){return e in r?Number(r[e])+t:t}),0)},Object.defineProperty(e.prototype,"status",{get:function(){return this.results.filter((function(t){return-1!==xs.indexOf(t.kind)})).map((function(t){return Yo(t)?t.metadata.operation_result.status:"unknown"}))[0]||"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fee",{get:function(){return this.sumProp(this.params,"fee")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gasLimit",{get:function(){return this.sumProp(this.params,"gas_limit")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageLimit",{get:function(){return this.sumProp(this.params,"storage_limit")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"consumedGas",{get:function(){return String(this.sumProp(Jo({contents:this.results}),"consumed_gas"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageDiff",{get:function(){return String(this.sumProp(Jo({contents:this.results}),"paid_storage_size_diff"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return Zo({contents:this.results})},enumerable:!1,configurable:!0}),e}(us),xs=[f.ACTIVATION,f.ORIGINATION,f.TRANSACTION,f.DELEGATION],Ns=function(t){function e(e,r){var n=t.call(this,e)||this;return n.estimator=r,n.operations=[],n}return So(e,t),e.prototype.withTransfer=function(t){return this.operations.push(To({kind:f.TRANSACTION},t)),this},e.prototype.withContractCall=function(t){return this.withTransfer(t.toTransferParams())},e.prototype.withDelegation=function(t){return this.operations.push(To({kind:f.DELEGATION},t)),this},e.prototype.withActivation=function(t){var e=t.pkh,r=t.secret;return this.operations.push({kind:f.ACTIVATION,pkh:e,secret:r}),this},e.prototype.withOrigination=function(t){return this.operations.push(To({kind:f.ORIGINATION},t)),this},e.prototype.getRPCOp=function(t){return No(this,void 0,void 0,(function(){var e;return Po(this,(function(r){switch(r.label){case 0:switch(t.kind){case f.TRANSACTION:return[3,1];case f.ORIGINATION:return[3,2];case f.DELEGATION:return[3,4];case f.ACTIVATION:return[3,5]}return[3,6];case 1:return[2,_s(To({},t))];case 2:return e=ws,[4,this.context.parser.prepareCodeOrigination(To({},t))];case 3:return[2,e.apply(void 0,[r.sent()])];case 4:return[2,Es(To({},t))];case 5:return[2,To({},t)];case 6:throw new Error("Unsupported operation kind: "+t.kind)}}))}))},e.prototype.with=function(t){var e,r;try{for(var n=Ro(t),i=n.next();!i.done;i=n.next()){var o=i.value;switch(o.kind){case f.TRANSACTION:this.withTransfer(o);break;case f.ORIGINATION:this.withOrigination(o);break;case f.DELEGATION:this.withDelegation(o);break;case f.ACTIVATION:this.withActivation(o);break;default:throw new Error("Unsupported operation kind: "+o.kind)}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},e.prototype.send=function(t){return No(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c,l,h,f,p,d,g,y,v,m,b,w,_=this;return Po(this,(function(E){switch(E.label){case 0:return[4,this.estimator.batch(this.operations)];case 1:e=E.sent(),r=[],n=0,E.label=2;case 2:E.trys.push([2,10,11,12]),i=Ro(this.operations),o=i.next(),E.label=3;case 3:return o.done?[3,9]:(s=o.value,zo(s)?[4,this.estimate(s,(function(){return No(_,void 0,void 0,(function(){return Po(this,(function(t){return[2,e[n]]}))}))}))]:[3,6]);case 4:return a=E.sent(),c=(u=r).push,[4,this.getRPCOp(To(To({},s),a))];case 5:return c.apply(u,[E.sent()]),[3,7];case 6:r.push(To({},s)),E.label=7;case 7:n++,E.label=8;case 8:return o=i.next(),[3,3];case 9:return[3,12];case 10:return l=E.sent(),b={error:l},[3,12];case 11:try{o&&!o.done&&(w=i.return)&&w.call(i)}finally{if(b)throw b.error}return[7];case 12:return(f=t&&t.source)?[3,14]:[4,this.signer.publicKeyHash()];case 13:f=E.sent(),E.label=14;case 14:return h=f,[4,this.prepareAndForge({operation:r,source:h})];case 15:return p=E.sent(),[4,this.signAndInject(p)];case 16:return d=E.sent(),g=d.hash,y=d.context,v=d.forgedBytes,m=d.opResponse,[2,new Ts(g,r,h,v,m,y)]}}))}))},e}(as),Ps=function(){function t(t,e){this.context=t,this.estimator=e}return t.prototype.batch=function(t){var e=new Ns(this.context,this.estimator);return Array.isArray(t)&&e.with(t),e},t}(),Rs=function(t){function e(e,r,n,i,o,s){var a=t.call(this,e,i,o,s)||this;return a.params=r,a.source=n,a}return So(e,t),Object.defineProperty(e.prototype,"operationResults",{get:function(){var t=Array.isArray(this.results)&&this.results.find((function(t){return"delegation"===t.kind}));return t&&t.metadata&&t.metadata.operation_result||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){var t=this.operationResults;return t?t.status:"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delegate",{get:function(){return this.delegate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRegisterOperation",{get:function(){return this.delegate===this.source},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fee",{get:function(){return this.params.fee},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gasLimit",{get:function(){return this.params.gas_limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageLimit",{get:function(){return this.params.storage_limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"consumedGas",{get:function(){return this.operationResults&&this.operationResults.consumed_gas||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.operationResults&&this.operationResults.errors},enumerable:!1,configurable:!0}),e}(us),Is=function(t){function e(e,r,n,i,o,s){var a=t.call(this,e,n,i,o)||this;a.params=r,a.contractProvider=s;var u=a.operationResults&&a.operationResults.originated_contracts;return Array.isArray(u)&&(a.contractAddress=u[0]),a}return So(e,t),Object.defineProperty(e.prototype,"status",{get:function(){var t=this.operationResults;return t?t.status:"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"operationResults",{get:function(){var t=Array.isArray(this.results)&&this.results.find((function(t){return"origination"===t.kind}));return t&&Yo(t)&&t.metadata.operation_result||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fee",{get:function(){return this.params.fee},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gasLimit",{get:function(){return this.params.gas_limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageLimit",{get:function(){return this.params.storage_limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"consumedGas",{get:function(){return this.operationResults&&this.operationResults.consumed_gas||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageDiff",{get:function(){return this.operationResults&&this.operationResults.paid_storage_size_diff||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageSize",{get:function(){return this.operationResults&&this.operationResults.storage_size||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.operationResults&&this.operationResults.errors},enumerable:!1,configurable:!0}),e.prototype.contract=function(t,e,r){return No(this,void 0,void 0,(function(){return Po(this,(function(n){switch(n.label){case 0:if(!this.contractAddress)throw new Error("No contract was originated in this operation");return[4,this.confirmation(t,e,r)];case 1:return n.sent(),[2,this.contractProvider.at(this.contractAddress)]}}))}))},e}(us),ks=function(t){function e(e,r,n,i,o,s){var a=t.call(this,e,i,o,s)||this;return a.params=r,a.source=n,a}return So(e,t),Object.defineProperty(e.prototype,"operationResults",{get:function(){var t=Array.isArray(this.results)&&this.results.find((function(t){return"transaction"===t.kind}));return t?[t]:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){var t=this.operationResults[0];return t?t.metadata.operation_result.status:"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount",{get:function(){return new(je())(this.params.amount)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"destination",{get:function(){return this.params.destination},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fee",{get:function(){return this.params.fee},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gasLimit",{get:function(){return this.params.gas_limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageLimit",{get:function(){return this.params.storage_limit},enumerable:!1,configurable:!0}),e.prototype.sumProp=function(t,e){return t.reduce((function(t,r){return e in r?Number(r[e])+t:t}),0)},Object.defineProperty(e.prototype,"consumedGas",{get:function(){return String(this.sumProp(Jo({contents:this.operationResults}),"consumed_gas"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageDiff",{get:function(){return String(this.sumProp(Jo({contents:this.operationResults}),"paid_storage_size_diff"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageSize",{get:function(){return String(this.sumProp(Jo({contents:this.operationResults}),"storage_size"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return Zo({contents:this.operationResults})},enumerable:!1,configurable:!0}),e}(us),Ls=function(){function t(t,e){this.walletProvider=t,this.context=e,this.operations=[]}return t.prototype.withTransfer=function(t){return this.operations.push(To({kind:f.TRANSACTION},t)),this},t.prototype.withContractCall=function(t){return this.withTransfer(t.toTransferParams())},t.prototype.withDelegation=function(t){return this.operations.push(To({kind:f.DELEGATION},t)),this},t.prototype.withOrigination=function(t){return this.operations.push(To({kind:f.ORIGINATION},t)),this},t.prototype.mapOperation=function(t){return No(this,void 0,void 0,(function(){var e,r;return Po(this,(function(n){switch(n.label){case 0:switch(t.kind){case f.TRANSACTION:return[3,1];case f.ORIGINATION:return[3,2];case f.DELEGATION:return[3,4]}return[3,5];case 1:return[2,this.walletProvider.mapTransferParamsToWalletParams(To({},t))];case 2:return r=(e=this.walletProvider).mapOriginateParamsToWalletParams,[4,this.context.parser.prepareCodeOrigination(To({},t))];case 3:return[2,r.apply(e,[n.sent()])];case 4:return[2,this.walletProvider.mapDelegateParamsToWalletParams(To({},t))];case 5:throw new Error("Unsupported operation kind: "+t.kind)}}))}))},t.prototype.with=function(t){var e,r;try{for(var n=Ro(t),i=n.next();!i.done;i=n.next()){var o=i.value;switch(o.kind){case f.TRANSACTION:this.withTransfer(o);break;case f.ORIGINATION:this.withOrigination(o);break;case f.DELEGATION:this.withDelegation(o);break;default:throw new Error("Unsupported operation kind: "+o.kind)}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},t.prototype.send=function(){return No(this,void 0,void 0,(function(){var t,e,r,n,i,o,s,a,u,c;return Po(this,(function(l){switch(l.label){case 0:t=[],l.label=1;case 1:l.trys.push([1,6,7,8]),e=Ro(this.operations),r=e.next(),l.label=2;case 2:return r.done?[3,5]:(n=r.value,o=(i=t).push,[4,this.mapOperation(n)]);case 3:o.apply(i,[l.sent()]),l.label=4;case 4:return r=e.next(),[3,2];case 5:return[3,8];case 6:return s=l.sent(),u={error:s},[3,8];case 7:try{r&&!r.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}return[7];case 8:return[4,this.walletProvider.sendOperations(t)];case 9:return a=l.sent(),[2,this.context.operationFactory.createOperation(a)]}}))}))},t}(),Cs=function(){function t(t){this.context=t,this.walletCommand=function(t){return{send:t}}}return Object.defineProperty(t.prototype,"walletProvider",{get:function(){return this.context.walletProvider},enumerable:!1,configurable:!0}),t.prototype.pkh=function(t){var e=(void 0===t?{}:t).forceRefetch;return No(this,void 0,void 0,(function(){var t;return Po(this,(function(r){switch(r.label){case 0:return this._pkh&&!e?[3,2]:(t=this,[4,this.walletProvider.getPKH()]);case 1:t._pkh=r.sent(),r.label=2;case 2:return[2,this._pkh]}}))}))},t.prototype.originate=function(t){var e=this;return this.walletCommand((function(){return No(e,void 0,void 0,(function(){var e,r,n,i,o;return Po(this,(function(s){switch(s.label){case 0:return n=(r=this.walletProvider).mapOriginateParamsToWalletParams,[4,this.context.parser.prepareCodeOrigination(To({},t))];case 1:return[4,n.apply(r,[s.sent()])];case 2:return e=s.sent(),[4,this.walletProvider.sendOperations([e])];case 3:return i=s.sent(),this.context.proto?[3,5]:(o=this.context,[4,this.context.rpc.getBlock()]);case 4:o.proto=s.sent().protocol,s.label=5;case 5:return[2,this.context.operationFactory.createOriginationOperation(i)]}}))}))}))},t.prototype.setDelegate=function(t){var e=this;return this.walletCommand((function(){return No(e,void 0,void 0,(function(){var e,r;return Po(this,(function(n){switch(n.label){case 0:return[4,this.walletProvider.mapDelegateParamsToWalletParams(To({},t))];case 1:return e=n.sent(),[4,this.walletProvider.sendOperations([e])];case 2:return r=n.sent(),[2,this.context.operationFactory.createDelegationOperation(r)]}}))}))}))},t.prototype.registerDelegate=function(){var t=this;return this.walletCommand((function(){return No(t,void 0,void 0,(function(){var t,e,r,n,i;return Po(this,(function(o){switch(o.label){case 0:return r=(e=this.walletProvider).mapDelegateParamsToWalletParams,i={},[4,this.pkh()];case 1:return[4,r.apply(e,[(i.delegate=o.sent(),i)])];case 2:return t=o.sent(),[4,this.walletProvider.sendOperations([t])];case 3:return n=o.sent(),[2,this.context.operationFactory.createDelegationOperation(n)]}}))}))}))},t.prototype.transfer=function(t){var e=this;return this.walletCommand((function(){return No(e,void 0,void 0,(function(){var e,r;return Po(this,(function(n){switch(n.label){case 0:return[4,this.walletProvider.mapTransferParamsToWalletParams(t)];case 1:return e=n.sent(),[4,this.walletProvider.sendOperations([e])];case 2:return r=n.sent(),[2,this.context.operationFactory.createTransactionOperation(r)]}}))}))}))},t.prototype.batch=function(t){var e=new Ls(this.walletProvider,this.context);return Array.isArray(t)&&e.with(t),e},t.prototype.at=function(t,e){return void 0===e&&(e=function(t){return t}),No(this,void 0,void 0,(function(){var r,n,i,o,s;return Po(this,(function(a){switch(a.label){case 0:return[4,this.context.rpc.getScript(t)];case 1:return r=a.sent(),[4,this.context.rpc.getEntrypoints(t)];case 2:return n=a.sent(),[4,this.context.rpc.getBlockHeader()];case 3:return i=a.sent(),o=i.chain_id,s=new Fs(t,r,this,this.context.contract,n,o),[2,e(s,this.context)]}}))}))},t}(),Ds=function(){function t(t){this.context=t}return t.prototype.getPKH=function(){return No(this,void 0,void 0,(function(){return Po(this,(function(t){return[2,this.context.signer.publicKeyHash()]}))}))},t.prototype.mapTransferParamsToWalletParams=function(t){return No(this,void 0,void 0,(function(){return Po(this,(function(e){return[2,Vo(t,f.TRANSACTION)]}))}))},t.prototype.mapOriginateParamsToWalletParams=function(t){return No(this,void 0,void 0,(function(){return Po(this,(function(e){return[2,Vo(t,f.ORIGINATION)]}))}))},t.prototype.mapDelegateParamsToWalletParams=function(t){return No(this,void 0,void 0,(function(){return Po(this,(function(e){return[2,Vo(t,f.DELEGATION)]}))}))},t.prototype.sendOperations=function(t){return No(this,void 0,void 0,(function(){return Po(this,(function(e){switch(e.label){case 0:return[4,this.context.batch.batch(t).send()];case 1:return[2,e.sent().hash]}}))}))},t}(),Us=function(){function t(t,e,r,n){void 0===r&&(r="default"),void 0===n&&(n={prim:"Unit"}),this.lambdaContract=t,this.viewContract=e,this.viewMethod=r,this.contractParameter=n,this.voidLambda=this.createVoidLambda()}return t.prototype.execute=function(){return No(this,void 0,void 0,(function(){var t;return Po(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.lambdaContract.methods.default(this.voidLambda).send()];case 1:return e.sent(),[3,3];case 2:if((t=e.sent())instanceof $o)return[2,t.errors[t.errors.length-1].with];throw t;case 3:return[2]}}))}))},t.prototype.createVoidLambda=function(){var t=Io(this.getView(),2),e=t[0],r=t[1],n=[{prim:"pair",args:[e,{prim:"contract",args:[r]}]}];return"default"===this.viewMethod&&(n=[{string:"%default"}].concat(n)),[{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]},{prim:"NONE",args:[{prim:"key_hash"}]},{prim:"CREATE_CONTRACT",args:[[{prim:"parameter",args:[r]},{prim:"storage",args:[{prim:"unit"}]},{prim:"code",args:[[{prim:"CAR"},{prim:"FAILWITH"}]]}]]},{prim:"DIP",args:[[{prim:"DIP",args:[[{prim:"LAMBDA",args:[{prim:"pair",args:[{prim:"address"},{prim:"unit"}]},{prim:"pair",args:[{prim:"list",args:[{prim:"operation"}]},{prim:"unit"}]},[{prim:"CAR"},{prim:"CONTRACT",args:[r]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"Callback type unmatched"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[e,this.contractParameter]},{prim:"PAIR"},{prim:"DIP",args:[[{prim:"PUSH",args:[{prim:"address"},{string:this.viewContract.address+"%"+this.viewMethod}]},{prim:"DUP"},{prim:"CONTRACT",args:n},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"Contract does not exist"}]},{prim:"FAILWITH"}],[{prim:"DIP",args:[[{prim:"DROP"}]]}]]},{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]}]]},{prim:"TRANSFER_TOKENS"},{prim:"DIP",args:[[{prim:"NIL",args:[{prim:"operation"}]}]]},{prim:"CONS"},{prim:"DIP",args:[[{prim:"UNIT"}]]},{prim:"PAIR"}]]}]]},{prim:"APPLY"},{prim:"DIP",args:[[{prim:"PUSH",args:[{prim:"address"},{string:this.lambdaContract.address}]},{prim:"DUP"},{prim:"CONTRACT",args:[{prim:"lambda",args:[{prim:"unit"},{prim:"pair",args:[{prim:"list",args:[{prim:"operation"}]},{prim:"unit"}]}]}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"Contract does not exists"}]},{prim:"FAILWITH"}],[{prim:"DIP",args:[[{prim:"DROP"}]]}]]},{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]}]]},{prim:"TRANSFER_TOKENS"},{prim:"DIP",args:[[{prim:"NIL",args:[{prim:"operation"}]}]]},{prim:"CONS"}]]},{prim:"CONS"},{prim:"DIP",args:[[{prim:"UNIT"}]]},{prim:"PAIR"}]},t.prototype.getView=function(){var t=this.viewContract.entrypoints.entrypoints[this.viewMethod];if(!t)throw Error("Contract at "+this.viewContract.address+" does not have entrypoint: "+this.viewMethod);if(!("prim"in t)||!t.args)throw Error("Entrypoint args undefined");var e,r=Array.from(t.args),n=Io(r,2),i=n[0],o=n[1];if("annots"in i&&delete i.annots,!("prim"in o)||!o.args)throw Error("Callback contract args undefined");if("pair"!==t.prim?e="Expected {'prim': 'pair', ..} but found {'prim': "+t.prim+", ..}":2!==r.length?e="Expected an Array of length 2, but found: "+r:"contract"!==o.prim?e="Expected a {prim: 'contract', ...}, but found: "+o.prim:o.args&&1!==o.args.length&&(e="Expected a single argument to 'contract', but found: "+o.args),e)throw Error(e);return[i,o.args[0]]},t}(),Ms="default",js=function(){function t(t,e,r,n,i,o,s){void 0===o&&(o=!0),void 0===s&&(s=!1),this.provider=t,this.address=e,this.parameterSchema=r,this.name=n,this.args=i,this.isMultipleEntrypoint=o,this.isAnonymous=s}return Object.defineProperty(t.prototype,"schema",{get:function(){return this.isAnonymous?this.parameterSchema.ExtractSchema()[this.name]:this.parameterSchema.ExtractSchema()},enumerable:!1,configurable:!0}),t.prototype.send=function(t){return void 0===t&&(t={}),this.provider instanceof Cs?this.provider.transfer(this.toTransferParams(t)).send():this.provider.transfer(this.toTransferParams(t))},t.prototype.toTransferParams=function(t){var e,r,n=void 0===t?{}:t,i=n.fee,o=n.gasLimit,s=n.storageLimit,a=n.source,u=n.amount,c=void 0===u?0:u,l=n.mutez,h=void 0!==l&&l;return{to:this.address,amount:c,fee:i,mutez:h,source:a,gasLimit:o,storageLimit:s,parameter:{entrypoint:this.isMultipleEntrypoint?this.name:"default",value:this.isAnonymous?(e=this.parameterSchema).Encode.apply(e,ko([this.name],this.args)):(r=this.parameterSchema).Encode.apply(r,ko(this.args))}}},t}(),Bs=function(){function t(t,e,r,n,i,o,s){this.currentContract=t,this.provider=e,this.name=r,this.chainId=n,this.callbackParametersSchema=i,this.parameterSchema=o,this.args=s}return t.prototype.read=function(t){return No(this,void 0,void 0,(function(){var e,r,n,i,o;return Po(this,(function(s){switch(s.label){case 0:if(t)e=t;else if(this.chainId===jo.CARTHAGENET)e=Mo.CARTHAGENET;else if(this.chainId===jo.DELPHINET)e=Mo.DELPHINET;else if(this.chainId===jo.EDONET)e=Mo.EDONET;else if(this.chainId===jo.FLORENCENET)e=Mo.FLORENCENET;else{if(this.chainId!==jo.MAINNET)throw new ys;e=Mo.MAINNET}return[4,this.provider.at(e)];case 1:return r=s.sent(),n=(o=this.parameterSchema).Encode.apply(o,ko(this.args)),[4,new Us(r,this.currentContract,this.name,n).execute()];case 2:return i=s.sent(),[2,this.callbackParametersSchema.Execute(i)]}}))}))},t}(),Hs=function(t,e,r){var n=e.ExtractSignatures();if(!n.find((function(e){return e.length===t.length})))throw new gs(r,n,t)},Fs=function(){function t(t,e,r,n,i,o){this.address=t,this.script=e,this.storageProvider=n,this.entrypoints=i,this.chainId=o,this.methods={},this.views={},this.schema=vn.fromRPCResponse({script:this.script}),this.parameterSchema=mn.fromRPCResponse({script:this.script}),this._initializeMethods(this,t,r,this.entrypoints.entrypoints,this.chainId)}return t.prototype._initializeMethods=function(t,e,r,n,i){var o=this,s=this.parameterSchema,a=Object.keys(n);if(s.isMultipleEntryPoint)a.forEach((function(s){var a,u,c=new mn(n[s]);o.methods[s]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Hs(t,c,s),new js(r,e,c,s,t)},void 0!==r.contractProviderTypeSymbol&&(a=!1,"contract"===(u=c.ExtractSignatures())[0][u[0].length-1]&&(a=!0),a)&&(o.views[s]=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var a=n[s].args[0],u=new mn(a),c=n[s].args[1].args[0],l=new mn(c);return Hs(e,u,s),new Bs(t,r,s,i,l,u,e)})})),Object.keys(s.ExtractSchema()).filter((function(t){return-1===Object.keys(n).indexOf(t)})).forEach((function(t){o.methods[t]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Hs(ko([t],n),s,t),new js(r,e,s,t,n,!1,!0)}}));else{var u=this.parameterSchema;this.methods.default=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Hs(t,s,Ms),new js(r,e,u,Ms,t,!1)}}},t.prototype.storage=function(){return this.storageProvider.getStorage(this.address,this.schema)},t.prototype.bigMap=function(t){return this.storageProvider.getBigMapKey(this.address,t,this.schema)},t}(),Gs=function(){function e(t,e,r){this.id=t,this.schema=e,this.provider=r}return e.prototype.get=function(e,r){return No(this,void 0,void 0,(function(){var i;return Po(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.provider.getBigMapKeyByID(this.id.toString(),e,this.schema,r)];case 1:return[2,o.sent()];case 2:if((i=o.sent())instanceof n&&i.status===t.NOT_FOUND)return[2,void 0];throw i;case 3:return[2]}}))}))},e.prototype.getMultipleValues=function(t,e){return No(this,void 0,void 0,(function(){return Po(this,(function(r){return[2,this.provider.getBigMapKeysByID(this.id.toString(),t,this.schema,e)]}))}))},e.prototype.toJSON=function(){return this.id.toString()},e.prototype.toString=function(){return this.id.toString()},e}(),Vs=function(t){return{big_map:function(e,r){if(e&&"int"in e&&void 0!==e.int){var n=new vn(r);return new Gs(new(je())(e.int),n,t)}return{}}}},Ks=function(e){function r(t,r){var n=e.call(this,t)||this;return n.estimator=r,n.contractProviderTypeSymbol=Symbol.for("taquito--provider-type-symbol"),n}return So(r,e),r.prototype.getStorage=function(t,e){return No(this,void 0,void 0,(function(){var r,n;return Po(this,(function(i){switch(i.label){case 0:return e?[3,2]:[4,this.rpc.getScript(t)];case 1:e=i.sent(),i.label=2;case 2:return r=vn.isSchema(e)?e:vn.fromRPCResponse({script:e}),[4,this.rpc.getStorage(t)];case 3:return n=i.sent(),[2,r.Execute(n,Vs(this))]}}))}))},r.prototype.getBigMapKey=function(t,e,r){return No(this,void 0,void 0,(function(){var n,i,o;return Po(this,(function(s){switch(s.label){case 0:return r?[3,2]:[4,this.rpc.getScript(t)];case 1:r=s.sent(),s.label=2;case 2:return n=vn.isSchema(r)?r:vn.fromRPCResponse({script:r}),i=n.EncodeBigMapKey(e),[4,this.rpc.getBigMapKey(t,i)];case 3:return o=s.sent(),[2,n.ExecuteOnBigMapValue(o)]}}))}))},r.prototype.getBigMapKeyByID=function(t,e,r,n){return No(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Po(this,(function(l){switch(l.label){case 0:return i=r.EncodeBigMapKey(e),o=i.key,s=i.type,[4,this.context.packer.packData({data:o,type:s})];case 1:return h=l.sent().packed,a=nr(er.blake2b(new Uint8Array(h.match(/[\da-f]{2}/gi).map((function(t){return parseInt(t,16)}))),null,32),Ke.expr),n?[4,this.context.rpc.getBigMapExpr(t.toString(),a,{block:String(n)})]:[3,3];case 2:return c=l.sent(),[3,5];case 3:return[4,this.context.rpc.getBigMapExpr(t.toString(),a)];case 4:c=l.sent(),l.label=5;case 5:return u=c,[2,r.ExecuteOnBigMapValue(u,Vs(this))]}var h}))}))},r.prototype.getBigMapKeysByID=function(e,r,i,o){return No(this,void 0,void 0,(function(){var s,a,u,c,l,h,f,p,d,g,y,v,m,b,w=this;return Po(this,(function(_){switch(_.label){case 0:if(s=Object(((v={})[r[0]]=void 0,v)),1!==r.length)return[3,5];a=void 0,_.label=1;case 1:return _.trys.push([1,3,,4]),[4,this.getBigMapKeyByID(e,r[0],i,o)];case 2:return a=_.sent(),[3,4];case 3:if(!((u=_.sent())instanceof n&&u.status===t.NOT_FOUND))throw u;return a=void 0,[3,4];case 4:return Object.assign(s,((m={})[r[0]]=a,m)),[3,12];case 5:return o?(c=o,[3,8]):[3,6];case 6:return[4,this.context.rpc.getBlock()];case 7:l=_.sent().header,c=l.level,_.label=8;case 8:h=5,f=0,p=[],_.label=9;case 9:return f<r.length?(d=r.slice(f,f+h),g=[p],[4,Promise.all(d.map((function(r){return No(w,void 0,void 0,(function(){var o;return Po(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.getBigMapKeyByID(e,r,i,c)];case 1:return[2,s.sent()];case 2:if(!((o=s.sent())instanceof n&&o.status===t.NOT_FOUND))throw o;return r=void 0,[3,3];case 3:return[2]}}))}))})))]):[3,11];case 10:return p=ko.apply(void 0,g.concat([_.sent()])),f+=h,[3,9];case 11:for(y=0;y<p.length;y++)Object.assign(s,((b={})[r[y]]=p[y],b));_.label=12;case 12:return[2,s]}}))}))},r.prototype.originate=function(t){return No(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c,l,h;return Po(this,(function(f){switch(f.label){case 0:return[4,this.estimate(t,this.estimator.originate.bind(this.estimator))];case 1:return e=f.sent(),[4,this.signer.publicKeyHash()];case 2:return r=f.sent(),i=ws,[4,this.context.parser.prepareCodeOrigination(To(To({},t),e))];case 3:return[4,i.apply(void 0,[f.sent()])];case 4:return n=f.sent(),[4,this.prepareOperation({operation:n,source:r})];case 5:return o=f.sent(),[4,this.forge(o)];case 6:return s=f.sent(),[4,this.signAndInject(s)];case 7:return a=f.sent(),u=a.hash,c=a.context,l=a.forgedBytes,h=a.opResponse,[2,new Is(u,n,l,h,c,this)]}}))}))},r.prototype.setDelegate=function(t){return No(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c,l;return Po(this,(function(h){switch(h.label){case 0:if(/kt1/i.test(t.source))throw new vs(t.source);return[4,this.estimate(t,this.estimator.setDelegate.bind(this.estimator))];case 1:return e=h.sent(),[4,Es(To(To({},t),e))];case 2:return r=h.sent(),(i=t.source)?[3,4]:[4,this.signer.publicKeyHash()];case 3:i=h.sent(),h.label=4;case 4:return n=i,[4,this.prepareAndForge({operation:r,source:n})];case 5:return o=h.sent(),[4,this.signAndInject(o)];case 6:return s=h.sent(),a=s.hash,u=s.context,c=s.forgedBytes,l=s.opResponse,[2,new Rs(a,r,n,c,l,u)]}}))}))},r.prototype.registerDelegate=function(t){return No(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c;return Po(this,(function(l){switch(l.label){case 0:return[4,this.estimate(t,this.estimator.registerDelegate.bind(this.estimator))];case 1:return e=l.sent(),[4,this.signer.publicKeyHash()];case 2:return r=l.sent(),[4,Os(To(To({},t),e),r)];case 3:return n=l.sent(),[4,this.prepareAndForge({operation:n})];case 4:return i=l.sent(),[4,this.signAndInject(i)];case 5:return o=l.sent(),s=o.hash,a=o.context,u=o.forgedBytes,c=o.opResponse,[2,new Rs(s,n,r,u,c,a)]}}))}))},r.prototype.transfer=function(t){return No(this,void 0,void 0,(function(){var e,r,n,i,o,s,a,u,c,l;return Po(this,(function(h){switch(h.label){case 0:return[4,this.estimate(t,this.estimator.transfer.bind(this.estimator))];case 1:return e=h.sent(),[4,_s(To(To({},t),e))];case 2:return r=h.sent(),(i=t.source)?[3,4]:[4,this.signer.publicKeyHash()];case 3:i=h.sent(),h.label=4;case 4:return n=i,[4,this.prepareAndForge({operation:r,source:t.source})];case 5:return o=h.sent(),[4,this.signAndInject(o)];case 6:return s=h.sent(),a=s.hash,u=s.context,c=s.forgedBytes,l=s.opResponse,[2,new ks(a,r,n,c,l,u)]}}))}))},r.prototype.at=function(t,e){return void 0===e&&(e=function(t){return t}),No(this,void 0,void 0,(function(){var r,n,i,o,s;return Po(this,(function(a){switch(a.label){case 0:return[4,this.rpc.getScript(t)];case 1:return r=a.sent(),[4,this.rpc.getEntrypoints(t)];case 2:return n=a.sent(),[4,this.rpc.getBlockHeader()];case 3:return i=a.sent(),o=i.chain_id,s=new Fs(t,r,this,this,n,o),[2,e(s,this.context)]}}))}))},r.prototype.batch=function(t){var e=new Ns(this.context,this.estimator);return Array.isArray(t)&&e.with(t),e},r}(as),qs=function(){function t(t){this.context=t}return t.prototype.getNextProto=function(){return No(this,void 0,void 0,(function(){return Po(this,(function(t){switch(t.label){case 0:return[4,this.context.rpc.getBlockMetadata()];case 1:return[2,t.sent().next_protocol]}}))}))},t.prototype.parseScript=function(t){return No(this,void 0,void 0,(function(){var e,r;return Po(this,(function(n){switch(n.label){case 0:return e=si.bind,r={},[4,this.getNextProto()];case 1:return[2,(new(e.apply(si,[void 0,(r.protocol=n.sent(),r)]))).parseScript(t)]}}))}))},t.prototype.parseMichelineExpression=function(t){return No(this,void 0,void 0,(function(){var e,r;return Po(this,(function(n){switch(n.label){case 0:return e=si.bind,r={},[4,this.getNextProto()];case 1:return[2,(new(e.apply(si,[void 0,(r.protocol=n.sent(),r)]))).parseMichelineExpression(t)]}}))}))},t.prototype.parseJSON=function(t){return No(this,void 0,void 0,(function(){var e,r;return Po(this,(function(n){switch(n.label){case 0:return e=si.bind,r={},[4,this.getNextProto()];case 1:return[2,(new(e.apply(si,[void 0,(r.protocol=n.sent(),r)]))).parseJSON(t)]}}))}))},t.prototype.prepareCodeOrigination=function(t){return No(this,void 0,void 0,(function(){var e,r,n;return Po(this,(function(i){switch(i.label){case 0:return r=e=t,[4,this.formatCodeParam(t.code)];case 1:return r.code=i.sent(),t.init?(n=e,[4,this.formatInitParam(t.init)]):[3,3];case 2:n.init=i.sent(),i.label=3;case 3:return[2,e]}}))}))},t.prototype.formatCodeParam=function(t){return No(this,void 0,void 0,(function(){var e,r,n;return Po(this,(function(i){switch(i.label){case 0:return"string"!=typeof t?[3,2]:[4,this.parseScript(t)];case 1:if(null===(r=i.sent()))throw new ms("Invalid code parameter",t);return e=r,[3,4];case 2:return[4,this.parseJSON(t)];case 3:r=i.sent(),n=["parameter","storage","code"],e=r.sort((function(t,e){return n.indexOf(t.prim)-n.indexOf(e.prim)})),i.label=4;case 4:return[2,e]}}))}))},t.prototype.formatInitParam=function(t){return No(this,void 0,void 0,(function(){var e,r;return Po(this,(function(n){switch(n.label){case 0:return"string"!=typeof t?[3,2]:[4,this.parseMichelineExpression(t)];case 1:if(null===(r=n.sent()))throw new bs("Invalid init parameter",t);return e=r,[3,4];case 2:return[4,this.parseJSON(t)];case 3:e=n.sent(),n.label=4;case 4:return[2,e]}}))}))},t}(),zs=function(){function t(t){this.context=t}return t.prototype.packData=function(t){return No(this,void 0,void 0,(function(){return Po(this,(function(e){return[2,this.context.rpc.packData(t)]}))}))},t}(),Ws={defaultConfirmationCount:1,confirmationPollingTimeoutSecond:180,shouldObservableSubscriptionRetry:!1,observableSubscriptionRetries:10,observableSubscriptionRetryDelay:1e3},Ys=function(){function t(t,e,r,n,i,o,s,a,u){void 0===e&&(e=new Go),this._rpc=t,this._signer=e,this._proto=r,this._config=n,this.tz=new cs(this),this.estimate=new Ss(this),this.contract=new Ks(this,this.estimate),this.batch=new Ps(this,this.estimate),this.wallet=new Cs(this),"string"==typeof this._rpc?this._rpcClient=new m(this._rpc):this._rpcClient=this._rpc,this.config=n,this._forger=i||new Bo(this),this._injector=o||new Ho(this),this.operationFactory=new ss(this),this._walletProvider=a||new Ds(this),this._parser=u||new qs(this),this._packer=s||new zs(this)}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},set:function(t){this._config=To(To({},Ws),t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rpc",{get:function(){return this._rpcClient},set:function(t){this._rpcClient=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},set:function(t){this._injector=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forger",{get:function(){return this._forger},set:function(t){this._forger=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signer",{get:function(){return this._signer},set:function(t){this._signer=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"walletProvider",{get:function(){return this._walletProvider},set:function(t){this._walletProvider=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"proto",{get:function(){return this._proto},set:function(t){this._proto=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser},set:function(t){this._parser=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packer",{get:function(){return this._packer},set:function(t){this._packer=t},enumerable:!1,configurable:!0}),t.prototype.isAnyProtocolActive=function(t){return void 0===t&&(t=[]),No(this,void 0,void 0,(function(){var e;return Po(this,(function(r){switch(r.label){case 0:return this._proto?[2,t.includes(this._proto)]:[3,1];case 1:return[4,this.rpc.getBlockMetadata()];case 2:return e=r.sent().next_protocol,[2,t.includes(e)]}}))}))},t.prototype.getConfirmationPollingInterval=function(){return No(this,void 0,void 0,(function(){var t,e;return Po(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.rpc.getConstants()];case 1:return t=r.sent(),e=(e=je().sum(t.time_between_blocks[0],new(je())(t.delay_per_missing_endorsement).multipliedBy(Math.max(0,t.initial_endorsers-t.endorsers_per_block)))).dividedBy(3),this.config.confirmationPollingIntervalSecond=e.toNumber(),[2,this.config.confirmationPollingIntervalSecond];case 2:return r.sent(),[2,10];case 3:return[2]}}))}))},t.prototype.clone=function(){return new t(this.rpc,this.signer,this.proto,this.config,this.forger,this._injector,this.packer)},t}(),$s=function(t,e){var r=[];return Array.isArray(e)?r.push.apply(r,ko(e)):r.push(e),r.every((function(e){return"and"in e||"or"in e?function(t,e){if(Array.isArray(e.and))return e.and.every((function(e){return $s(t,e)}));if(Array.isArray(e.or))return e.or.some((function(e){return $s(t,e)}));throw new Error("Filter expression must contains either and/or property")}(t,e):function(t,e){return"opHash"in e?function(t,e){return t.hash===e.opHash}(t,e):"source"in e?function(t,e){switch(t.kind){case"endorsement":return"metadata"in t&&t.metadata.delegate===e.source;case"activate_account":return"metadata"in t&&t.pkh===e.source;default:return"source"in t&&t.source===e.source}}(t,e):"kind"in e?function(t,e){return"kind"in t&&t.kind===e.kind}(t,e):"destination"in e&&function(t,e){switch(t.kind){case"delegation":return t.delegate===e.destination;case"origination":if("metadata"in t&&"operation_result"in t.metadata&&"originated_contracts"in t.metadata.operation_result&&Array.isArray(t.metadata.operation_result.originated_contracts))return t.metadata.operation_result.originated_contracts.some((function(t){return t===e.destination}));break;case"transaction":return t.destination===e.destination;default:return!1}}(t,e)}(t,e)}))},Xs=function(){function t(t,e,r,n){var i,o,s=this;void 0===e&&(e=!1),void 0===r&&(r=10),void 0===n&&(n=1e3),this.shouldRetry=e,this.retries=r,this.delayInMS=n,this.errorListeners=[],this.messageListeners=[],this.closeListeners=[],this.completed$=new G,t.pipe((o=this.completed$,function(t){return t.lift(new we(o))}),Ht((function(t){s.call(s.messageListeners,t)}),(function(t){s.call(s.errorListeners,t)}),(function(){s.call(s.closeListeners)})),this.shouldRetry?function(t){return function(e){return e.lift(new Ee(t,e))}}((function(t){return t.pipe($t(r))})):Ht(),(i=function(){return Tt(n)},function(t){var e=new Ae(i),r=t.lift(e);return e.caught=r})).subscribe()}return t.prototype.call=function(t,e){var r,n;try{for(var i=Ro(t),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(e)}catch(t){console.error(t)}}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.remove=function(t,e){var r=t.indexOf(e);-1!==r&&t.splice(r,1)},t.prototype.on=function(t,e){switch(t){case"data":this.messageListeners.push(e);break;case"error":this.errorListeners.push(e);break;case"close":this.closeListeners.push(e);break;default:throw new Error("Trying to register on an unsupported event: "+t)}},t.prototype.off=function(t,e){switch(t){case"data":this.remove(this.messageListeners,e);break;case"error":this.remove(this.errorListeners,e);break;case"close":this.remove(this.closeListeners,e);break;default:throw new Error("Trying to unregister on an unsupported event: "+t)}},t.prototype.close=function(){this.completed$.next()},t}(),Js=function(t){return Et(t.rpc.getBlock()).pipe(oe())},Zs=function(){function t(t,e,r,n){var i=this;void 0===e&&(e=2e4),void 0===r&&(r=10),void 0===n&&(n=1e3),this.context=t,this.POLL_INTERVAL=e,this.retries=r,this.delayInMS=n,this.newBlock$=Tt(0,this.POLL_INTERVAL).pipe(Nt((function(){return i.context})),he(Js),de("hash"),function(t,e,r,n){r&&"function"!=typeof r&&(n=r);var i="function"==typeof r?r:void 0,o=new ut(t,e,n);return function(t){return function(t,e){return function(r){var n;if(n=t,"function"==typeof e)return r.lift(new ke(n,e));var i=Object.create(r,Re);return i.source=r,i.subjectFactory=n,i}}((function(){return o}),i)(t)}}(),Te())}return t.prototype.subscribe=function(t){return new Xs(this.newBlock$.pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return Nt(Le(t,r))(e)}}("hash")),this.context.config.shouldObservableSubscriptionRetry,this.context.config.observableSubscriptionRetries,this.context.config.observableSubscriptionRetryDelay)},t.prototype.subscribeOperation=function(t){return new Xs(this.newBlock$.pipe(function(t){return ve((function(e){return new M((function(r){var n,i,o,s,a,u;try{for(var c=Ro(e.operations),l=c.next();!l.done;l=c.next()){var h=l.value;try{for(var f=(o=void 0,Ro(h)),p=f.next();!p.done;p=f.next()){var d=p.value;try{for(var g=(a=void 0,Ro(d.contents)),y=g.next();!y.done;y=g.next()){var v=y.value;$s(To({hash:d.hash},v),t)&&r.next(To({hash:d.hash},v))}}catch(t){a={error:t}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(a)throw a.error}}}}catch(t){o={error:t}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}r.complete()}))}))}(t)),this.context.config.shouldObservableSubscriptionRetry,this.context.config.observableSubscriptionRetries,this.context.config.observableSubscriptionRetryDelay)},t}(),Qs=function(){function t(t){this._rpc=t,this._options={},this.format=fs,"string"==typeof this._rpc?this._rpcClient=new m(this._rpc):this._rpcClient=this._rpc,this._context=new Ys(t),this._wallet=new Cs(this._context),this.setProvider({rpc:this._rpcClient}),this.batch=this._context.batch.batch.bind(this._context.batch)}return t.prototype.setProvider=function(t){var e=t.rpc,r=t.stream,n=t.signer,i=t.protocol,o=t.config,s=t.forger,a=t.wallet,u=t.packer;this.setRpcProvider(e),this.setStreamProvider(r),this.setSignerProvider(n),this.setForgerProvider(s),this.setWalletProvider(a),this.setPackerProvider(u),this._context.proto=i,this._context.config=o},t.prototype.setSignerProvider=function(t){this._options.signer||void 0!==t?void 0!==t&&(this._context.signer=t,this._options.signer=t):(this._context.signer=new Go,this._options.signer=t)},t.prototype.setRpcProvider=function(t){"string"==typeof t?this._rpcClient=new m(t):t instanceof m&&(this._rpcClient=t),this._options.rpc=this._rpcClient,this._context.rpc=this._rpcClient},t.prototype.setForgerProvider=function(t){var e=void 0===t?this.getFactory(Bo)():t;this._options.forger=e,this._context.forger=e},t.prototype.setStreamProvider=function(t){"string"==typeof t?this._stream=new Zs(new Ys(new m(t))):void 0!==t?this._stream=t:void 0===this._options.stream&&(this._stream=this.getFactory(Zs)()),this._options.stream=t},t.prototype.setWalletProvider=function(t){if(this._options.wallet||void 0!==t)void 0!==t&&(this._options.wallet=t,this._context.walletProvider=t);else{var e=this.getFactory(Ds)();this._options.wallet=e,this._context.walletProvider=e}},t.prototype.setPackerProvider=function(t){var e=void 0===t?this.getFactory(zs)():t;this._options.packer=e,this._context.packer=e},Object.defineProperty(t.prototype,"tz",{get:function(){return this._context.tz},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contract",{get:function(){return this._context.contract},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wallet",{get:function(){return this._wallet},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"operation",{get:function(){return this._context.operationFactory},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"estimate",{get:function(){return this._context.estimate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stream",{get:function(){return this._stream},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rpc",{get:function(){return this._context.rpc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signer",{get:function(){return this._context.signer},enumerable:!1,configurable:!0}),t.prototype.addExtension=function(t){t.configureContext(this._context)},t.prototype.getFactory=function(t){var e=this;return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new(t.bind.apply(t,ko([void 0,e._context],r)))}},t}(),ta=r(7290),ea=r.n(ta);function ra(t,e){var r=new(ea())(e);if(function(t){if(!t.isInteger()||t.isNegative())throw new Error("Value is not non-negative natural number")}(r),r.isZero())return new(ea())(0);var n=new(ea())(e).times(997),i=n.times(t.storage.token_pool),o=new(ea())(t.storage.tez_pool).times(1e3).plus(n);return i.idiv(o)}!function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),s=new N(n||[]);return o._invoke=function(t,e,r){var n=h;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw o;return R()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=S(s,r);if(a){if(a===g)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?d:f,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,s),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",g={};function y(){}function v(){}function m(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,o)&&(b=_);var E=m.prototype=y.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,o,s,a){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,a)}))}a(u.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function S(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}return{next:R}}function R(){return{value:e,done:!0}}return v.prototype=E.constructor=m,m.constructor=v,v.displayName=u(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,a,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},O(A.prototype),A.prototype[s]=function(){return this},t.AsyncIterator=A,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new A(c(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},O(E),u(E,a,"Generator"),E[o]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return a.type="throw",a.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}({exports:{}}),function(t){t.NotEnoughBalance="NotEnoughBalance",t.NotEnoughAllowance="NotEnoughAllowance",t.UnsafeAllowanceChange="UnsafeAllowanceChange"}(ps||(ps={})),function(t){t.TokenUndefined="FA2_TOKEN_UNDEFINED",t.InsufficientBalance="FA2_INSUFFICIENT_BALANCE",t.TxDenied="FA2_TX_DENIED",t.NotOwner="FA2_NOT_OWNER",t.NotOperator="FA2_NOT_OPERATOR",t.OperatorsUnsupported="FA2_OPERATORS_UNSUPPORTED",t.ReceiverHookFailed="FA2_RECEIVER_HOOK_FAILED",t.SenderHookFailed="FA2_SENDER_HOOK_FAILED",t.ReceiverHookUndefined="FA2_RECEIVER_HOOK_UNDEFINED",t.SenderHookUndefined="FA2_SENDER_HOOK_UNDEFINED"}(ds||(ds={}));const na=self;let ia,oa,sa,aa,ua=0;const ca=async()=>{const t=await Promise.all(Object.values(aa).map((async(t,e)=>{const r=Object.keys(aa)[e],n=await sa.wallet.at(t.dexContractAddress),i=ra(await n.storage(),1e6).toNumber()/10**t.decimals,o=1/i;return[r,+parseFloat(i.toString()).toFixed(7),+parseFloat(o.toString()).toFixed(7)]})));na.postMessage({type:"exchange-rates",payload:t})},la=async()=>{try{const t=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=tezos&vs_currencies=usd");if(!t)throw"No response from CoinGecko API";{const e=await t.json();ua=+e.tezos.usd,na.postMessage({type:"xtz-fiat-exchange-rate",payload:ua})}}catch(t){return void console.log(t)}};na.addEventListener("message",(async t=>{"init"===t.data.type?await(async t=>{const{tokens:e,rpcUrl:r,network:n}=t;aa=e,sa=new Qs(r),await ca(),ia=setInterval(ca,6e4),await la(),oa=setInterval(la,6e4)})(t.data.payload):"destroy"===t.data.type&&(clearInterval(ia),clearInterval(oa))})),na.postMessage("Quipu worker ready")})()})();